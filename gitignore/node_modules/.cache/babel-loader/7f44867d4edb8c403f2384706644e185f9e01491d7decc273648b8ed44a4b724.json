{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const GESTATION_DAYS=283;const ReproductiveControlPage=_ref=>{let{animals,onUpdateAnimalProduction,onRegisterAnimal,onRegisterReproductiveEvent}=_ref;const[currentSection,setCurrentSection]=useState('montaNatural');const[montaNaturalData,setMontaNaturalData]=useState({vacaId:'',toroId:'',fechaMonta:'',observaciones:''});const[inseminacionData,setInseminacionData]=useState({vacaId:'',semenId:'',fechaInseminacion:'',inseminador:'',observaciones:''});const[gestacionData,setGestacionData]=useState({vacaId:'',fechaDiagnostico:'',resultadoDiagnostico:'',fechaPartoEstimada:'',fechaPartoReal:'',pesoTernero:'',sexoTernero:'',nombreTernero:'',observacionesParto:''});const handleMontaNaturalSubmit=()=>{const{vacaId,toroId,fechaMonta,observaciones}=montaNaturalData;if(!vacaId||!toroId||!fechaMonta)return alert('Completa los campos obligatorios de Monta Natural.');onUpdateAnimalProduction(vacaId,{estadoReproductivo:'preñada',fechaUltimaGestacion:fechaMonta});onRegisterReproductiveEvent({idAnimal:vacaId,tipoEvento:'monta',fechaEvento:fechaMonta,observaciones,estadoPosterior:'preñada',toroId});alert('Monta natural registrada.');setMontaNaturalData({vacaId:'',toroId:'',fechaMonta:'',observaciones:''});};const handleInseminacionSubmit=()=>{const{vacaId,semenId,fechaInseminacion,observaciones}=inseminacionData;if(!vacaId||!semenId||!fechaInseminacion)return alert('Completa los campos obligatorios de Inseminación.');onUpdateAnimalProduction(vacaId,{estadoReproductivo:'preñada',fechaUltimaGestacion:fechaInseminacion});onRegisterReproductiveEvent({idAnimal:vacaId,tipoEvento:'inseminacion',fechaEvento:fechaInseminacion,observaciones,estadoPosterior:'preñada',semenId});alert('Inseminación registrada.');setInseminacionData({vacaId:'',semenId:'',fechaInseminacion:'',inseminador:'',observaciones:''});};const handleGestacionSubmit=()=>{const{vacaId,fechaDiagnostico,resultadoDiagnostico,fechaPartoEstimada,fechaPartoReal,nombreTernero,sexoTernero,observacionesParto}=gestacionData;if(!vacaId||!fechaDiagnostico||!resultadoDiagnostico)return alert('Completa los campos obligatorios de Control de Gestación.');if(resultadoDiagnostico==='positiva'){const estimada=fechaPartoEstimada||new Date(new Date(fechaDiagnostico).setDate(new Date(fechaDiagnostico).getDate()+GESTATION_DAYS)).toISOString().split('T')[0];onUpdateAnimalProduction(vacaId,{estadoReproductivo:'preñada',fechaUltimaGestacion:fechaDiagnostico});onRegisterReproductiveEvent({idAnimal:vacaId,tipoEvento:'gestación positiva',fechaEvento:fechaDiagnostico,estadoPosterior:'preñada',observaciones:\"Parto estimado: \".concat(estimada)});alert('Diagnóstico positivo registrado.');}else if(resultadoDiagnostico==='negativa'){onUpdateAnimalProduction(vacaId,{estadoReproductivo:'vacia'});onRegisterReproductiveEvent({idAnimal:vacaId,tipoEvento:'gestación negativa',fechaEvento:fechaDiagnostico,estadoPosterior:'vacia'});alert('Diagnóstico negativo registrado.');}if(fechaPartoReal){onUpdateAnimalProduction(vacaId,{estadoReproductivo:'producción',fechaUltimoParto:fechaPartoReal});onRegisterReproductiveEvent({idAnimal:vacaId,tipoEvento:'parto',fechaEvento:fechaPartoReal,estadoPosterior:'producción',observaciones:observacionesParto});if(nombreTernero&&sexoTernero){const newTerneroId=\"AN-\".concat(Date.now().toString().slice(-5));const madre=animals.find(a=>a.id===vacaId);onRegisterAnimal({id:newTerneroId,name:nombreTernero,raza:(madre===null||madre===void 0?void 0:madre.raza)||'Desconocida',sexo:sexoTernero,fechaNacimiento:fechaPartoReal,tipoProduccion:(madre===null||madre===void 0?void 0:madre.tipoProduccion)||'Desconocida',padreId:(madre===null||madre===void 0?void 0:madre.toroId)||'',madreId:(madre===null||madre===void 0?void 0:madre.id)||'',status:'desarrollo',dailyMilk:0});alert(\"Ternero \".concat(nombreTernero,\" registrado.\"));}else{alert('Parto registrado. Completa datos del ternero para registrarlo.');}}setGestacionData({vacaId:'',fechaDiagnostico:'',resultadoDiagnostico:'',fechaPartoEstimada:'',fechaPartoReal:'',pesoTernero:'',sexoTernero:'',nombreTernero:'',observacionesParto:''});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Control Reproductivo\"})});};export default ReproductiveControlPage;","map":{"version":3,"names":["React","useState","jsx","_jsx","GESTATION_DAYS","ReproductiveControlPage","_ref","animals","onUpdateAnimalProduction","onRegisterAnimal","onRegisterReproductiveEvent","currentSection","setCurrentSection","montaNaturalData","setMontaNaturalData","vacaId","toroId","fechaMonta","observaciones","inseminacionData","setInseminacionData","semenId","fechaInseminacion","inseminador","gestacionData","setGestacionData","fechaDiagnostico","resultadoDiagnostico","fechaPartoEstimada","fechaPartoReal","pesoTernero","sexoTernero","nombreTernero","observacionesParto","handleMontaNaturalSubmit","alert","estadoReproductivo","fechaUltimaGestacion","idAnimal","tipoEvento","fechaEvento","estadoPosterior","handleInseminacionSubmit","handleGestacionSubmit","estimada","Date","setDate","getDate","toISOString","split","concat","fechaUltimoParto","newTerneroId","now","toString","slice","madre","find","a","id","name","raza","sexo","fechaNacimiento","tipoProduccion","padreId","madreId","status","dailyMilk","className","children"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ReproductiveControlPage.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst GESTATION_DAYS = 283;\n\nconst ReproductiveControlPage = ({ animals, onUpdateAnimalProduction, onRegisterAnimal, onRegisterReproductiveEvent }) => {\n  const [currentSection, setCurrentSection] = useState('montaNatural');\n  const [montaNaturalData, setMontaNaturalData] = useState({ vacaId: '', toroId: '', fechaMonta: '', observaciones: '' });\n  const [inseminacionData, setInseminacionData] = useState({ vacaId: '', semenId: '', fechaInseminacion: '', inseminador: '', observaciones: '' });\n  const [gestacionData, setGestacionData] = useState({ vacaId: '', fechaDiagnostico: '', resultadoDiagnostico: '', fechaPartoEstimada: '', fechaPartoReal: '', pesoTernero: '', sexoTernero: '', nombreTernero: '', observacionesParto: '' });\n\n  const handleMontaNaturalSubmit = () => {\n    const { vacaId, toroId, fechaMonta, observaciones } = montaNaturalData;\n    if (!vacaId || !toroId || !fechaMonta) return alert('Completa los campos obligatorios de Monta Natural.');\n\n    onUpdateAnimalProduction(vacaId, { estadoReproductivo: 'preñada', fechaUltimaGestacion: fechaMonta });\n    onRegisterReproductiveEvent({ idAnimal: vacaId, tipoEvento: 'monta', fechaEvento: fechaMonta, observaciones, estadoPosterior: 'preñada', toroId });\n\n    alert('Monta natural registrada.');\n    setMontaNaturalData({ vacaId: '', toroId: '', fechaMonta: '', observaciones: '' });\n  };\n\n  const handleInseminacionSubmit = () => {\n    const { vacaId, semenId, fechaInseminacion, observaciones } = inseminacionData;\n    if (!vacaId || !semenId || !fechaInseminacion) return alert('Completa los campos obligatorios de Inseminación.');\n\n    onUpdateAnimalProduction(vacaId, { estadoReproductivo: 'preñada', fechaUltimaGestacion: fechaInseminacion });\n    onRegisterReproductiveEvent({ idAnimal: vacaId, tipoEvento: 'inseminacion', fechaEvento: fechaInseminacion, observaciones, estadoPosterior: 'preñada', semenId });\n\n    alert('Inseminación registrada.');\n    setInseminacionData({ vacaId: '', semenId: '', fechaInseminacion: '', inseminador: '', observaciones: '' });\n  };\n\n  const handleGestacionSubmit = () => {\n    const { vacaId, fechaDiagnostico, resultadoDiagnostico, fechaPartoEstimada, fechaPartoReal, nombreTernero, sexoTernero, observacionesParto } = gestacionData;\n    if (!vacaId || !fechaDiagnostico || !resultadoDiagnostico) return alert('Completa los campos obligatorios de Control de Gestación.');\n\n    if (resultadoDiagnostico === 'positiva') {\n      const estimada = fechaPartoEstimada || new Date(new Date(fechaDiagnostico).setDate(new Date(fechaDiagnostico).getDate() + GESTATION_DAYS)).toISOString().split('T')[0];\n      onUpdateAnimalProduction(vacaId, { estadoReproductivo: 'preñada', fechaUltimaGestacion: fechaDiagnostico });\n      onRegisterReproductiveEvent({ idAnimal: vacaId, tipoEvento: 'gestación positiva', fechaEvento: fechaDiagnostico, estadoPosterior: 'preñada', observaciones: `Parto estimado: ${estimada}` });\n      alert('Diagnóstico positivo registrado.');\n    } else if (resultadoDiagnostico === 'negativa') {\n      onUpdateAnimalProduction(vacaId, { estadoReproductivo: 'vacia' });\n      onRegisterReproductiveEvent({ idAnimal: vacaId, tipoEvento: 'gestación negativa', fechaEvento: fechaDiagnostico, estadoPosterior: 'vacia' });\n      alert('Diagnóstico negativo registrado.');\n    }\n\n    if (fechaPartoReal) {\n      onUpdateAnimalProduction(vacaId, { estadoReproductivo: 'producción', fechaUltimoParto: fechaPartoReal });\n      onRegisterReproductiveEvent({ idAnimal: vacaId, tipoEvento: 'parto', fechaEvento: fechaPartoReal, estadoPosterior: 'producción', observaciones: observacionesParto });\n\n      if (nombreTernero && sexoTernero) {\n        const newTerneroId = `AN-${Date.now().toString().slice(-5)}`;\n        const madre = animals.find(a => a.id === vacaId);\n        onRegisterAnimal({ id: newTerneroId, name: nombreTernero, raza: madre?.raza || 'Desconocida', sexo: sexoTernero, fechaNacimiento: fechaPartoReal, tipoProduccion: madre?.tipoProduccion || 'Desconocida', padreId: madre?.toroId || '', madreId: madre?.id || '', status: 'desarrollo', dailyMilk: 0 });\n        alert(`Ternero ${nombreTernero} registrado.`);\n      } else {\n        alert('Parto registrado. Completa datos del ternero para registrarlo.');\n      }\n    }\n\n    setGestacionData({ vacaId: '', fechaDiagnostico: '', resultadoDiagnostico: '', fechaPartoEstimada: '', fechaPartoReal: '', pesoTernero: '', sexoTernero: '', nombreTernero: '', observacionesParto: '' });\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control Reproductivo</h3>\n      {/* Render de secciones aquí según currentSection */}\n    </div>\n  );\n};\n\nexport default ReproductiveControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}