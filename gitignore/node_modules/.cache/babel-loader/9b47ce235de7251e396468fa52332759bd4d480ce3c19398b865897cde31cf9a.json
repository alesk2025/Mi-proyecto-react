{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\project (10)\\\\src\\\\components\\\\ReproductiveControlPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReproductiveControlPage = ({\n  animals,\n  onUpdateAnimalProduction,\n  onRegisterAnimal,\n  onRegisterReproductiveEvent,\n  onDeletePregnantCow,\n  reproductiveRecords,\n  setReproductiveRecords,\n  currentUser,\n  logoUrl\n}) => {\n  _s();\n  const [reproductiveData, setReproductiveData] = useState({\n    animalId: '',\n    eventType: '',\n    // 'diagnostico_prenez', 'parto', 'inseminacion', 'celo'\n    eventDate: '',\n    details: '',\n    semenId: '',\n    // Para inseminacion\n    semenProvider: '',\n    // Para inseminacion\n    calfId: '',\n    // Para parto\n    calfSex: '',\n    // Para parto\n    calfWeight: '',\n    // Para parto\n    calfObservations: '',\n    // Para parto\n    diagnosisResult: '',\n    // 'preñada', 'vacia'\n    expectedCalvingDate: '' // Para diagnostico_prenez\n  });\n  const [filterAnimalId, setFilterAnimalId] = useState('');\n  const [filterEventType, setFilterEventType] = useState('');\n\n  // Estado para el calendario de partos\n  const [calvingSchedule, setCalvingSchedule] = useState([]);\n\n  // Cargar y guardar datos del calendario de partos en localStorage\n  useEffect(() => {\n    const storedSchedule = JSON.parse(localStorage.getItem('calvingSchedule')) || [];\n    setCalvingSchedule(storedSchedule);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('calvingSchedule', JSON.stringify(calvingSchedule));\n  }, [calvingSchedule]);\n\n  // Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\n  const calculateExpectedCalvingDate = eventDate => {\n    if (!eventDate) return '';\n    const date = new Date(eventDate);\n    date.setDate(date.getDate() + 283); // Gestación promedio de bovinos\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejador de cambios en el formulario\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setReproductiveData(prev => {\n      const newData = {\n        ...prev,\n        [name]: value\n      };\n      // Si el evento es diagnóstico de preñez y el resultado es preñada, calcula la fecha probable de parto\n      if (name === 'eventDate' && newData.eventType === 'diagnostico_prenez' && newData.diagnosisResult === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(value);\n      } else if (name === 'diagnosisResult' && newData.eventType === 'diagnostico_prenez' && value === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(newData.eventDate);\n      }\n      return newData;\n    });\n  };\n\n  // Manejador para el envío del formulario\n  const handleSubmit = async () => {\n    const {\n      animalId,\n      eventType,\n      eventDate,\n      diagnosisResult,\n      expectedCalvingDate,\n      calfId,\n      calfSex,\n      calfWeight,\n      calfObservations\n    } = reproductiveData;\n    if (!animalId || !eventType || !eventDate) {\n      alert('Por favor, completa los campos obligatorios.');\n      return;\n    }\n    const newRecord = {\n      id: `REP-${Date.now().toString().slice(-5)}`,\n      animalId,\n      eventType,\n      eventDate,\n      details: reproductiveData.details,\n      semenId: reproductiveData.semenId,\n      semenProvider: reproductiveData.semenProvider,\n      diagnosisResult: reproductiveData.diagnosisResult,\n      expectedCalvingDate: reproductiveData.expectedCalvingDate,\n      calfId: reproductiveData.calfId,\n      calfSex: reproductiveData.calfSex,\n      calfWeight: reproductiveData.calfWeight,\n      calfObservations: reproductiveData.calfObservations\n    };\n    onRegisterReproductiveEvent(newRecord);\n    alert(`Evento reproductivo de ${eventType} registrado para ${animalId}.`);\n\n    // Lógica específica para cada tipo de evento\n    if (eventType === 'diagnostico_prenez' && diagnosisResult === 'preñada') {\n      // Actualizar estado reproductivo del animal a 'preñada'\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'preñada',\n        fechaUltimaGestacion: eventDate\n      });\n      // Añadir al calendario de partos\n      setCalvingSchedule(prev => [...prev, {\n        animalId,\n        expectedCalvingDate,\n        diagnosisDate: eventDate,\n        id: newRecord.id\n      }]);\n      alert(`Animal ${animalId} marcado como preñada. Fecha probable de parto: ${expectedCalvingDate}`);\n    } else if (eventType === 'parto') {\n      // Actualizar estado reproductivo del animal a 'en_produccion'\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'en_produccion',\n        fechaUltimaGestacion: eventDate\n      });\n      // Eliminar del calendario de partos\n      setCalvingSchedule(prev => prev.filter(item => item.animalId !== animalId));\n      alert(`Parto registrado para ${animalId}. Animal ahora en producción.`);\n\n      // Registrar ternero si se proporciona ID\n      if (calfId && calfSex && calfWeight) {\n        var _animals$find, _animals$find2;\n        const newCalf = {\n          id: calfId,\n          name: `Ternero de ${animalId}`,\n          raza: ((_animals$find = animals.find(a => a.id === animalId)) === null || _animals$find === void 0 ? void 0 : _animals$find.raza) || 'Desconocida',\n          peso: calfWeight,\n          sexo: calfSex,\n          fechaNacimiento: eventDate,\n          fechaCompra: eventDate,\n          // Se considera fecha de \"compra\" como nacimiento\n          tipoProduccion: 'carne',\n          // Por defecto para terneros\n          dailyMilk: 0,\n          idpadre: ((_animals$find2 = animals.find(a => a.id === animalId)) === null || _animals$find2 === void 0 ? void 0 : _animals$find2.idpadre) || '',\n          // Asumiendo que la madre es la que parió\n          idmadre: animalId,\n          estadoReproductivo: 'desarrollo'\n        };\n        onRegisterAnimal(newCalf);\n        alert(`Ternero ${calfId} registrado.`);\n      }\n    } else if (eventType === 'inseminacion') {\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'inseminada',\n        fechaUltimaInseminacion: eventDate\n      });\n    } else if (eventType === 'celo') {\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'en_celo',\n        fechaUltimoCelo: eventDate\n      });\n    }\n\n    // Limpiar formulario\n    setReproductiveData({\n      animalId: '',\n      eventType: '',\n      eventDate: '',\n      details: '',\n      semenId: '',\n      semenProvider: '',\n      calfId: '',\n      calfSex: '',\n      calfWeight: '',\n      calfObservations: '',\n      diagnosisResult: '',\n      expectedCalvingDate: ''\n    });\n  };\n\n  // Filtrar registros reproductivos\n  const filteredRecords = reproductiveRecords.filter(record => {\n    const matchesAnimal = filterAnimalId === '' || record.animalId === filterAnimalId;\n    const matchesEventType = filterEventType === '' || record.eventType === filterEventType;\n    return matchesAnimal && matchesEventType;\n  });\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = animalId => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  // Función para generar PDF del calendario de partos\n  const handleGenerateCalvingSchedulePDF = useCallback(() => {\n    if (calvingSchedule.length === 0) {\n      alert('No hay partos programados para generar el PDF.');\n      return;\n    }\n    const farmName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.farmName) || 'Mi Finca Ganadera';\n    const adminName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || 'Administrador';\n    const defaultLogo = 'https://via.placeholder.com/60x60?text=LOGO';\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm';\n    tempDiv.style.padding = '15mm';\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n    let tableRows = calvingSchedule.map(item => {\n      const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n      const isOverdue = daysRemaining < 0;\n      const daysText = isOverdue ? `VENCIDO (${Math.abs(daysRemaining)} días)` : `${daysRemaining} días`;\n      const daysColor = isOverdue ? 'text-red-600' : 'text-gray-900'; // Color para los días restantes\n\n      return `\n        <tr style=\"border-bottom: 1px solid #eee;\">\n          <td style=\"padding: 8px 12px;\">${getAnimalName(item.animalId)} (${item.animalId})</td>\n          <td style=\"padding: 8px 12px;\">${item.diagnosisDate}</td>\n          <td style=\"padding: 8px 12px;\">${item.expectedCalvingDate}</td>\n          <td style=\"padding: 8px 12px;\"><span style=\"font-weight: bold; color: ${daysColor};\">${daysText}</span></td>\n        </tr>\n      `;\n    }).join('');\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoUrl || defaultLogo}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Calendario de Partos</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Próximos Partos Programados</h3>\n          <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\">\n            <thead style=\"background-color: #f0f0f0;\">\n              <tr>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Animal</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Diagnóstico Preñez</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Probable de Parto</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tableRows}\n            </tbody>\n          </table>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n    document.body.appendChild(tempDiv);\n    html2canvas(tempDiv, {\n      scale: 2,\n      useCORS: true\n    }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n      while (heightLeft > 0) {\n        position = heightLeft - pageHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n      pdf.save(`calendario_partos_${new Date().toISOString().split('T')[0]}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  }, [calvingSchedule, currentUser, logoUrl, animals]); // Dependencias para useCallback\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Control Reproductivo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Registrar Evento Reproductivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"animalId\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.animalId,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Animal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), animals.map(animal => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: animal.id,\n            children: [animal.name, \" (\", animal.id, \")\"]\n          }, animal.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"eventType\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.eventType,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Tipo de Evento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"diagnostico_prenez\",\n            children: \"Diagn\\xF3stico de Pre\\xF1ez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"parto\",\n            children: \"Parto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inseminacion\",\n            children: \"Inseminaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"celo\",\n            children: \"Celo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"eventDate\",\n          placeholder: \"Fecha del Evento\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.eventDate,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), reproductiveData.eventType === 'diagnostico_prenez' && /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"diagnosisResult\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.diagnosisResult,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Resultado del Diagn\\xF3stico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pre\\xF1ada\",\n            children: \"Pre\\xF1ada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"vacia\",\n            children: \"Vac\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), reproductiveData.eventType === 'diagnostico_prenez' && reproductiveData.diagnosisResult === 'preñada' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"expectedCalvingDate\",\n          placeholder: \"Fecha Probable de Parto\",\n          className: \"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\",\n          value: reproductiveData.expectedCalvingDate,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), reproductiveData.eventType === 'inseminacion' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"semenId\",\n            placeholder: \"ID de Semen\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.semenId,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"semenProvider\",\n            placeholder: \"Proveedor de Semen\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.semenProvider,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), reproductiveData.eventType === 'parto' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"calfId\",\n            placeholder: \"ID del Ternero (si aplica)\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfId,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"calfSex\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfSex,\n            onChange: handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Sexo del Ternero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"calfWeight\",\n            placeholder: \"Peso del Ternero (kg)\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfWeight,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"calfObservations\",\n            placeholder: \"Observaciones del Ternero\",\n            rows: \"2\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\",\n            value: reproductiveData.calfObservations,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"details\",\n          placeholder: \"Detalles adicionales del evento\",\n          rows: \"2\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\",\n          value: reproductiveData.details,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Registrar Evento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Historial de Eventos Reproductivos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Filtrar por ID Animal\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: filterAnimalId,\n          onChange: e => setFilterAnimalId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: filterEventType,\n          onChange: e => setFilterEventType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Todos los Eventos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"diagnostico_prenez\",\n            children: \"Diagn\\xF3stico de Pre\\xF1ez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"parto\",\n            children: \"Parto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inseminacion\",\n            children: \"Inseminaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"celo\",\n            children: \"Celo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"ID Animal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Tipo de Evento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Detalles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: [getAnimalName(record.animalId), \" (\", record.animalId, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.eventType ? record.eventType.replace(/_/g, ' ') : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.eventDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.details || record.diagnosisResult || record.calfId || record.semenId || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setReproductiveRecords(reproductiveRecords.filter(r => r.id !== record.id)),\n                  className: \"text-red-600 hover:underline\",\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, record.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-blue-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Calendario de Partos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGenerateCalvingSchedulePDF,\n        className: \"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",\n        children: \"Descargar Calendario PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Animal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Diagn\\xF3stico Pre\\xF1ez\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Probable de Parto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"D\\xEDas Restantes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: calvingSchedule.map(item => {\n              const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n              const isOverdue = daysRemaining < 0;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: `hover:bg-gray-50 ${isOverdue ? 'bg-red-100' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: [getAnimalName(item.animalId), \" (\", item.animalId, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: item.diagnosisDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: item.expectedCalvingDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: isOverdue ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-red-600\",\n                    children: [\"VENCIDO (\", Math.abs(daysRemaining), \" d\\xEDas)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 36\n                  }, this) : `${daysRemaining} días`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onDeletePregnantCow(item.animalId),\n                    className: \"text-orange-600 hover:underline\",\n                    children: \"Marcar Parto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 5\n  }, this);\n};\n_s(ReproductiveControlPage, \"dKjEp5rVRwomIDmTjHANlYbmAbM=\");\n_c = ReproductiveControlPage;\nexport default ReproductiveControlPage;\nvar _c;\n$RefreshReg$(_c, \"ReproductiveControlPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsPDF","html2canvas","jsxDEV","_jsxDEV","Fragment","_Fragment","ReproductiveControlPage","animals","onUpdateAnimalProduction","onRegisterAnimal","onRegisterReproductiveEvent","onDeletePregnantCow","reproductiveRecords","setReproductiveRecords","currentUser","logoUrl","_s","reproductiveData","setReproductiveData","animalId","eventType","eventDate","details","semenId","semenProvider","calfId","calfSex","calfWeight","calfObservations","diagnosisResult","expectedCalvingDate","filterAnimalId","setFilterAnimalId","filterEventType","setFilterEventType","calvingSchedule","setCalvingSchedule","storedSchedule","JSON","parse","localStorage","getItem","setItem","stringify","calculateExpectedCalvingDate","date","Date","setDate","getDate","toISOString","split","handleInputChange","e","name","value","target","prev","newData","handleSubmit","alert","newRecord","id","now","toString","slice","estadoReproductivo","fechaUltimaGestacion","diagnosisDate","filter","item","_animals$find","_animals$find2","newCalf","raza","find","a","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","dailyMilk","idpadre","idmadre","fechaUltimaInseminacion","fechaUltimoCelo","filteredRecords","record","matchesAnimal","matchesEventType","getAnimalName","animal","handleGenerateCalvingSchedulePDF","length","farmName","adminName","fullName","defaultLogo","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","tableRows","map","daysRemaining","Math","ceil","isOverdue","daysText","abs","daysColor","join","innerHTML","toLocaleDateString","body","appendChild","scale","useCORS","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","placeholder","readOnly","rows","onClick","replace","r","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ReproductiveControlPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst ReproductiveControlPage = ({ animals, onUpdateAnimalProduction, onRegisterAnimal, onRegisterReproductiveEvent, onDeletePregnantCow, reproductiveRecords, setReproductiveRecords, currentUser, logoUrl }) => {\n  const [reproductiveData, setReproductiveData] = useState({\n    animalId: '',\n    eventType: '', // 'diagnostico_prenez', 'parto', 'inseminacion', 'celo'\n    eventDate: '',\n    details: '',\n    semenId: '', // Para inseminacion\n    semenProvider: '', // Para inseminacion\n    calfId: '', // Para parto\n    calfSex: '', // Para parto\n    calfWeight: '', // Para parto\n    calfObservations: '', // Para parto\n    diagnosisResult: '', // 'preñada', 'vacia'\n    expectedCalvingDate: '', // Para diagnostico_prenez\n  });\n\n  const [filterAnimalId, setFilterAnimalId] = useState('');\n  const [filterEventType, setFilterEventType] = useState('');\n\n  // Estado para el calendario de partos\n  const [calvingSchedule, setCalvingSchedule] = useState([]);\n\n  // Cargar y guardar datos del calendario de partos en localStorage\n  useEffect(() => {\n    const storedSchedule = JSON.parse(localStorage.getItem('calvingSchedule')) || [];\n    setCalvingSchedule(storedSchedule);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('calvingSchedule', JSON.stringify(calvingSchedule));\n  }, [calvingSchedule]);\n\n  // Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\n  const calculateExpectedCalvingDate = (eventDate) => {\n    if (!eventDate) return '';\n    const date = new Date(eventDate);\n    date.setDate(date.getDate() + 283); // Gestación promedio de bovinos\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejador de cambios en el formulario\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setReproductiveData(prev => {\n      const newData = { ...prev, [name]: value };\n      // Si el evento es diagnóstico de preñez y el resultado es preñada, calcula la fecha probable de parto\n      if (name === 'eventDate' && newData.eventType === 'diagnostico_prenez' && newData.diagnosisResult === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(value);\n      } else if (name === 'diagnosisResult' && newData.eventType === 'diagnostico_prenez' && value === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(newData.eventDate);\n      }\n      return newData;\n    });\n  };\n\n  // Manejador para el envío del formulario\n  const handleSubmit = async () => {\n    const { animalId, eventType, eventDate, diagnosisResult, expectedCalvingDate, calfId, calfSex, calfWeight, calfObservations } = reproductiveData;\n\n    if (!animalId || !eventType || !eventDate) {\n      alert('Por favor, completa los campos obligatorios.');\n      return;\n    }\n\n    const newRecord = {\n      id: `REP-${Date.now().toString().slice(-5)}`,\n      animalId,\n      eventType,\n      eventDate,\n      details: reproductiveData.details,\n      semenId: reproductiveData.semenId,\n      semenProvider: reproductiveData.semenProvider,\n      diagnosisResult: reproductiveData.diagnosisResult,\n      expectedCalvingDate: reproductiveData.expectedCalvingDate,\n      calfId: reproductiveData.calfId,\n      calfSex: reproductiveData.calfSex,\n      calfWeight: reproductiveData.calfWeight,\n      calfObservations: reproductiveData.calfObservations,\n    };\n\n    onRegisterReproductiveEvent(newRecord);\n    alert(`Evento reproductivo de ${eventType} registrado para ${animalId}.`);\n\n    // Lógica específica para cada tipo de evento\n    if (eventType === 'diagnostico_prenez' && diagnosisResult === 'preñada') {\n      // Actualizar estado reproductivo del animal a 'preñada'\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'preñada', fechaUltimaGestacion: eventDate });\n      // Añadir al calendario de partos\n      setCalvingSchedule(prev => [...prev, {\n        animalId,\n        expectedCalvingDate,\n        diagnosisDate: eventDate,\n        id: newRecord.id,\n      }]);\n      alert(`Animal ${animalId} marcado como preñada. Fecha probable de parto: ${expectedCalvingDate}`);\n    } else if (eventType === 'parto') {\n      // Actualizar estado reproductivo del animal a 'en_produccion'\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_produccion', fechaUltimaGestacion: eventDate });\n      // Eliminar del calendario de partos\n      setCalvingSchedule(prev => prev.filter(item => item.animalId !== animalId));\n      alert(`Parto registrado para ${animalId}. Animal ahora en producción.`);\n\n      // Registrar ternero si se proporciona ID\n      if (calfId && calfSex && calfWeight) {\n        const newCalf = {\n          id: calfId,\n          name: `Ternero de ${animalId}`,\n          raza: animals.find(a => a.id === animalId)?.raza || 'Desconocida',\n          peso: calfWeight,\n          sexo: calfSex,\n          fechaNacimiento: eventDate,\n          fechaCompra: eventDate, // Se considera fecha de \"compra\" como nacimiento\n          tipoProduccion: 'carne', // Por defecto para terneros\n          dailyMilk: 0,\n          idpadre: animals.find(a => a.id === animalId)?.idpadre || '', // Asumiendo que la madre es la que parió\n          idmadre: animalId,\n          estadoReproductivo: 'desarrollo',\n        };\n        onRegisterAnimal(newCalf);\n        alert(`Ternero ${calfId} registrado.`);\n      }\n    } else if (eventType === 'inseminacion') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'inseminada', fechaUltimaInseminacion: eventDate });\n    } else if (eventType === 'celo') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_celo', fechaUltimoCelo: eventDate });\n    }\n\n    // Limpiar formulario\n    setReproductiveData({\n      animalId: '', eventType: '', eventDate: '', details: '', semenId: '', semenProvider: '',\n      calfId: '', calfSex: '', calfWeight: '', calfObservations: '', diagnosisResult: '', expectedCalvingDate: '',\n    });\n  };\n\n  // Filtrar registros reproductivos\n  const filteredRecords = reproductiveRecords.filter(record => {\n    const matchesAnimal = filterAnimalId === '' || record.animalId === filterAnimalId;\n    const matchesEventType = filterEventType === '' || record.eventType === filterEventType;\n    return matchesAnimal && matchesEventType;\n  });\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = (animalId) => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  // Función para generar PDF del calendario de partos\n  const handleGenerateCalvingSchedulePDF = useCallback(() => {\n    if (calvingSchedule.length === 0) {\n      alert('No hay partos programados para generar el PDF.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const defaultLogo = 'https://via.placeholder.com/60x60?text=LOGO';\n\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm';\n    tempDiv.style.padding = '15mm';\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n\n    let tableRows = calvingSchedule.map(item => {\n      const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n      const isOverdue = daysRemaining < 0;\n      const daysText = isOverdue ? `VENCIDO (${Math.abs(daysRemaining)} días)` : `${daysRemaining} días`;\n      const daysColor = isOverdue ? 'text-red-600' : 'text-gray-900'; // Color para los días restantes\n\n      return `\n        <tr style=\"border-bottom: 1px solid #eee;\">\n          <td style=\"padding: 8px 12px;\">${getAnimalName(item.animalId)} (${item.animalId})</td>\n          <td style=\"padding: 8px 12px;\">${item.diagnosisDate}</td>\n          <td style=\"padding: 8px 12px;\">${item.expectedCalvingDate}</td>\n          <td style=\"padding: 8px 12px;\"><span style=\"font-weight: bold; color: ${daysColor};\">${daysText}</span></td>\n        </tr>\n      `;\n    }).join('');\n\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoUrl || defaultLogo}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Calendario de Partos</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Próximos Partos Programados</h3>\n          <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\">\n            <thead style=\"background-color: #f0f0f0;\">\n              <tr>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Animal</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Diagnóstico Preñez</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Probable de Parto</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tableRows}\n            </tbody>\n          </table>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(tempDiv);\n\n    html2canvas(tempDiv, { scale: 2, useCORS: true }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft > 0) {\n        position = heightLeft - pageHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n\n      pdf.save(`calendario_partos_${new Date().toISOString().split('T')[0]}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  }, [calvingSchedule, currentUser, logoUrl, animals]); // Dependencias para useCallback\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control Reproductivo</h3>\n\n      {/* Sección de Registro de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Evento Reproductivo</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            name=\"animalId\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.animalId}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Animal</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <select\n            name=\"eventType\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventType}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Tipo de Evento</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n          </select>\n          <input\n            type=\"date\"\n            name=\"eventDate\"\n            placeholder=\"Fecha del Evento\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventDate}\n            onChange={handleInputChange}\n          />\n          {reproductiveData.eventType === 'diagnostico_prenez' && (\n            <select\n              name=\"diagnosisResult\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={reproductiveData.diagnosisResult}\n              onChange={handleInputChange}\n            >\n              <option value=\"\">Resultado del Diagnóstico</option>\n              <option value=\"preñada\">Preñada</option>\n              <option value=\"vacia\">Vacía</option>\n            </select>\n          )}\n          {reproductiveData.eventType === 'diagnostico_prenez' && reproductiveData.diagnosisResult === 'preñada' && (\n            <input\n              type=\"date\"\n              name=\"expectedCalvingDate\"\n              placeholder=\"Fecha Probable de Parto\"\n              className=\"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\"\n              value={reproductiveData.expectedCalvingDate}\n              readOnly\n            />\n          )}\n          {reproductiveData.eventType === 'inseminacion' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"semenId\"\n                placeholder=\"ID de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenId}\n                onChange={handleInputChange}\n              />\n              <input\n                type=\"text\"\n                name=\"semenProvider\"\n                placeholder=\"Proveedor de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenProvider}\n                onChange={handleInputChange}\n              />\n            </>\n          )}\n          {reproductiveData.eventType === 'parto' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"calfId\"\n                placeholder=\"ID del Ternero (si aplica)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfId}\n                onChange={handleInputChange}\n              />\n              <select\n                name=\"calfSex\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfSex}\n                onChange={handleInputChange}\n              >\n                <option value=\"\">Sexo del Ternero</option>\n                <option value=\"macho\">Macho</option>\n                <option value=\"hembra\">Hembra</option>\n              </select>\n              <input\n                type=\"number\"\n                name=\"calfWeight\"\n                placeholder=\"Peso del Ternero (kg)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfWeight}\n                onChange={handleInputChange}\n              />\n              <textarea\n                name=\"calfObservations\"\n                placeholder=\"Observaciones del Ternero\"\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\"\n                value={reproductiveData.calfObservations}\n                onChange={handleInputChange}\n              ></textarea>\n            </>\n          )}\n          <textarea\n            name=\"details\"\n            placeholder=\"Detalles adicionales del evento\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\"\n            value={reproductiveData.details}\n            onChange={handleInputChange}\n          ></textarea>\n        </div>\n        <button\n          onClick={handleSubmit}\n          className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n        >\n          Registrar Evento\n        </button>\n      </div>\n\n      {/* Sección de Historial de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Eventos Reproductivos</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Filtrar por ID Animal\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterAnimalId}\n            onChange={(e) => setFilterAnimalId(e.target.value)}\n          />\n          <select\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterEventType}\n            onChange={(e) => setFilterEventType(e.target.value)}\n          >\n            <option value=\"\">Todos los Eventos</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n          </select>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">ID Animal</th>\n                <th className=\"py-2 px-4 border\">Tipo de Evento</th>\n                <th className=\"py-2 px-4 border\">Fecha</th>\n                <th className=\"py-2 px-4 border\">Detalles</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredRecords.map(record => (\n                <tr key={record.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-2 px-4 border\">{getAnimalName(record.animalId)} ({record.animalId})</td>\n                  <td className=\"py-2 px-4 border\">{record.eventType ? record.eventType.replace(/_/g, ' ') : 'N/A'}</td> {/* Manejo de undefined */}\n                  <td className=\"py-2 px-4 border\">{record.eventDate}</td>\n                  <td className=\"py-2 px-4 border\">{record.details || record.diagnosisResult || record.calfId || record.semenId || 'N/A'}</td>\n                  <td className=\"py-2 px-4 border\">\n                    <button\n                      onClick={() => setReproductiveRecords(reproductiveRecords.filter(r => r.id !== record.id))}\n                      className=\"text-red-600 hover:underline\"\n                    >\n                      Eliminar\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Sección de Calendario de Partos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-blue-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Calendario de Partos</h4>\n        <button\n          onClick={handleGenerateCalvingSchedulePDF}\n          className=\"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Descargar Calendario PDF\n        </button>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">Animal</th>\n                <th className=\"py-2 px-4 border\">Fecha Diagnóstico Preñez</th>\n                <th className=\"py-2 px-4 border\">Fecha Probable de Parto</th>\n                <th className=\"py-2 px-4 border\">Días Restantes</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {calvingSchedule.map(item => {\n                const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n                const isOverdue = daysRemaining < 0;\n                return (\n                  <tr key={item.id} className={`hover:bg-gray-50 ${isOverdue ? 'bg-red-100' : ''}`}>\n                    <td className=\"py-2 px-4 border\">{getAnimalName(item.animalId)} ({item.animalId})</td>\n                    <td className=\"py-2 px-4 border\">{item.diagnosisDate}</td>\n                    <td className=\"py-2 px-4 border\">{item.expectedCalvingDate}</td>\n                    <td className=\"py-2 px-4 border\">\n                      {isOverdue ? <span className=\"font-bold text-red-600\">VENCIDO ({Math.abs(daysRemaining)} días)</span> : `${daysRemaining} días`}\n                    </td>\n                    <td className=\"py-2 px-4 border\">\n                      <button\n                        onClick={() => onDeletePregnantCow(item.animalId)}\n                        className=\"text-orange-600 hover:underline\"\n                      >\n                        Marcar Parto\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReproductiveControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}