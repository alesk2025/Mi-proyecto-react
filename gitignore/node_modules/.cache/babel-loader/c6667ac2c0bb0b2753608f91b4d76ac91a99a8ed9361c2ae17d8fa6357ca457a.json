{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\project (10)\\\\src\\\\components\\\\ReproductiveControlPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { classifyAnimalAge } from '../utils/helpers'; // Importar la función de utilidad\nimport { exportToCsv, exportTableToPdf } from '../utils/exportHelpers'; // Importar funciones de exportación\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GESTATION_DAYS = 283; // Días promedio de gestación para bovinos\n\nconst ReproductiveControlPage = ({\n  animals,\n  onUpdateAnimalProduction,\n  onRegisterReproductiveEvent,\n  onDeletePregnantCow,\n  reproductiveRecords,\n  setReproductiveRecords,\n  onRegisterAnimal,\n  currentUser,\n  logoUrl\n}) => {\n  _s();\n  const [currentSection, setCurrentSection] = useState('montaNatural'); // 'montaNatural', 'inseminacion', 'gestacion', 'historial'\n\n  const [montaNaturalData, setMontaNaturalData] = useState({\n    vacaId: '',\n    toroId: '',\n    fechaMonta: '',\n    observaciones: ''\n  });\n  const [inseminacionData, setInseminacionData] = useState({\n    vacaId: '',\n    semenId: '',\n    // ID del semen utilizado\n    fechaInseminacion: '',\n    inseminador: '',\n    observaciones: ''\n  });\n  const [gestacionData, setGestacionData] = useState({\n    vacaId: '',\n    tipoMonta: '',\n    // 'natural', 'inseminacion'\n    fechaDiagnostico: '',\n    resultadoDiagnostico: '',\n    // 'positiva', 'negativa'\n    fechaPartoEstimada: '',\n    // Calculada\n    fechaPartoReal: '',\n    pesoTernero: '',\n    sexoTernero: '',\n    nombreTernero: '',\n    observacionesParto: '',\n    padreTerneroId: '',\n    // ID del padre si está registrado\n    padreTerneroNombre: '',\n    // Nombre del padre si es nuevo\n    razaPadreTernero: '',\n    // Raza del padre si es nuevo\n    isPadreRegistered: false // Para controlar si el padre está registrado\n  });\n  const [editingRecord, setEditingRecord] = useState(null); // To hold the record being edited\n  const historyTableRef = useRef(null); // Ref for the history table\n\n  const [filterStartDate, setFilterStartDate] = useState('');\n  const [filterEndDate, setFilterEndDate] = useState('');\n\n  // Función auxiliar para calcular días restantes\n  const calcularDiasRestantes = fechaPartoEstimada => {\n    const hoy = new Date();\n    const fecha = new Date(fechaPartoEstimada);\n    // Verificar si la fecha es válida antes de calcular la diferencia\n    if (isNaN(fecha.getTime())) {\n      return NaN; // Retorna NaN si la fecha no es válida\n    }\n    const diferencia = fecha.getTime() - hoy.getTime(); // Usar getTime() para operar con milisegundos\n    return Math.ceil(diferencia / (1000 * 60 * 60 * 24));\n  };\n\n  // useEffect para evaluar registros reproductivos y actualizar estados\n  useEffect(() => {\n    if (!reproductiveRecords || reproductiveRecords.length === 0) {\n      return;\n    }\n    let animalStatusUpdates = [];\n    let recordStatusUpdates = [];\n    reproductiveRecords.forEach(record => {\n      const currentAnimal = animals.find(a => a.id === record.idAnimal);\n      if (!currentAnimal) return; // Animal not found, skip\n\n      // Logic for 'preñada' records that are not yet finalized\n      if (record.tipoEvento === 'diagnóstico' && record.estadoPosterior === 'preñada' && record.estado !== 'finalizado') {\n        let estimatedBirthDateStr = record.fechaPartoEstimada;\n\n        // If estimated birth date is missing, calculate it from the diagnosis date\n        if (!estimatedBirthDateStr) {\n          const diagnosisDate = new Date(record.fechaEvento);\n          if (diagnosisDate instanceof Date && !isNaN(diagnosisDate.getTime())) {\n            const estimatedDate = new Date(diagnosisDate);\n            estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n            estimatedBirthDateStr = estimatedDate.toISOString().split('T')[0];\n            // Update the record itself with the estimated date for persistence\n            recordStatusUpdates.push({\n              id: record.id,\n              update: {\n                fechaPartoEstimada: estimatedBirthDateStr\n              }\n            });\n          }\n        }\n        if (estimatedBirthDateStr) {\n          const dias = calcularDiasRestantes(estimatedBirthDateStr);\n\n          // Solo aplicar reglas si los días restantes son un número válido\n          if (!isNaN(dias)) {\n            // Rule 1: Change to SECA if less than 100 days to birth AND animal is not already 'seca'\n            if (dias <= 100 && dias > 0 && currentAnimal.estadoReproductivo !== 'seca') {\n              animalStatusUpdates.push({\n                id: record.idAnimal,\n                update: {\n                  estadoReproductivo: 'seca'\n                }\n              });\n            }\n\n            // Rule 2: Change to PRODUCCIÓN if estimated birth date passed AND animal is not already 'produccion'\n            if (dias <= 0 && currentAnimal.estadoReproductivo !== 'produccion') {\n              animalStatusUpdates.push({\n                id: record.idAnimal,\n                update: {\n                  estadoReproductivo: 'produccion',\n                  fechaUltimoParto: estimatedBirthDateStr\n                }\n              });\n              // Mark the reproductive record as finalized after birth\n              recordStatusUpdates.push({\n                id: record.id,\n                update: {\n                  estado: 'finalizado'\n                }\n              });\n            }\n          }\n        }\n      }\n    });\n\n    // Apply animal status updates\n    animalStatusUpdates.forEach(update => {\n      onUpdateAnimalProduction(update.id, update.update);\n    });\n\n    // Apply reproductive record status updates\n    if (recordStatusUpdates.length > 0) {\n      const newReproductiveRecords = reproductiveRecords.map(rec => {\n        const update = recordStatusUpdates.find(u => u.id === rec.id);\n        return update ? {\n          ...rec,\n          ...update.update\n        } : rec;\n      });\n      setReproductiveRecords(newReproductiveRecords);\n    }\n  }, [reproductiveRecords, animals, onUpdateAnimalProduction, setReproductiveRecords]); // Dependencies\n\n  const handleMontaNaturalChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setMontaNaturalData({\n      ...montaNaturalData,\n      [name]: value\n    });\n  };\n  const handleInseminacionChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInseminacionData({\n      ...inseminacionData,\n      [name]: value\n    });\n  };\n  const handleGestacionChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    let updatedGestacionData = {\n      ...gestacionData,\n      [name]: value\n    };\n    if (type === 'checkbox') {\n      updatedGestacionData = {\n        ...gestacionData,\n        [name]: checked\n      };\n    } else if (name === 'fechaDiagnostico' && updatedGestacionData.resultadoDiagnostico === 'positiva') {\n      // Recalcular fechaPartoEstimada si cambia la fechaDiagnostico y el resultado es positivo\n      const diagnosisDateObj = new Date(value);\n      if (diagnosisDateObj instanceof Date && !isNaN(diagnosisDateObj.getTime())) {\n        const estimatedDate = new Date(diagnosisDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        updatedGestacionData.fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      } else {\n        updatedGestacionData.fechaPartoEstimada = '';\n      }\n    } else if (name === 'resultadoDiagnostico' && value === 'positiva' && updatedGestacionData.fechaDiagnostico) {\n      // Recalcular fechaPartoEstimada si el resultado cambia a positivo y ya hay fechaDiagnostico\n      const diagnosisDateObj = new Date(updatedGestacionData.fechaDiagnostico);\n      if (diagnosisDateObj instanceof Date && !isNaN(diagnosisDateObj.getTime())) {\n        const estimatedDate = new Date(diagnosisDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        updatedGestacionData.fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      } else {\n        updatedGestacionData.fechaPartoEstimada = '';\n      }\n    } else if (name === 'resultadoDiagnostico' && value === 'negativa') {\n      // Limpiar fechaPartoEstimada si el resultado es negativo\n      updatedGestacionData.fechaPartoEstimada = '';\n    }\n    setGestacionData(updatedGestacionData);\n  };\n  const handleMontaNaturalSubmit = () => {\n    const {\n      vacaId,\n      toroId,\n      fechaMonta,\n      observaciones\n    } = montaNaturalData;\n    if (!vacaId || !toroId || !fechaMonta) {\n      alert('¡Ups! Parece que te faltan algunos datos para registrar la monta natural. ¡Completa todos los campos y lo intentamos de nuevo!');\n      return;\n    }\n\n    // Calcular fecha de parto estimada para el registro\n    const montaDateObj = new Date(fechaMonta);\n    let estimatedBirthDateForRecord = '';\n    if (montaDateObj instanceof Date && !isNaN(montaDateObj.getTime())) {\n      const estimatedDate = new Date(montaDateObj);\n      estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n      estimatedBirthDateForRecord = estimatedDate.toISOString().split('T')[0];\n    }\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`,\n      // Generar ID único\n      idAnimal: vacaId,\n      tipoEvento: 'monta',\n      fechaEvento: fechaMonta,\n      observaciones,\n      estadoPosterior: 'posiblemente preñada',\n      // Estado inicial después de monta/inseminación\n      toroId,\n      fechaPartoEstimada: estimatedBirthDateForRecord // Guardar fecha de parto estimada\n    });\n    alert('¡Excelente! La monta natural ha sido registrada con éxito. ¡Esperemos que pronto tengamos buenas noticias!');\n    setMontaNaturalData({\n      vacaId: '',\n      toroId: '',\n      fechaMonta: '',\n      observaciones: ''\n    });\n  };\n  const handleInseminacionSubmit = () => {\n    const {\n      vacaId,\n      semenId,\n      fechaInseminacion,\n      observaciones\n    } = inseminacionData;\n    if (!vacaId || !semenId || !fechaInseminacion) {\n      alert('¡Uy! Para registrar la inseminación, necesitamos que llenes todos los campos. ¡No te rindas, ya casi lo logras!');\n      return;\n    }\n\n    // Calcular fecha de parto estimada para el registro\n    const inseminacionDateObj = new Date(fechaInseminacion);\n    let estimatedBirthDateForRecord = '';\n    if (inseminacionDateObj instanceof Date && !isNaN(inseminacionDateObj.getTime())) {\n      const estimatedDate = new Date(inseminacionDateObj);\n      estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n      estimatedBirthDateForRecord = estimatedDate.toISOString().split('T')[0];\n    }\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`,\n      // Generar ID único\n      idAnimal: vacaId,\n      tipoEvento: 'inseminacion',\n      fechaEvento: fechaInseminacion,\n      observaciones,\n      estadoPosterior: 'posiblemente preñada',\n      // Estado inicial después de monta/inseminación\n      toroId: semenId,\n      // opcional\n      fechaPartoEstimada: estimatedBirthDateForRecord // Guardar fecha de parto estimada\n    });\n    alert('¡Genial! La inseminación ha sido registrada. ¡Crucemos los dedos por un buen resultado!');\n    setInseminacionData({\n      vacaId: '',\n      semenId: '',\n      fechaInseminacion: '',\n      observaciones: ''\n    });\n  };\n  const handleGestacionSubmit = () => {\n    const {\n      vacaId,\n      tipoMonta,\n      fechaDiagnostico,\n      resultadoDiagnostico,\n      pesoTernero,\n      sexoTernero,\n      nombreTernero,\n      observacionesParto,\n      fechaPartoReal,\n      padreTerneroId,\n      padreTerneroNombre,\n      razaPadreTernero,\n      isPadreRegistered,\n      fechaPartoEstimada // Usar la fechaPartoEstimada del estado\n    } = gestacionData;\n    if (!vacaId || !fechaDiagnostico || !resultadoDiagnostico) {\n      alert('¡Atención! Para el diagnóstico de gestación, necesitamos que completes los campos obligatorios. ¡Vamos, tú puedes!');\n      return;\n    }\n    let newAnimalState = '';\n    if (resultadoDiagnostico === 'positiva') {\n      newAnimalState = 'preñada';\n    } else {\n      newAnimalState = 'vacia';\n    }\n\n    // Actualizar el estado reproductivo de la vaca\n    onUpdateAnimalProduction(vacaId, {\n      estadoReproductivo: newAnimalState,\n      fechaUltimaGestacion: newAnimalState === 'preñada' ? fechaDiagnostico : ''\n    });\n\n    // Registrar el evento de diagnóstico\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`,\n      idAnimal: vacaId,\n      tipoEvento: 'diagnóstico',\n      fechaEvento: fechaDiagnostico,\n      observaciones: `Diagnóstico: ${resultadoDiagnostico}. ${observacionesParto}`,\n      estadoPosterior: newAnimalState,\n      fechaPartoEstimada: fechaPartoEstimada,\n      // Usar la fechaPartoEstimada del estado\n      tipoMonta: tipoMonta // Guardar el tipo de monta\n    });\n\n    // Si se registró una fecha de parto real\n    if (fechaPartoReal) {\n      onUpdateAnimalProduction(vacaId, {\n        estadoReproductivo: 'produccion',\n        fechaUltimoParto: fechaPartoReal\n      });\n      onRegisterReproductiveEvent({\n        id: `REC-${Date.now().toString().slice(-5)}`,\n        idAnimal: vacaId,\n        tipoEvento: 'parto',\n        fechaEvento: fechaPartaReal,\n        // Corregido: usar fechaPartoReal\n        observaciones: observacionesParto,\n        estadoPosterior: 'produccion'\n      });\n      if (nombreTernero && sexoTernero && pesoTernero) {\n        var _animals$find, _animals$find2;\n        const birthYear = new Date(fechaPartoReal).getFullYear().toString().slice(-2);\n        const newCalfId = `${vacaId}-${birthYear}`;\n        const newCalf = {\n          id: newCalfId,\n          name: nombreTernero,\n          raza: ((_animals$find = animals.find(a => a.id === vacaId)) === null || _animals$find === void 0 ? void 0 : _animals$find.raza) || 'Desconocida',\n          peso: pesoTernero,\n          sexo: sexoTernero,\n          fechaNacimiento: fechaPartoReal,\n          fechaCompra: '',\n          tipoProduccion: '',\n          idpadre: isPadreRegistered ? padreTerneroId : padreTerneroNombre,\n          razaPadre: isPadreRegistered ? ((_animals$find2 = animals.find(a => a.id === padreTerneroId)) === null || _animals$find2 === void 0 ? void 0 : _animals$find2.raza) || 'Desconocida' : razaPadreTernero,\n          idmadre: vacaId,\n          estadoReproductivo: 'desarrollo',\n          edadClasificada: classifyAnimalAge(fechaPartoReal, sexoTernero)\n        };\n        onRegisterAnimal(newCalf);\n        alert(`¡Felicidades! El ternero ${nombreTernero} ha sido registrado automáticamente con ID: ${newCalfId}. ¡Un nuevo miembro en la familia!`);\n      }\n    }\n    alert('¡Diagnóstico de gestación registrado! Mantente al tanto de las novedades.');\n    setGestacionData({\n      vacaId: '',\n      tipoMonta: '',\n      fechaDiagnostico: '',\n      resultadoDiagnostico: '',\n      fechaPartoEstimada: '',\n      pesoTernero: '',\n      sexoTernero: '',\n      nombreTernero: '',\n      observacionesParto: '',\n      fechaPartoReal: '',\n      padreTerneroId: '',\n      padreTerneroNombre: '',\n      razaPadreTernero: '',\n      isPadreRegistered: false\n    });\n  };\n  const handleDeleteHistoryRecord = recordId => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar este registro? ¡Esta acción no se puede deshacer!')) {\n      const updatedRecords = reproductiveRecords.filter(record => record.id !== recordId);\n      setReproductiveRecords(updatedRecords); // Update state in App.js via prop\n      alert('¡Registro eliminado! Como si nunca hubiera existido.');\n    }\n  };\n  const startEditingHistoryRecord = record => {\n    setEditingRecord({\n      ...record\n    }); // Create a copy to edit\n    alert('¡A editar se ha dicho! Modifica los campos y guarda los cambios.');\n  };\n  const handleEditingHistoryChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditingRecord(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const saveEditedHistoryRecord = () => {\n    const updatedRecords = reproductiveRecords.map(record => record.id === editingRecord.id ? editingRecord : record);\n    setReproductiveRecords(updatedRecords); // Update state in App.js via prop\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Cambios guardados! Tu historial está al día.');\n  };\n  const cancelEditingHistoryRecord = () => {\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Edición cancelada! No te preocupes, tus datos están a salvo.');\n  };\n\n  // Function to add a manual reproductive event\n  const handleAddManualEvent = () => {\n    const animalId = prompt(\"Ingresa el ID del animal para el evento manual:\");\n    const tipoEvento = prompt(\"¿Qué tipo de evento quieres registrar? (ej. 'observacion', 'tratamiento'):\");\n    const fechaEvento = prompt(\"¿Cuándo ocurrió el evento? (YYYY-MM-DD):\");\n    const observaciones = prompt(\"¿Alguna observación adicional sobre este evento?:\");\n    const estadoPosterior = prompt(\"¿Cuál es el estado del animal después de este evento? (ej. 'vacia', 'produccion'):\");\n    if (animalId && tipoEvento && fechaEvento) {\n      onRegisterReproductiveEvent({\n        id: `REC-${Date.now().toString().slice(-5)}`,\n        // Generar ID único\n        idAnimal: animalId,\n        tipoEvento: tipoEvento,\n        fechaEvento: fechaEvento,\n        observaciones: observaciones,\n        estadoPosterior: estadoPosterior\n      });\n      alert('¡Evento manual registrado! Tu historial sigue creciendo.');\n    } else {\n      alert('¡Ojo! Para registrar un evento manual, necesitamos el ID del animal, el tipo de evento y la fecha. ¡Inténtalo de nuevo!');\n    }\n  };\n  const handleExportHistory = async format => {\n    if (reproductiveRecords.length === 0) {\n      alert('¡No hay registros para exportar! ¿Qué esperas para empezar a registrar?');\n      return;\n    }\n    const filename = `historial_reproductivo_${new Date().toISOString().split('T')[0]}`;\n    const farmName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.farmName) || 'Mi Finca Ganadera';\n    const adminName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || 'Administrador';\n    if (format === 'csv') {\n      exportToCsv(reproductiveRecords, filename);\n      alert('¡Exportando a CSV! Tu historial estará listo en un santiamén.');\n    } else if (format === 'pdf') {\n      await exportTableToPdf(historyTableRef.current, filename, 'Historial Reproductivo', farmName, adminName, logoUrl);\n      alert('¡Generando PDF! Tu historial se verá de lujo en papel.');\n    }\n  };\n\n  // Filtrar vacas preñadas para la tabla\n  const pregnantCows = animals.filter(animal => animal.sexo === 'hembra' && animal.estadoReproductivo === 'preñada').map(animal => {\n    // Encontrar el último registro de gestación positivo para obtener la fecha de parto estimada\n    const lastPositiveDiagnosis = reproductiveRecords.filter(rec => rec.idAnimal === animal.id && rec.tipoEvento === 'diagnóstico' && rec.estadoPosterior === 'preñada').sort((a, b) => new Date(b.fechaEvento) - new Date(a.fechaEvento))[0];\n    const lastMontaInseminacion = reproductiveRecords.filter(rec => rec.idAnimal === animal.id && (rec.tipoEvento === 'monta' || rec.tipoEvento === 'inseminacion')).sort((a, b) => new Date(b.fechaEvento) - new Date(a.fechaEvento))[0];\n    let fechaOrigenGestacion = '';\n    let fechaPartoEstimada = '';\n\n    // Priorizar la fecha estimada del diagnóstico si existe\n    if (lastPositiveDiagnosis && lastPositiveDiagnosis.fechaPartoEstimada) {\n      fechaOrigenGestacion = lastPositiveDiagnosis.fechaEvento;\n      fechaPartoEstimada = lastPositiveDiagnosis.fechaPartoEstimada;\n    } else if (lastMontaInseminacion) {\n      fechaOrigenGestacion = lastMontaInseminacion.fechaEvento;\n      const origenDateObj = new Date(fechaOrigenGestacion);\n      if (origenDateObj instanceof Date && !isNaN(origenDateObj.getTime())) {\n        const estimatedDate = new Date(origenDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      }\n    }\n    return {\n      ...animal,\n      fechaOrigenGestacion: fechaOrigenGestacion,\n      fechaPartoEstimada: fechaPartoEstimada\n    };\n  }).filter(animal => animal.fechaPartoEstimada); // Solo incluir vacas con fecha de parto estimada\n\n  const filteredReproductiveRecords = reproductiveRecords.filter(record => {\n    const recordDate = new Date(record.fechaEvento);\n    const start = filterStartDate ? new Date(filterStartDate) : null;\n    const end = filterEndDate ? new Date(filterEndDate) : null;\n    if (start && recordDate < start) return false;\n    if (end && recordDate > end) return false;\n    return true;\n  });\n  const maleAnimals = animals.filter(a => a.sexo === 'macho');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Control Reproductivo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mb-6 space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentSection('montaNatural'),\n        className: `px-6 py-2 rounded-lg ${currentSection === 'montaNatural' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Monta Natural\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentSection('inseminacion'),\n        className: `px-6 py-2 rounded-lg ${currentSection === 'inseminacion' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Inseminaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentSection('gestacion'),\n        className: `px-6 py-2 rounded-lg ${currentSection === 'gestacion' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Control de Gestaci\\xF3n / Parto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentSection('historial'),\n        className: `px-6 py-2 rounded-lg ${currentSection === 'historial' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Historial Reproductivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 7\n    }, this), currentSection === 'montaNatural' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Registro de Monta Natural\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Vaca:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"vacaId\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: montaNaturalData.vacaId,\n          onChange: handleMontaNaturalChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Vaca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this), animals.filter(a => a.sexo === 'hembra').map(vaca => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vaca.id,\n            children: [vaca.name, \" (\", vaca.id, \")\"]\n          }, vaca.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Toro:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"toroId\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: montaNaturalData.toroId,\n          onChange: handleMontaNaturalChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Toro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), animals.filter(a => a.sexo === 'macho').map(toro => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: toro.id,\n            children: [toro.name, \" (\", toro.id, \")\"]\n          }, toro.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Fecha de Monta:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fechaMonta\",\n          placeholder: \"Fecha de Monta\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: montaNaturalData.fechaMonta,\n          onChange: handleMontaNaturalChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1 col-span-full\",\n          children: \"Observaciones:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"observaciones\",\n          placeholder: \"Observaciones\",\n          rows: \"2\",\n          className: \"w-full px-4 py-2 border rounded-lg col-span-full\",\n          value: montaNaturalData.observaciones,\n          onChange: handleMontaNaturalChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleMontaNaturalSubmit,\n        className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Registrar Monta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this), currentSection === 'inseminacion' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Registro de Inseminaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Vaca:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"vacaId\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: inseminacionData.vacaId,\n          onChange: handleInseminacionChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Vaca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 15\n          }, this), animals.filter(a => a.sexo === 'hembra').map(vaca => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vaca.id,\n            children: [vaca.name, \" (\", vaca.id, \")\"]\n          }, vaca.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 571,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"ID Semen Utilizado:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"semenId\",\n          placeholder: \"ID Semen Utilizado\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: inseminacionData.semenId,\n          onChange: handleInseminacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Fecha de Inseminaci\\xF3n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fechaInseminacion\",\n          placeholder: \"Fecha de Inseminaci\\xF3n\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: inseminacionData.fechaInseminacion,\n          onChange: handleInseminacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Inseminador:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"inseminador\",\n          placeholder: \"Inseminador (Opcional)\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: inseminacionData.inseminador,\n          onChange: handleInseminacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1 col-span-full\",\n          children: \"Observaciones:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"observaciones\",\n          placeholder: \"Observaciones\",\n          rows: \"2\",\n          className: \"w-full px-4 py-2 border rounded-lg col-span-full\",\n          value: inseminacionData.observaciones,\n          onChange: handleInseminacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleInseminacionSubmit,\n        className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Registrar Inseminaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 9\n    }, this), currentSection === 'gestacion' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Control de Gestaci\\xF3n / Parto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Vaca:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 624,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"vacaId\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: gestacionData.vacaId,\n          onChange: handleGestacionChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Vaca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this), animals.filter(a => a.sexo === 'hembra').map(vaca => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: vaca.id,\n            children: [vaca.name, \" (\", vaca.id, \")\"]\n          }, vaca.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Tipo de Monta:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"tipoMonta\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: gestacionData.tipoMonta,\n          onChange: handleGestacionChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Tipo de Monta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"natural\",\n            children: \"Natural\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inseminacion\",\n            children: \"Inseminaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Fecha Diagn\\xF3stico Gestaci\\xF3n:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fechaDiagnostico\",\n          placeholder: \"Fecha de Diagn\\xF3stico de Gestaci\\xF3n\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: gestacionData.fechaDiagnostico,\n          onChange: handleGestacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Resultado Diagn\\xF3stico:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"resultadoDiagnostico\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: gestacionData.resultadoDiagnostico,\n          onChange: handleGestacionChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Resultado Diagn\\xF3stico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"positiva\",\n            children: \"Positiva (Pre\\xF1ada)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"negativa\",\n            children: \"Negativa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 13\n        }, this), gestacionData.resultadoDiagnostico === 'positiva' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Fecha de Parto Estimada:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"fechaPartoEstimada\",\n            placeholder: \"Fecha de Parto Estimada\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: gestacionData.fechaPartoEstimada,\n            onChange: handleGestacionChange,\n            title: \"Calculada autom\\xE1ticamente al registrar monta/inseminaci\\xF3n o diagn\\xF3stico positivo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1\",\n          children: \"Fecha de Parto Real (si ya ocurri\\xF3):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fechaPartoReal\",\n          placeholder: \"Fecha de Parto Real (si ya ocurri\\xF3)\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: gestacionData.fechaPartoReal,\n          onChange: handleGestacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this), gestacionData.fechaPartoReal && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Peso del Ternero (kg):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"pesoTernero\",\n            placeholder: \"Peso del Ternero (kg)\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: gestacionData.pesoTernero,\n            onChange: handleGestacionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Sexo del Ternero:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"sexoTernero\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: gestacionData.sexoTernero,\n            onChange: handleGestacionChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Sexo del Ternero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Nombre del Ternero:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 712,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"nombreTernero\",\n            placeholder: \"Nombre del Ternero\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: gestacionData.nombreTernero,\n            onChange: handleGestacionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-full flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"isPadreRegistered\",\n              name: \"isPadreRegistered\",\n              checked: gestacionData.isPadreRegistered,\n              onChange: handleGestacionChange,\n              className: \"form-checkbox h-4 w-4 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"isPadreRegistered\",\n              className: \"text-gray-700 text-sm font-bold\",\n              children: \"Padre registrado en la finca\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 17\n          }, this), gestacionData.isPadreRegistered ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Seleccionar Padre:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"padreTerneroId\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              value: gestacionData.padreTerneroId,\n              onChange: handleGestacionChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Selecciona Padre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 23\n              }, this), maleAnimals.map(toro => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: toro.id,\n                children: [toro.name, \" (\", toro.id, \")\"]\n              }, toro.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Nombre del Padre del Ternero:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 751,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"padreTerneroNombre\",\n              placeholder: \"Nombre del Padre del Ternero\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              value: gestacionData.padreTerneroNombre,\n              onChange: handleGestacionChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Raza del Padre del Ternero:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 760,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"razaPadreTernero\",\n              placeholder: \"Raza del Padre del Ternero\",\n              className: \"w-full px-4 py-2 border rounded-lg\",\n              value: gestacionData.razaPadreTernero,\n              onChange: handleGestacionChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-1 col-span-full\",\n          children: \"Observaciones del Parto:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"observacionesParto\",\n          placeholder: \"Observaciones del Parto\",\n          rows: \"2\",\n          className: \"w-full px-4 py-2 border rounded-lg col-span-full\",\n          value: gestacionData.observacionesParto,\n          onChange: handleGestacionChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGestacionSubmit,\n        className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Registrar Gestaci\\xF3n / Parto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 783,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 9\n    }, this), currentSection === 'historial' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Historial Reproductivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-between items-center mb-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddManualEvent,\n          className: \"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",\n          children: \"Registrar Evento Manual\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700 text-sm font-bold\",\n            children: \"Desde:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filterStartDate,\n            onChange: e => setFilterStartDate(e.target.value),\n            className: \"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-700 text-sm font-bold\",\n            children: \"Hasta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: filterEndDate,\n            onChange: e => setFilterEndDate(e.target.value),\n            className: \"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExportHistory('csv'),\n            className: \"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\",\n            children: \"Exportar a CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExportHistory('pdf'),\n            className: \"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\",\n            children: \"Exportar a PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto rounded-lg shadow-md\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          ref: historyTableRef,\n          className: \"min-w-full bg-white text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-800 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold rounded-tl-lg\",\n                children: \"ID Evento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"ID Animal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Tipo Evento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Fecha Evento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Observaciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Estado Posterior\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold rounded-tr-lg\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 836,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 835,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"divide-y divide-gray-200\",\n            children: filteredReproductiveRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-100 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.idAnimal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.tipoEvento\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.fechaEvento\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.observaciones\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 853,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: record.estadoPosterior\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => startEditingHistoryRecord(record),\n                  className: \"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\",\n                  children: \"Editar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteHistoryRecord(record.id),\n                  className: \"text-red-600 hover:text-red-800 font-medium transition-colors\",\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 21\n              }, this)]\n            }, record.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 834,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 833,\n        columnNumber: 11\n      }, this), editingRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold mb-4 text-gray-800\",\n          children: [\"Editar Registro Hist\\xF3rico: \", editingRecord.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Tipo Evento:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 881,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"tipoEvento\",\n              className: \"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\",\n              value: editingRecord.tipoEvento,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 880,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Fecha Evento:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"fechaEvento\",\n              className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n              value: editingRecord.fechaEvento,\n              onChange: handleEditingHistoryChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Estado Posterior:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"estadoPosterior\",\n              className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n              value: editingRecord.estadoPosterior,\n              onChange: handleEditingHistoryChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-gray-700 text-sm font-bold mb-1\",\n              children: \"Observaciones:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"observaciones\",\n              rows: \"3\",\n              className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n              value: editingRecord.observaciones,\n              onChange: handleEditingHistoryChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 910,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveEditedHistoryRecord,\n            className: \"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\",\n            children: \"Guardar Cambios\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 922,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: cancelEditingHistoryRecord,\n            className: \"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\",\n            children: \"Cancelar Edici\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 921,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 pt-4 border-t border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Vacas Pre\\xF1adas y Calendario de Gestaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"ID Vaca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 947,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Origen Gestaci\\xF3n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Parto Estimada\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 950,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"D\\xEDas Restantes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 951,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 946,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: pregnantCows.map(vaca => {\n              const diasRestantes = calcularDiasRestantes(vaca.fechaPartoEstimada);\n              const isOverdue = diasRestantes < 0;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: vaca.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 962,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: vaca.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 963,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: vaca.fechaOrigenGestacion || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 964,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `py-2 px-4 border ${isOverdue ? 'text-red-600 font-bold' : ''}`,\n                  children: vaca.fechaPartoEstimada || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `py-2 px-4 border ${isOverdue ? 'text-red-600 font-bold' : ''}`,\n                  children: isNaN(diasRestantes) ? 'N/A' : isOverdue ? `Venció hace ${Math.abs(diasRestantes)} días` : diasRestantes\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 968,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"text-red-600 hover:underline\",\n                    onClick: () => onDeletePregnantCow(vaca.id),\n                    children: \"Eliminar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 972,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 971,\n                  columnNumber: 21\n                }, this)]\n              }, vaca.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 941,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 472,\n    columnNumber: 5\n  }, this);\n};\n_s(ReproductiveControlPage, \"P21FuyVVeJoNcpB/qNiBJxToDNM=\");\n_c = ReproductiveControlPage;\nexport default ReproductiveControlPage;\nvar _c;\n$RefreshReg$(_c, \"ReproductiveControlPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","classifyAnimalAge","exportToCsv","exportTableToPdf","jsxDEV","_jsxDEV","Fragment","_Fragment","GESTATION_DAYS","ReproductiveControlPage","animals","onUpdateAnimalProduction","onRegisterReproductiveEvent","onDeletePregnantCow","reproductiveRecords","setReproductiveRecords","onRegisterAnimal","currentUser","logoUrl","_s","currentSection","setCurrentSection","montaNaturalData","setMontaNaturalData","vacaId","toroId","fechaMonta","observaciones","inseminacionData","setInseminacionData","semenId","fechaInseminacion","inseminador","gestacionData","setGestacionData","tipoMonta","fechaDiagnostico","resultadoDiagnostico","fechaPartoEstimada","fechaPartoReal","pesoTernero","sexoTernero","nombreTernero","observacionesParto","padreTerneroId","padreTerneroNombre","razaPadreTernero","isPadreRegistered","editingRecord","setEditingRecord","historyTableRef","filterStartDate","setFilterStartDate","filterEndDate","setFilterEndDate","calcularDiasRestantes","hoy","Date","fecha","isNaN","getTime","NaN","diferencia","Math","ceil","length","animalStatusUpdates","recordStatusUpdates","forEach","record","currentAnimal","find","a","id","idAnimal","tipoEvento","estadoPosterior","estado","estimatedBirthDateStr","diagnosisDate","fechaEvento","estimatedDate","setDate","getDate","toISOString","split","push","update","dias","estadoReproductivo","fechaUltimoParto","newReproductiveRecords","map","rec","u","handleMontaNaturalChange","e","name","value","target","handleInseminacionChange","handleGestacionChange","type","checked","updatedGestacionData","diagnosisDateObj","handleMontaNaturalSubmit","alert","montaDateObj","estimatedBirthDateForRecord","now","toString","slice","handleInseminacionSubmit","inseminacionDateObj","handleGestacionSubmit","newAnimalState","fechaUltimaGestacion","fechaPartaReal","_animals$find","_animals$find2","birthYear","getFullYear","newCalfId","newCalf","raza","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","idpadre","razaPadre","idmadre","edadClasificada","handleDeleteHistoryRecord","recordId","window","confirm","updatedRecords","filter","startEditingHistoryRecord","handleEditingHistoryChange","prev","saveEditedHistoryRecord","cancelEditingHistoryRecord","handleAddManualEvent","animalId","prompt","handleExportHistory","format","filename","farmName","adminName","fullName","current","pregnantCows","animal","lastPositiveDiagnosis","sort","b","lastMontaInseminacion","fechaOrigenGestacion","origenDateObj","filteredReproductiveRecords","recordDate","start","end","maleAnimals","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","vaca","toro","placeholder","rows","title","htmlFor","ref","readOnly","diasRestantes","isOverdue","abs","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ReproductiveControlPage.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { classifyAnimalAge } from '../utils/helpers'; // Importar la función de utilidad\nimport { exportToCsv, exportTableToPdf } from '../utils/exportHelpers'; // Importar funciones de exportación\n\nconst GESTATION_DAYS = 283; // Días promedio de gestación para bovinos\n\nconst ReproductiveControlPage = ({ animals, onUpdateAnimalProduction, onRegisterReproductiveEvent, onDeletePregnantCow, reproductiveRecords, setReproductiveRecords, onRegisterAnimal, currentUser, logoUrl }) => {\n  const [currentSection, setCurrentSection] = useState('montaNatural'); // 'montaNatural', 'inseminacion', 'gestacion', 'historial'\n\n  const [montaNaturalData, setMontaNaturalData] = useState({\n    vacaId: '',\n    toroId: '',\n    fechaMonta: '',\n    observaciones: '',\n  });\n\n  const [inseminacionData, setInseminacionData] = useState({\n    vacaId: '',\n    semenId: '', // ID del semen utilizado\n    fechaInseminacion: '',\n    inseminador: '',\n    observaciones: '',\n  });\n\n  const [gestacionData, setGestacionData] = useState({\n    vacaId: '',\n    tipoMonta: '', // 'natural', 'inseminacion'\n    fechaDiagnostico: '',\n    resultadoDiagnostico: '', // 'positiva', 'negativa'\n    fechaPartoEstimada: '', // Calculada\n    fechaPartoReal: '',\n    pesoTernero: '',\n    sexoTernero: '',\n    nombreTernero: '',\n    observacionesParto: '',\n    padreTerneroId: '', // ID del padre si está registrado\n    padreTerneroNombre: '', // Nombre del padre si es nuevo\n    razaPadreTernero: '', // Raza del padre si es nuevo\n    isPadreRegistered: false, // Para controlar si el padre está registrado\n  });\n\n  const [editingRecord, setEditingRecord] = useState(null); // To hold the record being edited\n  const historyTableRef = useRef(null); // Ref for the history table\n\n  const [filterStartDate, setFilterStartDate] = useState('');\n  const [filterEndDate, setFilterEndDate] = useState('');\n\n  // Función auxiliar para calcular días restantes\n  const calcularDiasRestantes = (fechaPartoEstimada) => {\n    const hoy = new Date();\n    const fecha = new Date(fechaPartoEstimada);\n    // Verificar si la fecha es válida antes de calcular la diferencia\n    if (isNaN(fecha.getTime())) {\n      return NaN; // Retorna NaN si la fecha no es válida\n    }\n    const diferencia = fecha.getTime() - hoy.getTime(); // Usar getTime() para operar con milisegundos\n    return Math.ceil(diferencia / (1000 * 60 * 60 * 24));\n  };\n\n  // useEffect para evaluar registros reproductivos y actualizar estados\n  useEffect(() => {\n    if (!reproductiveRecords || reproductiveRecords.length === 0) {\n      return;\n    }\n\n    let animalStatusUpdates = [];\n    let recordStatusUpdates = [];\n\n    reproductiveRecords.forEach(record => {\n      const currentAnimal = animals.find(a => a.id === record.idAnimal);\n      if (!currentAnimal) return; // Animal not found, skip\n\n      // Logic for 'preñada' records that are not yet finalized\n      if (record.tipoEvento === 'diagnóstico' && record.estadoPosterior === 'preñada' && record.estado !== 'finalizado') {\n        let estimatedBirthDateStr = record.fechaPartoEstimada;\n\n        // If estimated birth date is missing, calculate it from the diagnosis date\n        if (!estimatedBirthDateStr) {\n          const diagnosisDate = new Date(record.fechaEvento);\n          if (diagnosisDate instanceof Date && !isNaN(diagnosisDate.getTime())) {\n            const estimatedDate = new Date(diagnosisDate);\n            estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n            estimatedBirthDateStr = estimatedDate.toISOString().split('T')[0];\n            // Update the record itself with the estimated date for persistence\n            recordStatusUpdates.push({ id: record.id, update: { fechaPartoEstimada: estimatedBirthDateStr } });\n          }\n        }\n\n        if (estimatedBirthDateStr) {\n          const dias = calcularDiasRestantes(estimatedBirthDateStr);\n\n          // Solo aplicar reglas si los días restantes son un número válido\n          if (!isNaN(dias)) {\n            // Rule 1: Change to SECA if less than 100 days to birth AND animal is not already 'seca'\n            if (dias <= 100 && dias > 0 && currentAnimal.estadoReproductivo !== 'seca') {\n              animalStatusUpdates.push({ id: record.idAnimal, update: { estadoReproductivo: 'seca' } });\n            }\n\n            // Rule 2: Change to PRODUCCIÓN if estimated birth date passed AND animal is not already 'produccion'\n            if (dias <= 0 && currentAnimal.estadoReproductivo !== 'produccion') {\n              animalStatusUpdates.push({ id: record.idAnimal, update: { estadoReproductivo: 'produccion', fechaUltimoParto: estimatedBirthDateStr } });\n              // Mark the reproductive record as finalized after birth\n              recordStatusUpdates.push({ id: record.id, update: { estado: 'finalizado' } });\n            }\n          }\n        }\n      }\n    });\n\n    // Apply animal status updates\n    animalStatusUpdates.forEach(update => {\n      onUpdateAnimalProduction(update.id, update.update);\n    });\n\n    // Apply reproductive record status updates\n    if (recordStatusUpdates.length > 0) {\n      const newReproductiveRecords = reproductiveRecords.map(rec => {\n        const update = recordStatusUpdates.find(u => u.id === rec.id);\n        return update ? { ...rec, ...update.update } : rec;\n      });\n      setReproductiveRecords(newReproductiveRecords);\n    }\n\n  }, [reproductiveRecords, animals, onUpdateAnimalProduction, setReproductiveRecords]); // Dependencies\n\n  const handleMontaNaturalChange = (e) => {\n    const { name, value } = e.target;\n    setMontaNaturalData({ ...montaNaturalData, [name]: value });\n  };\n\n  const handleInseminacionChange = (e) => {\n    const { name, value } = e.target;\n    setInseminacionData({ ...inseminacionData, [name]: value });\n  };\n\n  const handleGestacionChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    let updatedGestacionData = { ...gestacionData, [name]: value };\n\n    if (type === 'checkbox') {\n      updatedGestacionData = { ...gestacionData, [name]: checked };\n    } else if (name === 'fechaDiagnostico' && updatedGestacionData.resultadoDiagnostico === 'positiva') {\n      // Recalcular fechaPartoEstimada si cambia la fechaDiagnostico y el resultado es positivo\n      const diagnosisDateObj = new Date(value);\n      if (diagnosisDateObj instanceof Date && !isNaN(diagnosisDateObj.getTime())) {\n        const estimatedDate = new Date(diagnosisDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        updatedGestacionData.fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      } else {\n        updatedGestacionData.fechaPartoEstimada = '';\n      }\n    } else if (name === 'resultadoDiagnostico' && value === 'positiva' && updatedGestacionData.fechaDiagnostico) {\n      // Recalcular fechaPartoEstimada si el resultado cambia a positivo y ya hay fechaDiagnostico\n      const diagnosisDateObj = new Date(updatedGestacionData.fechaDiagnostico);\n      if (diagnosisDateObj instanceof Date && !isNaN(diagnosisDateObj.getTime())) {\n        const estimatedDate = new Date(diagnosisDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        updatedGestacionData.fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      } else {\n        updatedGestacionData.fechaPartoEstimada = '';\n      }\n    } else if (name === 'resultadoDiagnostico' && value === 'negativa') {\n      // Limpiar fechaPartoEstimada si el resultado es negativo\n      updatedGestacionData.fechaPartoEstimada = '';\n    }\n\n    setGestacionData(updatedGestacionData);\n  };\n\n  const handleMontaNaturalSubmit = () => {\n    const { vacaId, toroId, fechaMonta, observaciones } = montaNaturalData;\n\n    if (!vacaId || !toroId || !fechaMonta) {\n      alert('¡Ups! Parece que te faltan algunos datos para registrar la monta natural. ¡Completa todos los campos y lo intentamos de nuevo!');\n      return;\n    }\n\n    // Calcular fecha de parto estimada para el registro\n    const montaDateObj = new Date(fechaMonta);\n    let estimatedBirthDateForRecord = '';\n    if (montaDateObj instanceof Date && !isNaN(montaDateObj.getTime())) {\n      const estimatedDate = new Date(montaDateObj);\n      estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n      estimatedBirthDateForRecord = estimatedDate.toISOString().split('T')[0];\n    }\n\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`, // Generar ID único\n      idAnimal: vacaId,\n      tipoEvento: 'monta',\n      fechaEvento: fechaMonta,\n      observaciones,\n      estadoPosterior: 'posiblemente preñada', // Estado inicial después de monta/inseminación\n      toroId,\n      fechaPartoEstimada: estimatedBirthDateForRecord, // Guardar fecha de parto estimada\n    });\n\n    alert('¡Excelente! La monta natural ha sido registrada con éxito. ¡Esperemos que pronto tengamos buenas noticias!');\n    setMontaNaturalData({ vacaId: '', toroId: '', fechaMonta: '', observaciones: '' });\n  };\n\n  const handleInseminacionSubmit = () => {\n    const { vacaId, semenId, fechaInseminacion, observaciones } = inseminacionData;\n\n    if (!vacaId || !semenId || !fechaInseminacion) {\n      alert('¡Uy! Para registrar la inseminación, necesitamos que llenes todos los campos. ¡No te rindas, ya casi lo logras!');\n      return;\n    }\n\n    // Calcular fecha de parto estimada para el registro\n    const inseminacionDateObj = new Date(fechaInseminacion);\n    let estimatedBirthDateForRecord = '';\n    if (inseminacionDateObj instanceof Date && !isNaN(inseminacionDateObj.getTime())) {\n      const estimatedDate = new Date(inseminacionDateObj);\n      estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n      estimatedBirthDateForRecord = estimatedDate.toISOString().split('T')[0];\n    }\n\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`, // Generar ID único\n      idAnimal: vacaId,\n      tipoEvento: 'inseminacion',\n      fechaEvento: fechaInseminacion,\n      observaciones,\n      estadoPosterior: 'posiblemente preñada', // Estado inicial después de monta/inseminación\n      toroId: semenId, // opcional\n      fechaPartoEstimada: estimatedBirthDateForRecord, // Guardar fecha de parto estimada\n    });\n\n    alert('¡Genial! La inseminación ha sido registrada. ¡Crucemos los dedos por un buen resultado!');\n\n    setInseminacionData({\n      vacaId: '',\n      semenId: '',\n      fechaInseminacion: '',\n      observaciones: '',\n    });\n  };\n\n  const handleGestacionSubmit = () => {\n    const {\n      vacaId,\n      tipoMonta,\n      fechaDiagnostico,\n      resultadoDiagnostico,\n      pesoTernero,\n      sexoTernero,\n      nombreTernero,\n      observacionesParto,\n      fechaPartoReal,\n      padreTerneroId,\n      padreTerneroNombre,\n      razaPadreTernero,\n      isPadreRegistered,\n      fechaPartoEstimada // Usar la fechaPartoEstimada del estado\n    } = gestacionData;\n\n    if (!vacaId || !fechaDiagnostico || !resultadoDiagnostico) {\n      alert('¡Atención! Para el diagnóstico de gestación, necesitamos que completes los campos obligatorios. ¡Vamos, tú puedes!');\n      return;\n    }\n\n    let newAnimalState = '';\n\n    if (resultadoDiagnostico === 'positiva') {\n      newAnimalState = 'preñada';\n    } else {\n      newAnimalState = 'vacia';\n    }\n\n    // Actualizar el estado reproductivo de la vaca\n    onUpdateAnimalProduction(vacaId, {\n      estadoReproductivo: newAnimalState,\n      fechaUltimaGestacion: newAnimalState === 'preñada' ? fechaDiagnostico : '',\n    });\n\n    // Registrar el evento de diagnóstico\n    onRegisterReproductiveEvent({\n      id: `REC-${Date.now().toString().slice(-5)}`,\n      idAnimal: vacaId,\n      tipoEvento: 'diagnóstico',\n      fechaEvento: fechaDiagnostico,\n      observaciones: `Diagnóstico: ${resultadoDiagnostico}. ${observacionesParto}`,\n      estadoPosterior: newAnimalState,\n      fechaPartoEstimada: fechaPartoEstimada, // Usar la fechaPartoEstimada del estado\n      tipoMonta: tipoMonta, // Guardar el tipo de monta\n    });\n\n    // Si se registró una fecha de parto real\n    if (fechaPartoReal) {\n      onUpdateAnimalProduction(vacaId, {\n        estadoReproductivo: 'produccion',\n        fechaUltimoParto: fechaPartoReal,\n      });\n\n      onRegisterReproductiveEvent({\n        id: `REC-${Date.now().toString().slice(-5)}`,\n        idAnimal: vacaId,\n        tipoEvento: 'parto',\n        fechaEvento: fechaPartaReal, // Corregido: usar fechaPartoReal\n        observaciones: observacionesParto,\n        estadoPosterior: 'produccion',\n      });\n\n      if (nombreTernero && sexoTernero && pesoTernero) {\n        const birthYear = new Date(fechaPartoReal).getFullYear().toString().slice(-2);\n        const newCalfId = `${vacaId}-${birthYear}`; \n        \n        const newCalf = {\n          id: newCalfId,\n          name: nombreTernero,\n          raza: animals.find(a => a.id === vacaId)?.raza || 'Desconocida',\n          peso: pesoTernero,\n          sexo: sexoTernero,\n          fechaNacimiento: fechaPartoReal,\n          fechaCompra: '',\n          tipoProduccion: '',\n          idpadre: isPadreRegistered ? padreTerneroId : padreTerneroNombre,\n          razaPadre: isPadreRegistered ? animals.find(a => a.id === padreTerneroId)?.raza || 'Desconocida' : razaPadreTernero,\n          idmadre: vacaId,\n          estadoReproductivo: 'desarrollo',\n          edadClasificada: classifyAnimalAge(fechaPartoReal, sexoTernero),\n        };\n        onRegisterAnimal(newCalf);\n        alert(`¡Felicidades! El ternero ${nombreTernero} ha sido registrado automáticamente con ID: ${newCalfId}. ¡Un nuevo miembro en la familia!`);\n      }\n    }\n\n    alert('¡Diagnóstico de gestación registrado! Mantente al tanto de las novedades.');\n    setGestacionData({\n      vacaId: '',\n      tipoMonta: '',\n      fechaDiagnostico: '',\n      resultadoDiagnostico: '',\n      fechaPartoEstimada: '',\n      pesoTernero: '',\n      sexoTernero: '',\n      nombreTernero: '',\n      observacionesParto: '',\n      fechaPartoReal: '',\n      padreTerneroId: '',\n      padreTerneroNombre: '',\n      razaPadreTernero: '',\n      isPadreRegistered: false,\n    });\n  };\n\n  const handleDeleteHistoryRecord = (recordId) => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar este registro? ¡Esta acción no se puede deshacer!')) {\n      const updatedRecords = reproductiveRecords.filter(record => record.id !== recordId);\n      setReproductiveRecords(updatedRecords); // Update state in App.js via prop\n      alert('¡Registro eliminado! Como si nunca hubiera existido.');\n    }\n  };\n\n  const startEditingHistoryRecord = (record) => {\n    setEditingRecord({ ...record }); // Create a copy to edit\n    alert('¡A editar se ha dicho! Modifica los campos y guarda los cambios.');\n  };\n\n  const handleEditingHistoryChange = (e) => {\n    const { name, value } = e.target;\n    setEditingRecord(prev => ({ ...prev, [name]: value }));\n  };\n\n  const saveEditedHistoryRecord = () => {\n    const updatedRecords = reproductiveRecords.map(record =>\n      record.id === editingRecord.id ? editingRecord : record\n    );\n    setReproductiveRecords(updatedRecords); // Update state in App.js via prop\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Cambios guardados! Tu historial está al día.');\n  };\n\n  const cancelEditingHistoryRecord = () => {\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Edición cancelada! No te preocupes, tus datos están a salvo.');\n  };\n\n  // Function to add a manual reproductive event\n  const handleAddManualEvent = () => {\n    const animalId = prompt(\"Ingresa el ID del animal para el evento manual:\");\n    const tipoEvento = prompt(\"¿Qué tipo de evento quieres registrar? (ej. 'observacion', 'tratamiento'):\");\n    const fechaEvento = prompt(\"¿Cuándo ocurrió el evento? (YYYY-MM-DD):\");\n    const observaciones = prompt(\"¿Alguna observación adicional sobre este evento?:\");\n    const estadoPosterior = prompt(\"¿Cuál es el estado del animal después de este evento? (ej. 'vacia', 'produccion'):\");\n\n    if (animalId && tipoEvento && fechaEvento) {\n      onRegisterReproductiveEvent({\n        id: `REC-${Date.now().toString().slice(-5)}`, // Generar ID único\n        idAnimal: animalId,\n        tipoEvento: tipoEvento,\n        fechaEvento: fechaEvento,\n        observaciones: observaciones,\n        estadoPosterior: estadoPosterior,\n      });\n      alert('¡Evento manual registrado! Tu historial sigue creciendo.');\n    } else {\n      alert('¡Ojo! Para registrar un evento manual, necesitamos el ID del animal, el tipo de evento y la fecha. ¡Inténtalo de nuevo!');\n    }\n  };\n\n  const handleExportHistory = async (format) => {\n    if (reproductiveRecords.length === 0) {\n      alert('¡No hay registros para exportar! ¿Qué esperas para empezar a registrar?');\n      return;\n    }\n\n    const filename = `historial_reproductivo_${new Date().toISOString().split('T')[0]}`;\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n\n    if (format === 'csv') {\n      exportToCsv(reproductiveRecords, filename);\n      alert('¡Exportando a CSV! Tu historial estará listo en un santiamén.');\n    } else if (format === 'pdf') {\n      await exportTableToPdf(historyTableRef.current, filename, 'Historial Reproductivo', farmName, adminName, logoUrl);\n      alert('¡Generando PDF! Tu historial se verá de lujo en papel.');\n    }\n  };\n\n  // Filtrar vacas preñadas para la tabla\n  const pregnantCows = animals.filter(animal => \n    animal.sexo === 'hembra' && animal.estadoReproductivo === 'preñada'\n  ).map(animal => {\n    // Encontrar el último registro de gestación positivo para obtener la fecha de parto estimada\n    const lastPositiveDiagnosis = reproductiveRecords\n      .filter(rec => rec.idAnimal === animal.id && rec.tipoEvento === 'diagnóstico' && rec.estadoPosterior === 'preñada')\n      .sort((a, b) => new Date(b.fechaEvento) - new Date(a.fechaEvento))[0];\n\n    const lastMontaInseminacion = reproductiveRecords\n      .filter(rec => rec.idAnimal === animal.id && (rec.tipoEvento === 'monta' || rec.tipoEvento === 'inseminacion'))\n      .sort((a, b) => new Date(b.fechaEvento) - new Date(a.fechaEvento))[0];\n\n    let fechaOrigenGestacion = '';\n    let fechaPartoEstimada = '';\n\n    // Priorizar la fecha estimada del diagnóstico si existe\n    if (lastPositiveDiagnosis && lastPositiveDiagnosis.fechaPartoEstimada) {\n      fechaOrigenGestacion = lastPositiveDiagnosis.fechaEvento;\n      fechaPartoEstimada = lastPositiveDiagnosis.fechaPartoEstimada;\n    } else if (lastMontaInseminacion) {\n      fechaOrigenGestacion = lastMontaInseminacion.fechaEvento;\n      const origenDateObj = new Date(fechaOrigenGestacion);\n      if (origenDateObj instanceof Date && !isNaN(origenDateObj.getTime())) {\n        const estimatedDate = new Date(origenDateObj);\n        estimatedDate.setDate(estimatedDate.getDate() + GESTATION_DAYS);\n        fechaPartoEstimada = estimatedDate.toISOString().split('T')[0];\n      }\n    }\n\n    return {\n      ...animal,\n      fechaOrigenGestacion: fechaOrigenGestacion,\n      fechaPartoEstimada: fechaPartoEstimada,\n    };\n  }).filter(animal => animal.fechaPartoEstimada); // Solo incluir vacas con fecha de parto estimada\n\n  const filteredReproductiveRecords = reproductiveRecords.filter(record => {\n    const recordDate = new Date(record.fechaEvento);\n    const start = filterStartDate ? new Date(filterStartDate) : null;\n    const end = filterEndDate ? new Date(filterEndDate) : null;\n\n    if (start && recordDate < start) return false;\n    if (end && recordDate > end) return false;\n    return true;\n  });\n\n  const maleAnimals = animals.filter(a => a.sexo === 'macho');\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control Reproductivo</h3>\n\n      <div className=\"flex justify-center mb-6 space-x-4\">\n        <button\n          onClick={() => setCurrentSection('montaNatural')}\n          className={`px-6 py-2 rounded-lg ${currentSection === 'montaNatural' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Monta Natural\n        </button>\n        <button\n          onClick={() => setCurrentSection('inseminacion')}\n          className={`px-6 py-2 rounded-lg ${currentSection === 'inseminacion' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Inseminación\n        </button>\n        <button\n          onClick={() => setCurrentSection('gestacion')}\n          className={`px-6 py-2 rounded-lg ${currentSection === 'gestacion' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Control de Gestación / Parto\n        </button>\n        <button\n          onClick={() => setCurrentSection('historial')}\n          className={`px-6 py-2 rounded-lg ${currentSection === 'historial' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Historial Reproductivo\n        </button>\n      </div>\n\n      {currentSection === 'montaNatural' && (\n        <div className=\"p-4 border rounded-lg bg-gray-50\">\n          <h4 className=\"text-lg font-semibold mb-3\">Registro de Monta Natural</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Vaca:</label>\n            <select\n              name=\"vacaId\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={montaNaturalData.vacaId}\n              onChange={handleMontaNaturalChange}\n            >\n              <option value=\"\">Selecciona Vaca</option>\n              {animals.filter(a => a.sexo === 'hembra').map(vaca => (\n                <option key={vaca.id} value={vaca.id}>{vaca.name} ({vaca.id})</option>\n              ))}\n            </select>\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Toro:</label>\n            <select\n              name=\"toroId\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={montaNaturalData.toroId}\n              onChange={handleMontaNaturalChange}\n            >\n              <option value=\"\">Selecciona Toro</option>\n              {animals.filter(a => a.sexo === 'macho').map(toro => (\n                <option key={toro.id} value={toro.id}>{toro.name} ({toro.id})</option>\n              ))}\n            </select>\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Monta:</label>\n            <input\n              type=\"date\"\n              name=\"fechaMonta\"\n              placeholder=\"Fecha de Monta\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={montaNaturalData.fechaMonta}\n              onChange={handleMontaNaturalChange}\n            />\n            <label className=\"block text-gray-700 text-sm font-bold mb-1 col-span-full\">Observaciones:</label>\n            <textarea\n              name=\"observaciones\"\n              placeholder=\"Observaciones\"\n              rows=\"2\"\n              className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n              value={montaNaturalData.observaciones}\n              onChange={handleMontaNaturalChange}\n            ></textarea>\n          </div>\n          <button\n            onClick={handleMontaNaturalSubmit}\n            className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n          >\n            Registrar Monta\n          </button>\n        </div>\n      )}\n\n      {currentSection === 'inseminacion' && (\n        <div className=\"p-4 border rounded-lg bg-gray-50\">\n          <h4 className=\"text-lg font-semibold mb-3\">Registro de Inseminación</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Vaca:</label>\n            <select\n              name=\"vacaId\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={inseminacionData.vacaId}\n              onChange={handleInseminacionChange}\n            >\n              <option value=\"\">Selecciona Vaca</option>\n              {animals.filter(a => a.sexo === 'hembra').map(vaca => (\n                <option key={vaca.id} value={vaca.id}>{vaca.name} ({vaca.id})</option>\n              ))}\n            </select>\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">ID Semen Utilizado:</label>\n            <input\n              type=\"text\"\n              name=\"semenId\"\n              placeholder=\"ID Semen Utilizado\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={inseminacionData.semenId}\n              onChange={handleInseminacionChange}\n            />\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Inseminación:</label>\n            <input\n              type=\"date\"\n              name=\"fechaInseminacion\"\n              placeholder=\"Fecha de Inseminación\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={inseminacionData.fechaInseminacion}\n              onChange={handleInseminacionChange}\n            />\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Inseminador:</label>\n            <input\n              type=\"text\"\n              name=\"inseminador\"\n              placeholder=\"Inseminador (Opcional)\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={inseminacionData.inseminador}\n              onChange={handleInseminacionChange}\n            />\n            <label className=\"block text-gray-700 text-sm font-bold mb-1 col-span-full\">Observaciones:</label>\n            <textarea\n              name=\"observaciones\"\n              placeholder=\"Observaciones\"\n              rows=\"2\"\n              className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n              value={inseminacionData.observaciones}\n              onChange={handleInseminacionChange}\n            ></textarea>\n          </div>\n          <button\n            onClick={handleInseminacionSubmit}\n            className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n          >\n            Registrar Inseminación\n          </button>\n        </div>\n      )}\n\n      {currentSection === 'gestacion' && (\n        <div className=\"p-4 border rounded-lg bg-gray-50\">\n          <h4 className=\"text-lg font-semibold mb-3\">Control de Gestación / Parto</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Vaca:</label>\n            <select\n              name=\"vacaId\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={gestacionData.vacaId}\n              onChange={handleGestacionChange}\n            >\n              <option value=\"\">Selecciona Vaca</option>\n              {animals.filter(a => a.sexo === 'hembra').map(vaca => (\n                <option key={vaca.id} value={vaca.id}>{vaca.name} ({vaca.id})</option>\n              ))}\n            </select>\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo de Monta:</label>\n            <select\n              name=\"tipoMonta\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={gestacionData.tipoMonta}\n              onChange={handleGestacionChange}\n            >\n              <option value=\"\">Selecciona Tipo de Monta</option>\n              <option value=\"natural\">Natural</option>\n              <option value=\"inseminacion\">Inseminación</option>\n            </select>\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha Diagnóstico Gestación:</label>\n            <input\n              type=\"date\"\n              name=\"fechaDiagnostico\"\n              placeholder=\"Fecha de Diagnóstico de Gestación\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={gestacionData.fechaDiagnostico}\n              onChange={handleGestacionChange}\n            />\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Resultado Diagnóstico:</label>\n            <select\n              name=\"resultadoDiagnostico\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={gestacionData.resultadoDiagnostico}\n              onChange={handleGestacionChange}\n            >\n              <option value=\"\">Resultado Diagnóstico</option>\n              <option value=\"positiva\">Positiva (Preñada)</option>\n              <option value=\"negativa\">Negativa</option>\n            </select>\n            {gestacionData.resultadoDiagnostico === 'positiva' && (\n              <>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Parto Estimada:</label>\n                <input\n                  type=\"date\"\n                  name=\"fechaPartoEstimada\"\n                  placeholder=\"Fecha de Parto Estimada\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  value={gestacionData.fechaPartoEstimada}\n                  onChange={handleGestacionChange}\n                  title=\"Calculada automáticamente al registrar monta/inseminación o diagnóstico positivo\"\n                />\n              </>\n            )}\n            <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Parto Real (si ya ocurrió):</label>\n            <input\n              type=\"date\"\n              name=\"fechaPartoReal\"\n              placeholder=\"Fecha de Parto Real (si ya ocurrió)\"\n              className=\"w-full px-4 py-2 border rounded-lg\"\n              value={gestacionData.fechaPartoReal}\n              onChange={handleGestacionChange}\n            />\n            {gestacionData.fechaPartoReal && (\n              <>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Peso del Ternero (kg):</label>\n                <input\n                  type=\"number\"\n                  name=\"pesoTernero\"\n                  placeholder=\"Peso del Ternero (kg)\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  value={gestacionData.pesoTernero}\n                  onChange={handleGestacionChange}\n                />\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Sexo del Ternero:</label>\n                <select\n                  name=\"sexoTernero\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  value={gestacionData.sexoTernero}\n                  onChange={handleGestacionChange}\n                >\n                  <option value=\"\">Sexo del Ternero</option>\n                  <option value=\"macho\">Macho</option>\n                  <option value=\"hembra\">Hembra</option>\n                </select>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Nombre del Ternero:</label>\n                <input\n                  type=\"text\"\n                  name=\"nombreTernero\"\n                  placeholder=\"Nombre del Ternero\"\n                  className=\"w-full px-4 py-2 border rounded-lg\"\n                  value={gestacionData.nombreTernero}\n                  onChange={handleGestacionChange}\n                />\n\n                <div className=\"col-span-full flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"isPadreRegistered\"\n                    name=\"isPadreRegistered\"\n                    checked={gestacionData.isPadreRegistered}\n                    onChange={handleGestacionChange}\n                    className=\"form-checkbox h-4 w-4 text-blue-600\"\n                  />\n                  <label htmlFor=\"isPadreRegistered\" className=\"text-gray-700 text-sm font-bold\">Padre registrado en la finca</label>\n                </div>\n\n                {gestacionData.isPadreRegistered ? (\n                  <>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Seleccionar Padre:</label>\n                    <select\n                      name=\"padreTerneroId\"\n                      className=\"w-full px-4 py-2 border rounded-lg\"\n                      value={gestacionData.padreTerneroId}\n                      onChange={handleGestacionChange}\n                    >\n                      <option value=\"\">Selecciona Padre</option>\n                      {maleAnimals.map(toro => (\n                        <option key={toro.id} value={toro.id}>{toro.name} ({toro.id})</option>\n                      ))}\n                    </select>\n                  </>\n                ) : (\n                  <>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Nombre del Padre del Ternero:</label>\n                    <input\n                      type=\"text\"\n                      name=\"padreTerneroNombre\"\n                      placeholder=\"Nombre del Padre del Ternero\"\n                      className=\"w-full px-4 py-2 border rounded-lg\"\n                      value={gestacionData.padreTerneroNombre}\n                      onChange={handleGestacionChange}\n                    />\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Raza del Padre del Ternero:</label>\n                    <input\n                      type=\"text\"\n                      name=\"razaPadreTernero\"\n                      placeholder=\"Raza del Padre del Ternero\"\n                      className=\"w-full px-4 py-2 border rounded-lg\"\n                      value={gestacionData.razaPadreTernero}\n                      onChange={handleGestacionChange}\n                    />\n                  </>\n                )}\n              </>\n            )}\n            <label className=\"block text-gray-700 text-sm font-bold mb-1 col-span-full\">Observaciones del Parto:</label>\n            <textarea\n              name=\"observacionesParto\"\n              placeholder=\"Observaciones del Parto\"\n              rows=\"2\"\n              className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n              value={gestacionData.observacionesParto}\n              onChange={handleGestacionChange}\n            ></textarea>\n          </div>\n          <button\n            onClick={handleGestacionSubmit}\n            className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n          >\n            Registrar Gestación / Parto\n          </button>\n        </div>\n      )}\n\n      {currentSection === 'historial' && (\n        <div className=\"p-4 border rounded-lg bg-gray-50\">\n          <h4 className=\"text-lg font-semibold mb-3\">Historial Reproductivo</h4>\n          <div className=\"flex flex-wrap justify-between items-center mb-4 gap-4\">\n            <button\n              onClick={handleAddManualEvent}\n              className=\"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              Registrar Evento Manual\n            </button>\n            <div className=\"flex items-center space-x-2\">\n              <label className=\"text-gray-700 text-sm font-bold\">Desde:</label>\n              <input\n                type=\"date\"\n                value={filterStartDate}\n                onChange={(e) => setFilterStartDate(e.target.value)}\n                className=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              />\n              <label className=\"text-gray-700 text-sm font-bold\">Hasta:</label>\n              <input\n                type=\"date\"\n                value={filterEndDate}\n                onChange={(e) => setFilterEndDate(e.target.value)}\n                className=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              />\n            </div>\n            <div>\n              <button\n                onClick={() => handleExportHistory('csv')}\n                className=\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\"\n              >\n                Exportar a CSV\n              </button>\n              <button\n                onClick={() => handleExportHistory('pdf')}\n                className=\"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\"\n              >\n                Exportar a PDF\n              </button>\n            </div>\n          </div>\n          <div className=\"overflow-x-auto rounded-lg shadow-md\">\n            <table ref={historyTableRef} className=\"min-w-full bg-white text-sm\">\n              <thead className=\"bg-gray-800 text-white\">\n                <tr>\n                  <th className=\"py-3 px-4 text-left font-semibold rounded-tl-lg\">ID Evento</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">ID Animal</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Tipo Evento</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Fecha Evento</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Observaciones</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Estado Posterior</th>\n                  <th className=\"py-3 px-4 text-left font-semibold rounded-tr-lg\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {filteredReproductiveRecords.map((record) => (\n                  <tr key={record.id} className=\"hover:bg-gray-100 transition-colors\">\n                    <td className=\"py-3 px-4\">{record.id}</td>\n                    <td className=\"py-3 px-4\">{record.idAnimal}</td>\n                    <td className=\"py-3 px-4\">{record.tipoEvento}</td>\n                    <td className=\"py-3 px-4\">{record.fechaEvento}</td>\n                    <td className=\"py-3 px-4\">{record.observaciones}</td>\n                    <td className=\"py-3 px-4\">{record.estadoPosterior}</td>\n                    <td className=\"py-3 px-4\">\n                      <button\n                        onClick={() => startEditingHistoryRecord(record)}\n                        className=\"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\"\n                      >\n                        Editar\n                      </button>\n                      <button\n                        onClick={() => handleDeleteHistoryRecord(record.id)}\n                        className=\"text-red-600 hover:text-red-800 font-medium transition-colors\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Edit Form for History Record */}\n          {editingRecord && (\n            <div className=\"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\">\n              <h4 className=\"text-lg font-semibold mb-4 text-gray-800\">Editar Registro Histórico: {editingRecord.id}</h4>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo Evento:</label>\n                  <input\n                    type=\"text\"\n                    name=\"tipoEvento\"\n                    className=\"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\"\n                    value={editingRecord.tipoEvento}\n                    readOnly\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha Evento:</label>\n                  <input\n                    type=\"date\"\n                    name=\"fechaEvento\"\n                    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                    value={editingRecord.fechaEvento}\n                    onChange={handleEditingHistoryChange}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-gray-700 text-sm font-bold mb-1\">Estado Posterior:</label>\n                  <input\n                    type=\"text\"\n                    name=\"estadoPosterior\"\n                    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                    value={editingRecord.estadoPosterior}\n                    onChange={handleEditingHistoryChange}\n                  />\n                </div>\n                <div className=\"col-span-full\">\n                  <label className=\"block text-gray-700 text-sm font-bold mb-1\">Observaciones:</label>\n                  <textarea\n                    name=\"observaciones\"\n                    rows=\"3\"\n                    className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                    value={editingRecord.observaciones}\n                    onChange={handleEditingHistoryChange}\n                  ></textarea>\n                </div>\n              </div>\n              <div className=\"mt-6 flex justify-end space-x-3\">\n                <button\n                  onClick={saveEditedHistoryRecord}\n                  className=\"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\"\n                >\n                  Guardar Cambios\n                </button>\n                <button\n                  onClick={cancelEditingHistoryRecord}\n                  className=\"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\"\n                >\n                  Cancelar Edición\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Calendario de Gestación y Vacas Preñadas */}\n      <div className=\"mt-8 pt-4 border-t border-gray-200\">\n        <h4 className=\"text-lg font-semibold mb-3\">Vacas Preñadas y Calendario de Gestación</h4>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border text-sm\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"py-2 px-4 border\">ID Vaca</th>\n                <th className=\"py-2 px-4 border\">Nombre</th>\n                <th className=\"py-2 px-4 border\">Fecha Origen Gestación</th>\n                <th className=\"py-2 px-4 border\">Fecha Parto Estimada</th>\n                <th className=\"py-2 px-4 border\">Días Restantes</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {pregnantCows.map(vaca => {\n                const diasRestantes = calcularDiasRestantes(vaca.fechaPartoEstimada);\n                const isOverdue = diasRestantes < 0;\n\n                return (\n                  <tr key={vaca.id}>\n                    <td className=\"py-2 px-4 border\">{vaca.id}</td>\n                    <td className=\"py-2 px-4 border\">{vaca.name}</td>\n                    <td className=\"py-2 px-4 border\">{vaca.fechaOrigenGestacion || 'N/A'}</td>\n                    <td className={`py-2 px-4 border ${isOverdue ? 'text-red-600 font-bold' : ''}`}>\n                      {vaca.fechaPartoEstimada || 'N/A'}\n                    </td>\n                    <td className={`py-2 px-4 border ${isOverdue ? 'text-red-600 font-bold' : ''}`}>\n                      {isNaN(diasRestantes) ? 'N/A' : (isOverdue ? `Venció hace ${Math.abs(diasRestantes)} días` : diasRestantes)}\n                    </td>\n                    <td className=\"py-2 px-4 border\">\n                      <button\n                        className=\"text-red-600 hover:underline\"\n                        onClick={() => onDeletePregnantCow(vaca.id)}\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReproductiveControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}