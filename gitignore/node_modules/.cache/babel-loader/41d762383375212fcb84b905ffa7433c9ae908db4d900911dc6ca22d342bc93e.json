{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import jsPDF from'jspdf';import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ReproductiveControlPage=_ref=>{let{animals,onUpdateAnimalProduction,onRegisterAnimal,onRegisterReproductiveEvent,onDeletePregnantCow,reproductiveRecords,setReproductiveRecords,currentUser,logoUrl}=_ref;const[reproductiveData,setReproductiveData]=useState({animalId:'',eventType:'',// 'diagnostico_prenez', 'parto', 'inseminacion', 'celo'\neventDate:'',details:'',semenId:'',// Para inseminacion\nsemenProvider:'',// Para inseminacion\ncalfId:'',// Para parto\ncalfSex:'',// Para parto\ncalfWeight:'',// Para parto\ncalfObservations:'',// Para parto\ndiagnosisResult:'',// 'preñada', 'vacia'\nexpectedCalvingDate:''// Para diagnostico_prenez\n});const[filterAnimalId,setFilterAnimalId]=useState('');const[filterEventType,setFilterEventType]=useState('');// Estado para el calendario de partos\nconst[calvingSchedule,setCalvingSchedule]=useState([]);// Cargar y guardar datos del calendario de partos en localStorage\nuseEffect(()=>{const storedSchedule=JSON.parse(localStorage.getItem('calvingSchedule'))||[];setCalvingSchedule(storedSchedule);},[]);useEffect(()=>{localStorage.setItem('calvingSchedule',JSON.stringify(calvingSchedule));},[calvingSchedule]);// Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\nconst calculateExpectedCalvingDate=eventDate=>{if(!eventDate)return'';const date=new Date(eventDate);date.setDate(date.getDate()+283);// Gestación promedio de bovinos\nreturn date.toISOString().split('T')[0];};// Manejador de cambios en el formulario\nconst handleInputChange=e=>{const{name,value}=e.target;setReproductiveData(prev=>{const newData=_objectSpread(_objectSpread({},prev),{},{[name]:value});// Si el evento es diagnóstico de preñez y el resultado es preñada, calcula la fecha probable de parto\nif(name==='eventDate'&&newData.eventType==='diagnostico_prenez'&&newData.diagnosisResult==='preñada'){newData.expectedCalvingDate=calculateExpectedCalvingDate(value);}else if(name==='diagnosisResult'&&newData.eventType==='diagnostico_prenez'&&value==='preñada'){newData.expectedCalvingDate=calculateExpectedCalvingDate(newData.eventDate);}return newData;});};// Manejador para el envío del formulario\nconst handleSubmit=async()=>{const{animalId,eventType,eventDate,diagnosisResult,expectedCalvingDate,calfId,calfSex,calfWeight,calfObservations}=reproductiveData;if(!animalId||!eventType||!eventDate){alert('Por favor, completa los campos obligatorios.');return;}const newRecord={id:\"REP-\".concat(Date.now().toString().slice(-5)),animalId,eventType,eventDate,details:reproductiveData.details,semenId:reproductiveData.semenId,semenProvider:reproductiveData.semenProvider,diagnosisResult:reproductiveData.diagnosisResult,expectedCalvingDate:reproductiveData.expectedCalvingDate,calfId:reproductiveData.calfId,calfSex:reproductiveData.calfSex,calfWeight:reproductiveData.calfWeight,calfObservations:reproductiveData.calfObservations};onRegisterReproductiveEvent(newRecord);alert(\"Evento reproductivo de \".concat(eventType,\" registrado para \").concat(animalId,\".\"));// Lógica específica para cada tipo de evento\nif(eventType==='diagnostico_prenez'&&diagnosisResult==='preñada'){// Actualizar estado reproductivo del animal a 'preñada'\nonUpdateAnimalProduction(animalId,{estadoReproductivo:'preñada',fechaUltimaGestacion:eventDate});// Añadir al calendario de partos\nsetCalvingSchedule(prev=>[...prev,{animalId,expectedCalvingDate,diagnosisDate:eventDate,id:newRecord.id}]);alert(\"Animal \".concat(animalId,\" marcado como pre\\xF1ada. Fecha probable de parto: \").concat(expectedCalvingDate));}else if(eventType==='parto'){// Actualizar estado reproductivo del animal a 'en_produccion'\nonUpdateAnimalProduction(animalId,{estadoReproductivo:'en_produccion',fechaUltimaGestacion:eventDate});// Eliminar del calendario de partos\nsetCalvingSchedule(prev=>prev.filter(item=>item.animalId!==animalId));alert(\"Parto registrado para \".concat(animalId,\". Animal ahora en producci\\xF3n.\"));// Registrar ternero si se proporciona ID\nif(calfId&&calfSex&&calfWeight){var _animals$find,_animals$find2;const newCalf={id:calfId,name:\"Ternero de \".concat(animalId),raza:((_animals$find=animals.find(a=>a.id===animalId))===null||_animals$find===void 0?void 0:_animals$find.raza)||'Desconocida',peso:calfWeight,sexo:calfSex,fechaNacimiento:eventDate,fechaCompra:eventDate,// Se considera fecha de \"compra\" como nacimiento\ntipoProduccion:'carne',// Por defecto para terneros\ndailyMilk:0,idpadre:((_animals$find2=animals.find(a=>a.id===animalId))===null||_animals$find2===void 0?void 0:_animals$find2.idpadre)||'',// Asumiendo que la madre es la que parió\nidmadre:animalId,estadoReproductivo:'desarrollo'};onRegisterAnimal(newCalf);alert(\"Ternero \".concat(calfId,\" registrado.\"));}}else if(eventType==='inseminacion'){onUpdateAnimalProduction(animalId,{estadoReproductivo:'inseminada',fechaUltimaInseminacion:eventDate});}else if(eventType==='celo'){onUpdateAnimalProduction(animalId,{estadoReproductivo:'en_celo',fechaUltimoCelo:eventDate});}// Limpiar formulario\nsetReproductiveData({animalId:'',eventType:'',eventDate:'',details:'',semenId:'',semenProvider:'',calfId:'',calfSex:'',calfWeight:'',calfObservations:'',diagnosisResult:'',expectedCalvingDate:''});};// Filtrar registros reproductivos\nconst filteredRecords=reproductiveRecords.filter(record=>{const matchesAnimal=filterAnimalId===''||record.animalId===filterAnimalId;const matchesEventType=filterEventType===''||record.eventType===filterEventType;return matchesAnimal&&matchesEventType;});// Funciones auxiliares para obtener nombres\nconst getAnimalName=animalId=>{const animal=animals.find(a=>a.id===animalId);return animal?animal.name:'Desconocido';};// Función para generar PDF del calendario de partos\nconst handleGenerateCalvingSchedulePDF=useCallback(()=>{if(calvingSchedule.length===0){alert('No hay partos programados para generar el PDF.');return;}const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const defaultLogo='https://via.placeholder.com/60x60?text=LOGO';const tempDiv=document.createElement('div');tempDiv.style.width='210mm';tempDiv.style.padding='15mm';tempDiv.style.fontFamily='Arial, sans-serif';tempDiv.style.fontSize='10pt';tempDiv.style.backgroundColor='#f8f8f8';tempDiv.style.position='absolute';tempDiv.style.left='-9999px';tempDiv.style.top='-9999px';let tableRows=calvingSchedule.map(item=>{const daysRemaining=Math.ceil((new Date(item.expectedCalvingDate)-new Date())/(1000*60*60*24));const isOverdue=daysRemaining<0;const daysText=isOverdue?\"VENCIDO (\".concat(Math.abs(daysRemaining),\" d\\xEDas)\"):\"\".concat(daysRemaining,\" d\\xEDas\");const daysColor=isOverdue?'text-red-600':'text-gray-900';// Color para los días restantes\nreturn\"\\n        <tr style=\\\"border-bottom: 1px solid #eee;\\\">\\n          <td style=\\\"padding: 8px 12px;\\\">\".concat(getAnimalName(item.animalId),\" (\").concat(item.animalId,\")</td>\\n          <td style=\\\"padding: 8px 12px;\\\">\").concat(item.diagnosisDate,\"</td>\\n          <td style=\\\"padding: 8px 12px;\\\">\").concat(item.expectedCalvingDate,\"</td>\\n          <td style=\\\"padding: 8px 12px;\\\"><span style=\\\"font-weight: bold; color: \").concat(daysColor,\";\\\">\").concat(daysText,\"</span></td>\\n        </tr>\\n      \");}).join('');tempDiv.innerHTML=\"\\n      <div style=\\\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\\">\\n        <div style=\\\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\\\">\\n          <img src=\\\"\".concat(logoUrl||defaultLogo,\"\\\" style=\\\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\\\" alt=\\\"Logo Finca\\\">\\n          <div style=\\\"text-align: right;\\\">\\n            <h1 style=\\\"margin: 0; font-size: 20pt; font-weight: bold;\\\">\").concat(farmName,\"</h1>\\n            <p style=\\\"margin: 0; font-size: 10pt; opacity: 0.8;\\\">Calendario de Partos</p>\\n          </div>\\n        </div>\\n\\n        <div style=\\\"padding: 25px;\\\">\\n          <h3 style=\\\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\\\">Pr\\xF3ximos Partos Programados</h3>\\n          <table style=\\\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\\\">\\n            <thead style=\\\"background-color: #f0f0f0;\\\">\\n              <tr>\\n                <th style=\\\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\\\">Animal</th>\\n                <th style=\\\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\\\">Fecha Diagn\\xF3stico Pre\\xF1ez</th>\\n                <th style=\\\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\\\">Fecha Probable de Parto</th>\\n                <th style=\\\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\\\">D\\xEDas Restantes</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              \").concat(tableRows,\"\\n            </tbody>\\n          </table>\\n        </div>\\n\\n        <div style=\\\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\\\">\\n          <p style=\\\"margin: 0;\\\">Generado por Campo Inteligente | Administrador: \").concat(adminName,\"</p>\\n          <p style=\\\"margin: 0;\\\">Fecha de Generaci\\xF3n: \").concat(new Date().toLocaleDateString(),\"</p>\\n        </div>\\n      </div>\\n    \");document.body.appendChild(tempDiv);html2canvas(tempDiv,{scale:2,useCORS:true}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>0){position=heightLeft-pageHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"calendario_partos_\".concat(new Date().toISOString().split('T')[0],\".pdf\"));document.body.removeChild(tempDiv);});},[calvingSchedule,currentUser,logoUrl,animals]);// Dependencias para useCallback\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Control Reproductivo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Registrar Evento Reproductivo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"animalId\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.animalId,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]}),/*#__PURE__*/_jsxs(\"select\",{name:\"eventType\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.eventType,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Tipo de Evento\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diagnostico_prenez\",children:\"Diagn\\xF3stico de Pre\\xF1ez\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parto\",children:\"Parto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inseminacion\",children:\"Inseminaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"celo\",children:\"Celo\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"eventDate\",placeholder:\"Fecha del Evento\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.eventDate,onChange:handleInputChange}),reproductiveData.eventType==='diagnostico_prenez'&&/*#__PURE__*/_jsxs(\"select\",{name:\"diagnosisResult\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.diagnosisResult,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Resultado del Diagn\\xF3stico\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pre\\xF1ada\",children:\"Pre\\xF1ada\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vacia\",children:\"Vac\\xEDa\"})]}),reproductiveData.eventType==='diagnostico_prenez'&&reproductiveData.diagnosisResult==='preñada'&&/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"expectedCalvingDate\",placeholder:\"Fecha Probable de Parto\",className:\"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\",value:reproductiveData.expectedCalvingDate,readOnly:true}),reproductiveData.eventType==='inseminacion'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"semenId\",placeholder:\"ID de Semen\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.semenId,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"semenProvider\",placeholder:\"Proveedor de Semen\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.semenProvider,onChange:handleInputChange})]}),reproductiveData.eventType==='parto'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"calfId\",placeholder:\"ID del Ternero (si aplica)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.calfId,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"calfSex\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.calfSex,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sexo del Ternero\"}),/*#__PURE__*/_jsx(\"option\",{value:\"macho\",children:\"Macho\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hembra\",children:\"Hembra\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"calfWeight\",placeholder:\"Peso del Ternero (kg)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:reproductiveData.calfWeight,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"calfObservations\",placeholder:\"Observaciones del Ternero\",rows:\"2\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\",value:reproductiveData.calfObservations,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"details\",placeholder:\"Detalles adicionales del evento\",rows:\"2\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\",value:reproductiveData.details,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",children:\"Registrar Evento\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Historial de Eventos Reproductivos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filtrar por ID Animal\",className:\"w-full px-4 py-2 border rounded-lg\",value:filterAnimalId,onChange:e=>setFilterAnimalId(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full px-4 py-2 border rounded-lg\",value:filterEventType,onChange:e=>setFilterEventType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Todos los Eventos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diagnostico_prenez\",children:\"Diagn\\xF3stico de Pre\\xF1ez\"}),/*#__PURE__*/_jsx(\"option\",{value:\"parto\",children:\"Parto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inseminacion\",children:\"Inseminaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"celo\",children:\"Celo\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"ID Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Tipo de Evento\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Detalles\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredRecords.map(record=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[getAnimalName(record.animalId),\" (\",record.animalId,\")\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:record.eventType.replace('_',' ')}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:record.eventDate}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:record.details||record.diagnosisResult||record.calfId||record.semenId||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReproductiveRecords(reproductiveRecords.filter(r=>r.id!==record.id)),className:\"text-red-600 hover:underline\",children:\"Eliminar\"})})]},record.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-blue-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Calendario de Partos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateCalvingSchedulePDF,className:\"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Descargar Calendario PDF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Fecha Diagn\\xF3stico Pre\\xF1ez\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Fecha Probable de Parto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"D\\xEDas Restantes\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:calvingSchedule.map(item=>{const daysRemaining=Math.ceil((new Date(item.expectedCalvingDate)-new Date())/(1000*60*60*24));const isOverdue=daysRemaining<0;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 \".concat(isOverdue?'bg-red-100':''),children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[getAnimalName(item.animalId),\" (\",item.animalId,\")\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:item.diagnosisDate}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:item.expectedCalvingDate}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:isOverdue?/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-red-600\",children:[\"VENCIDO (\",Math.abs(daysRemaining),\" d\\xEDas)\"]}):\"\".concat(daysRemaining,\" d\\xEDas\")}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeletePregnantCow(item.animalId),className:\"text-orange-600 hover:underline\",children:\"Marcar Parto\"})})]},item.id);})})]})})]})]});};export default ReproductiveControlPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsPDF","html2canvas","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ReproductiveControlPage","_ref","animals","onUpdateAnimalProduction","onRegisterAnimal","onRegisterReproductiveEvent","onDeletePregnantCow","reproductiveRecords","setReproductiveRecords","currentUser","logoUrl","reproductiveData","setReproductiveData","animalId","eventType","eventDate","details","semenId","semenProvider","calfId","calfSex","calfWeight","calfObservations","diagnosisResult","expectedCalvingDate","filterAnimalId","setFilterAnimalId","filterEventType","setFilterEventType","calvingSchedule","setCalvingSchedule","storedSchedule","JSON","parse","localStorage","getItem","setItem","stringify","calculateExpectedCalvingDate","date","Date","setDate","getDate","toISOString","split","handleInputChange","e","name","value","target","prev","newData","_objectSpread","handleSubmit","alert","newRecord","id","concat","now","toString","slice","estadoReproductivo","fechaUltimaGestacion","diagnosisDate","filter","item","_animals$find","_animals$find2","newCalf","raza","find","a","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","dailyMilk","idpadre","idmadre","fechaUltimaInseminacion","fechaUltimoCelo","filteredRecords","record","matchesAnimal","matchesEventType","getAnimalName","animal","handleGenerateCalvingSchedulePDF","length","farmName","adminName","fullName","defaultLogo","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","tableRows","map","daysRemaining","Math","ceil","isOverdue","daysText","abs","daysColor","join","innerHTML","toLocaleDateString","body","appendChild","scale","useCORS","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","className","children","onChange","type","placeholder","readOnly","rows","onClick","replace","r"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ReproductiveControlPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst ReproductiveControlPage = ({ animals, onUpdateAnimalProduction, onRegisterAnimal, onRegisterReproductiveEvent, onDeletePregnantCow, reproductiveRecords, setReproductiveRecords, currentUser, logoUrl }) => {\n  const [reproductiveData, setReproductiveData] = useState({\n    animalId: '',\n    eventType: '', // 'diagnostico_prenez', 'parto', 'inseminacion', 'celo'\n    eventDate: '',\n    details: '',\n    semenId: '', // Para inseminacion\n    semenProvider: '', // Para inseminacion\n    calfId: '', // Para parto\n    calfSex: '', // Para parto\n    calfWeight: '', // Para parto\n    calfObservations: '', // Para parto\n    diagnosisResult: '', // 'preñada', 'vacia'\n    expectedCalvingDate: '', // Para diagnostico_prenez\n  });\n\n  const [filterAnimalId, setFilterAnimalId] = useState('');\n  const [filterEventType, setFilterEventType] = useState('');\n\n  // Estado para el calendario de partos\n  const [calvingSchedule, setCalvingSchedule] = useState([]);\n\n  // Cargar y guardar datos del calendario de partos en localStorage\n  useEffect(() => {\n    const storedSchedule = JSON.parse(localStorage.getItem('calvingSchedule')) || [];\n    setCalvingSchedule(storedSchedule);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('calvingSchedule', JSON.stringify(calvingSchedule));\n  }, [calvingSchedule]);\n\n  // Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\n  const calculateExpectedCalvingDate = (eventDate) => {\n    if (!eventDate) return '';\n    const date = new Date(eventDate);\n    date.setDate(date.getDate() + 283); // Gestación promedio de bovinos\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejador de cambios en el formulario\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setReproductiveData(prev => {\n      const newData = { ...prev, [name]: value };\n      // Si el evento es diagnóstico de preñez y el resultado es preñada, calcula la fecha probable de parto\n      if (name === 'eventDate' && newData.eventType === 'diagnostico_prenez' && newData.diagnosisResult === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(value);\n      } else if (name === 'diagnosisResult' && newData.eventType === 'diagnostico_prenez' && value === 'preñada') {\n        newData.expectedCalvingDate = calculateExpectedCalvingDate(newData.eventDate);\n      }\n      return newData;\n    });\n  };\n\n  // Manejador para el envío del formulario\n  const handleSubmit = async () => {\n    const { animalId, eventType, eventDate, diagnosisResult, expectedCalvingDate, calfId, calfSex, calfWeight, calfObservations } = reproductiveData;\n\n    if (!animalId || !eventType || !eventDate) {\n      alert('Por favor, completa los campos obligatorios.');\n      return;\n    }\n\n    const newRecord = {\n      id: `REP-${Date.now().toString().slice(-5)}`,\n      animalId,\n      eventType,\n      eventDate,\n      details: reproductiveData.details,\n      semenId: reproductiveData.semenId,\n      semenProvider: reproductiveData.semenProvider,\n      diagnosisResult: reproductiveData.diagnosisResult,\n      expectedCalvingDate: reproductiveData.expectedCalvingDate,\n      calfId: reproductiveData.calfId,\n      calfSex: reproductiveData.calfSex,\n      calfWeight: reproductiveData.calfWeight,\n      calfObservations: reproductiveData.calfObservations,\n    };\n\n    onRegisterReproductiveEvent(newRecord);\n    alert(`Evento reproductivo de ${eventType} registrado para ${animalId}.`);\n\n    // Lógica específica para cada tipo de evento\n    if (eventType === 'diagnostico_prenez' && diagnosisResult === 'preñada') {\n      // Actualizar estado reproductivo del animal a 'preñada'\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'preñada', fechaUltimaGestacion: eventDate });\n      // Añadir al calendario de partos\n      setCalvingSchedule(prev => [...prev, {\n        animalId,\n        expectedCalvingDate,\n        diagnosisDate: eventDate,\n        id: newRecord.id,\n      }]);\n      alert(`Animal ${animalId} marcado como preñada. Fecha probable de parto: ${expectedCalvingDate}`);\n    } else if (eventType === 'parto') {\n      // Actualizar estado reproductivo del animal a 'en_produccion'\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_produccion', fechaUltimaGestacion: eventDate });\n      // Eliminar del calendario de partos\n      setCalvingSchedule(prev => prev.filter(item => item.animalId !== animalId));\n      alert(`Parto registrado para ${animalId}. Animal ahora en producción.`);\n\n      // Registrar ternero si se proporciona ID\n      if (calfId && calfSex && calfWeight) {\n        const newCalf = {\n          id: calfId,\n          name: `Ternero de ${animalId}`,\n          raza: animals.find(a => a.id === animalId)?.raza || 'Desconocida',\n          peso: calfWeight,\n          sexo: calfSex,\n          fechaNacimiento: eventDate,\n          fechaCompra: eventDate, // Se considera fecha de \"compra\" como nacimiento\n          tipoProduccion: 'carne', // Por defecto para terneros\n          dailyMilk: 0,\n          idpadre: animals.find(a => a.id === animalId)?.idpadre || '', // Asumiendo que la madre es la que parió\n          idmadre: animalId,\n          estadoReproductivo: 'desarrollo',\n        };\n        onRegisterAnimal(newCalf);\n        alert(`Ternero ${calfId} registrado.`);\n      }\n    } else if (eventType === 'inseminacion') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'inseminada', fechaUltimaInseminacion: eventDate });\n    } else if (eventType === 'celo') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_celo', fechaUltimoCelo: eventDate });\n    }\n\n    // Limpiar formulario\n    setReproductiveData({\n      animalId: '', eventType: '', eventDate: '', details: '', semenId: '', semenProvider: '',\n      calfId: '', calfSex: '', calfWeight: '', calfObservations: '', diagnosisResult: '', expectedCalvingDate: '',\n    });\n  };\n\n  // Filtrar registros reproductivos\n  const filteredRecords = reproductiveRecords.filter(record => {\n    const matchesAnimal = filterAnimalId === '' || record.animalId === filterAnimalId;\n    const matchesEventType = filterEventType === '' || record.eventType === filterEventType;\n    return matchesAnimal && matchesEventType;\n  });\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = (animalId) => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  // Función para generar PDF del calendario de partos\n  const handleGenerateCalvingSchedulePDF = useCallback(() => {\n    if (calvingSchedule.length === 0) {\n      alert('No hay partos programados para generar el PDF.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const defaultLogo = 'https://via.placeholder.com/60x60?text=LOGO';\n\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm';\n    tempDiv.style.padding = '15mm';\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n\n    let tableRows = calvingSchedule.map(item => {\n      const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n      const isOverdue = daysRemaining < 0;\n      const daysText = isOverdue ? `VENCIDO (${Math.abs(daysRemaining)} días)` : `${daysRemaining} días`;\n      const daysColor = isOverdue ? 'text-red-600' : 'text-gray-900'; // Color para los días restantes\n\n      return `\n        <tr style=\"border-bottom: 1px solid #eee;\">\n          <td style=\"padding: 8px 12px;\">${getAnimalName(item.animalId)} (${item.animalId})</td>\n          <td style=\"padding: 8px 12px;\">${item.diagnosisDate}</td>\n          <td style=\"padding: 8px 12px;\">${item.expectedCalvingDate}</td>\n          <td style=\"padding: 8px 12px;\"><span style=\"font-weight: bold; color: ${daysColor};\">${daysText}</span></td>\n        </tr>\n      `;\n    }).join('');\n\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoUrl || defaultLogo}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Calendario de Partos</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Próximos Partos Programados</h3>\n          <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\">\n            <thead style=\"background-color: #f0f0f0;\">\n              <tr>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Animal</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Diagnóstico Preñez</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Probable de Parto</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tableRows}\n            </tbody>\n          </table>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(tempDiv);\n\n    html2canvas(tempDiv, { scale: 2, useCORS: true }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft > 0) {\n        position = heightLeft - pageHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n\n      pdf.save(`calendario_partos_${new Date().toISOString().split('T')[0]}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  }, [calvingSchedule, currentUser, logoUrl, animals]); // Dependencias para useCallback\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control Reproductivo</h3>\n\n      {/* Sección de Registro de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Evento Reproductivo</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            name=\"animalId\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.animalId}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Animal</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <select\n            name=\"eventType\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventType}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Tipo de Evento</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n          </select>\n          <input\n            type=\"date\"\n            name=\"eventDate\"\n            placeholder=\"Fecha del Evento\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventDate}\n            onChange={handleInputChange}\n          />\n          {reproductiveData.eventType === 'diagnostico_prenez' && (\n            <select\n              name=\"diagnosisResult\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={reproductiveData.diagnosisResult}\n              onChange={handleInputChange}\n            >\n              <option value=\"\">Resultado del Diagnóstico</option>\n              <option value=\"preñada\">Preñada</option>\n              <option value=\"vacia\">Vacía</option>\n            </select>\n          )}\n          {reproductiveData.eventType === 'diagnostico_prenez' && reproductiveData.diagnosisResult === 'preñada' && (\n            <input\n              type=\"date\"\n              name=\"expectedCalvingDate\"\n              placeholder=\"Fecha Probable de Parto\"\n              className=\"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\"\n              value={reproductiveData.expectedCalvingDate}\n              readOnly\n            />\n          )}\n          {reproductiveData.eventType === 'inseminacion' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"semenId\"\n                placeholder=\"ID de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenId}\n                onChange={handleInputChange}\n              />\n              <input\n                type=\"text\"\n                name=\"semenProvider\"\n                placeholder=\"Proveedor de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenProvider}\n                onChange={handleInputChange}\n              />\n            </>\n          )}\n          {reproductiveData.eventType === 'parto' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"calfId\"\n                placeholder=\"ID del Ternero (si aplica)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfId}\n                onChange={handleInputChange}\n              />\n              <select\n                name=\"calfSex\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfSex}\n                onChange={handleInputChange}\n              >\n                <option value=\"\">Sexo del Ternero</option>\n                <option value=\"macho\">Macho</option>\n                <option value=\"hembra\">Hembra</option>\n              </select>\n              <input\n                type=\"number\"\n                name=\"calfWeight\"\n                placeholder=\"Peso del Ternero (kg)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfWeight}\n                onChange={handleInputChange}\n              />\n              <textarea\n                name=\"calfObservations\"\n                placeholder=\"Observaciones del Ternero\"\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\"\n                value={reproductiveData.calfObservations}\n                onChange={handleInputChange}\n              ></textarea>\n            </>\n          )}\n          <textarea\n            name=\"details\"\n            placeholder=\"Detalles adicionales del evento\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\"\n            value={reproductiveData.details}\n            onChange={handleInputChange}\n          ></textarea>\n        </div>\n        <button\n          onClick={handleSubmit}\n          className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n        >\n          Registrar Evento\n        </button>\n      </div>\n\n      {/* Sección de Historial de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Eventos Reproductivos</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Filtrar por ID Animal\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterAnimalId}\n            onChange={(e) => setFilterAnimalId(e.target.value)}\n          />\n          <select\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterEventType}\n            onChange={(e) => setFilterEventType(e.target.value)}\n          >\n            <option value=\"\">Todos los Eventos</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n          </select>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">ID Animal</th>\n                <th className=\"py-2 px-4 border\">Tipo de Evento</th>\n                <th className=\"py-2 px-4 border\">Fecha</th>\n                <th className=\"py-2 px-4 border\">Detalles</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredRecords.map(record => (\n                <tr key={record.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-2 px-4 border\">{getAnimalName(record.animalId)} ({record.animalId})</td>\n                  <td className=\"py-2 px-4 border\">{record.eventType.replace('_', ' ')}</td>\n                  <td className=\"py-2 px-4 border\">{record.eventDate}</td>\n                  <td className=\"py-2 px-4 border\">{record.details || record.diagnosisResult || record.calfId || record.semenId || 'N/A'}</td>\n                  <td className=\"py-2 px-4 border\">\n                    <button\n                      onClick={() => setReproductiveRecords(reproductiveRecords.filter(r => r.id !== record.id))}\n                      className=\"text-red-600 hover:underline\"\n                    >\n                      Eliminar\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Sección de Calendario de Partos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-blue-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Calendario de Partos</h4>\n        <button\n          onClick={handleGenerateCalvingSchedulePDF}\n          className=\"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Descargar Calendario PDF\n        </button>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">Animal</th>\n                <th className=\"py-2 px-4 border\">Fecha Diagnóstico Preñez</th>\n                <th className=\"py-2 px-4 border\">Fecha Probable de Parto</th>\n                <th className=\"py-2 px-4 border\">Días Restantes</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {calvingSchedule.map(item => {\n                const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n                const isOverdue = daysRemaining < 0;\n                return (\n                  <tr key={item.id} className={`hover:bg-gray-50 ${isOverdue ? 'bg-red-100' : ''}`}>\n                    <td className=\"py-2 px-4 border\">{getAnimalName(item.animalId)} ({item.animalId})</td>\n                    <td className=\"py-2 px-4 border\">{item.diagnosisDate}</td>\n                    <td className=\"py-2 px-4 border\">{item.expectedCalvingDate}</td>\n                    <td className=\"py-2 px-4 border\">\n                      {isOverdue ? <span className=\"font-bold text-red-600\">VENCIDO ({Math.abs(daysRemaining)} días)</span> : `${daysRemaining} días`}\n                    </td>\n                    <td className=\"py-2 px-4 border\">\n                      <button\n                        onClick={() => onDeletePregnantCow(item.animalId)}\n                        className=\"text-orange-600 hover:underline\"\n                      >\n                        Marcar Parto\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReproductiveControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}