{"ast":null,"code":"import jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nexport const exportToCsv = (data, filename) => {\n  if (!data || data.length === 0) {\n    alert('No hay datos para exportar.');\n    return;\n  }\n  const headers = Object.keys(data[0]);\n  const csv = [headers.join(','), ...data.map(row => headers.map(fieldName => JSON.stringify(row[fieldName])).join(','))].join('\\n');\n  const blob = new Blob([csv], {\n    type: 'text/csv;charset=utf-8;'\n  });\n  const link = document.createElement('a');\n  if (link.download !== undefined) {\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${filename}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n};\nexport const exportTableToPdf = async (tableRef, filename, title, farmName, adminName, logoUrl) => {\n  if (!tableRef) {\n    alert('No se encontr贸 la tabla para exportar.');\n    return;\n  }\n  const defaultLogo = 'https://via.placeholder.com/80x80?text=LOGO';\n  const tempDiv = document.createElement('div');\n  tempDiv.style.width = '210mm'; // A4 width\n  tempDiv.style.padding = '10mm';\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\n  tempDiv.style.fontSize = '10pt';\n  tempDiv.style.backgroundColor = '#f8f8f8';\n  tempDiv.style.position = 'absolute';\n  tempDiv.style.left = '-9999px';\n  tempDiv.style.top = '-9999px';\n  tempDiv.innerHTML = `\n    <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n      <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n        <img src=\"${logoUrl || defaultLogo}\" style=\"width: 80px; height: 80px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n        <div style=\"text-align: right;\">\n          <h1 style=\"margin: 0; font-size: 24pt; font-weight: bold;\">${farmName}</h1>\n          <p style=\"margin: 0; font-size: 12pt; opacity: 0.8;\">${title}</p>\n        </div>\n      </div>\n      <div style=\"padding: 20px;\">\n        ${tableRef.outerHTML}\n      </div>\n      <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n        <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n        <p style=\"margin: 0;\">Fecha de Generaci贸n: ${new Date().toLocaleDateString()}</p>\n      </div>\n    </div>\n  `;\n  document.body.appendChild(tempDiv);\n  const canvas = await html2canvas(tempDiv, {\n    scale: 2,\n    useCORS: true\n  });\n  const imgData = canvas.toDataURL('image/png');\n  const pdf = new jsPDF('p', 'mm', 'a4');\n  const imgWidth = 210;\n  const pageHeight = 297;\n  const imgHeight = canvas.height * imgWidth / canvas.width;\n  let heightLeft = imgHeight;\n  let position = 0;\n  pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n  heightLeft -= pageHeight;\n  while (heightLeft > 0) {\n    position = heightLeft - imgHeight;\n    pdf.addPage();\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n  }\n  pdf.save(`${filename}.pdf`);\n  document.body.removeChild(tempDiv);\n};","map":{"version":3,"names":["jsPDF","html2canvas","exportToCsv","data","filename","length","alert","headers","Object","keys","csv","join","map","row","fieldName","JSON","stringify","blob","Blob","type","link","document","createElement","download","undefined","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","exportTableToPdf","tableRef","title","farmName","adminName","logoUrl","defaultLogo","tempDiv","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","innerHTML","outerHTML","Date","toLocaleDateString","canvas","scale","useCORS","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save"],"sources":["C:/Users/User/Downloads/project (10)/src/utils/exportHelpers.js"],"sourcesContent":["import jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nexport const exportToCsv = (data, filename) => {\n  if (!data || data.length === 0) {\n    alert('No hay datos para exportar.');\n    return;\n  }\n\n  const headers = Object.keys(data[0]);\n  const csv = [\n    headers.join(','),\n    ...data.map(row => headers.map(fieldName => JSON.stringify(row[fieldName])).join(','))\n  ].join('\\n');\n\n  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n  const link = document.createElement('a');\n  if (link.download !== undefined) {\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `${filename}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n};\n\nexport const exportTableToPdf = async (tableRef, filename, title, farmName, adminName, logoUrl) => {\n  if (!tableRef) {\n    alert('No se encontr贸 la tabla para exportar.');\n    return;\n  }\n\n  const defaultLogo = 'https://via.placeholder.com/80x80?text=LOGO';\n\n  const tempDiv = document.createElement('div');\n  tempDiv.style.width = '210mm'; // A4 width\n  tempDiv.style.padding = '10mm';\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\n  tempDiv.style.fontSize = '10pt';\n  tempDiv.style.backgroundColor = '#f8f8f8';\n  tempDiv.style.position = 'absolute';\n  tempDiv.style.left = '-9999px';\n  tempDiv.style.top = '-9999px';\n\n  tempDiv.innerHTML = `\n    <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n      <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n        <img src=\"${logoUrl || defaultLogo}\" style=\"width: 80px; height: 80px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n        <div style=\"text-align: right;\">\n          <h1 style=\"margin: 0; font-size: 24pt; font-weight: bold;\">${farmName}</h1>\n          <p style=\"margin: 0; font-size: 12pt; opacity: 0.8;\">${title}</p>\n        </div>\n      </div>\n      <div style=\"padding: 20px;\">\n        ${tableRef.outerHTML}\n      </div>\n      <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n        <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n        <p style=\"margin: 0;\">Fecha de Generaci贸n: ${new Date().toLocaleDateString()}</p>\n      </div>\n    </div>\n  `;\n\n  document.body.appendChild(tempDiv);\n\n  const canvas = await html2canvas(tempDiv, { scale: 2, useCORS: true });\n  const imgData = canvas.toDataURL('image/png');\n  const pdf = new jsPDF('p', 'mm', 'a4');\n  const imgWidth = 210;\n  const pageHeight = 297;\n  const imgHeight = canvas.height * imgWidth / canvas.width;\n  let heightLeft = imgHeight;\n  let position = 0;\n\n  pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n  heightLeft -= pageHeight;\n\n  while (heightLeft > 0) {\n    position = heightLeft - imgHeight;\n    pdf.addPage();\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n  }\n\n  pdf.save(`${filename}.pdf`);\n  document.body.removeChild(tempDiv);\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}