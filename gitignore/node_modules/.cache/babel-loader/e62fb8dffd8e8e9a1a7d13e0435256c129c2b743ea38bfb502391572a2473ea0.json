{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import jsPDF from'jspdf';import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimalRegistrationPage=_ref=>{let{onRegisterAnimal,onUpdateAnimalProduction,animals,currentUser}=_ref;const[animalData,setAnimalData]=useState({id:'',name:'',raza:'',peso:'',sexo:'',fechaNacimiento:'',fechaCompra:'',tipoProduccion:'',dailyMilk:0,foto:null,idpadre:'',idmadre:'',estadoReproductivo:'Desarrollo'});const[selectedAnimalForGenealogy,setSelectedAnimalForGenealogy]=useState('');const[genealogyTree,setGenealogyTree]=useState(null);const handleInputChange=e=>{const{name,value}=e.target;setAnimalData(_objectSpread(_objectSpread({},animalData),{},{[name]:value}));};const handleFileChange=e=>{setAnimalData(_objectSpread(_objectSpread({},animalData),{},{foto:e.target.files[0]}));};const handleSubmit=()=>{const newAnimalId=\"AN-\".concat(Date.now().toString().slice(-5));const animalToRegister=_objectSpread(_objectSpread({},animalData),{},{id:newAnimalId});onRegisterAnimal(animalToRegister);alert(\"Animal \".concat(animalToRegister.name,\" (\").concat(newAnimalId,\") registrado.\"));setAnimalData({id:'',name:'',raza:'',peso:'',sexo:'',fechaNacimiento:'',fechaCompra:'',tipoProduccion:'',dailyMilk:0,foto:null,Idpadre:'',Idmadre:'',estadoReproductivo:'desarrollo'});};const handleDownloadPDF=(animal,currentUser)=>{if(!animal||!animal.id){alert('Por favor, selecciona un animal válido.');return;}const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const logoPlaceholder='https://via.placeholder.com/60x60?text=LOGO';const qrURL=\"https://api.qrserver.com/v1/create-qr-code/?data=\".concat(animal.id,\"&size=80x80\");const tempDiv=document.createElement('div');tempDiv.style.width='210mm';tempDiv.style.padding='20mm';tempDiv.style.fontFamily='Arial, sans-serif';tempDiv.style.fontSize='11pt';tempDiv.style.backgroundColor='#fff';tempDiv.style.position='absolute';tempDiv.style.left='-9999px';tempDiv.style.top='-9999px';const colorEstado=animal.status==='en_produccion'?'#27ae60':animal.status==='seca'?'#e67e22':animal.status==='preñada'?'#9b59b6':'#7f8c8d';tempDiv.innerHTML=\"\\n    <div style=\\\"border: 2px solid #ccc; border-radius: 10px; padding: 20px;\\\">\\n      <div style=\\\"display: flex; justify-content: space-between; align-items: center;\\\">\\n        <img src=\\\"\".concat(logoPlaceholder,\"\\\" style=\\\"width: 60px;\\\" alt=\\\"Logo Finca\\\">\\n        <div style=\\\"text-align: right;\\\">\\n          <h1 style=\\\"margin: 0; color: #2c3e50;\\\">\").concat(farmName,\"</h1>\\n          <p style=\\\"margin: 0; color: #7f8c8d;\\\">Ficha de Registro Animal</p>\\n        </div>\\n      </div>\\n\\n      <div style=\\\"display: flex; margin-top: 20px; gap: 20px;\\\">\\n        <div style=\\\"flex-shrink: 0;\\\">\\n          <img src=\\\"\").concat(URL.createObjectURL(animal.foto),\"\\\" style=\\\"width: 120px; border-radius: 8px; border: 1px solid #ccc;\\\" alt=\\\"Foto del animal\\\">\\n        </div>\\n        <div style=\\\"flex-grow: 1;\\\">\\n          <table style=\\\"width: 100%; border-collapse: collapse; border: 2px solid #000;\\\">\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 12px;\\\"><strong>Nombre:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.name||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10x 16px;\\\"><strong>ID:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.id||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Raza:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.raza||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Raza:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.peso||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Sexo:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.sexo||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Fecha Nacimiento:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.fechaNacimiento||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Fecha Compra:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.fechaCompra||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>ID Padre:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.Idpadre||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>ID Madre:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.Idmadre||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Estado:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px; color: \").concat(colorEstado,\";\\\">\").concat(animal.status||'N/A',\"</td></tr>\\n            <tr style=\\\"border-bottom: 2px solid #000;\\\"><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\"><strong>Tipo Producci\\xF3n:</strong></td><td style=\\\"border: 2px solid #000;\\\" style=\\\"padding: 10px 16px;\\\">\").concat(animal.tipoProduccion||'N/A',\"</td></tr>\\n          </table>\\n        </div>\\n      </div>\\n\\n      <div style=\\\"text-align: center; margin-top: 30px;\\\">\\n        <img src=\\\"\").concat(qrURL,\"\\\" style=\\\"width: 80px;\\\" alt=\\\"QR Code del animal\\\">\\n      </div>\\n\\n      <p style=\\\"text-align: right; font-size: 10px; margin-top: 30px; color: #aaa;\\\">\\n        Generado por Campo Inteligente | \").concat(adminName,\"\\n      </p>\\n    </div>\\n  \");document.body.appendChild(tempDiv);html2canvas(tempDiv,{scale:2}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"ficha_animal_\".concat(animal.name||'sin_nombre',\"_\").concat(animal.id||'sin_id',\".pdf\"));document.body.removeChild(tempDiv);});};const handleUpdateProduction=()=>{if(animalData.id){onUpdateAnimalProduction(animalData.id,animalData.status,animalData.dailyMilk);alert(\"Producci\\xF3n/Estado de \".concat(animalData.id,\" actualizado.\"));}else{alert('Por favor, ingresa el ID del animal para actualizar su producción/estado.');}};// --- Lógica del Árbol Genealógico ---\nconst buildGenealogyTree=(animalId,allAnimals)=>{const animal=allAnimals.find(a=>a.id===animalId);if(!animal)return null;const tree={id:animal.id,name:animal.name,raza:animal.raza,sexo:animal.sexo,children:[]};// Buscar hijos (simplificado: solo busca una generación hacia abajo)\nconst children=allAnimals.filter(a=>a.padreId===animal.id||a.madreId===animal.id);if(children.length>0){tree.children=children.map(child=>({id:child.id,name:child.name,raza:child.raza,sexo:child.sexo// Para un árbol completo, esto sería recursivo:\n// children: buildGenealogyTree(child.id, allAnimals).children\n}));}// Buscar padres (una generación hacia arriba)\nif(animal.Idpadre){tree.father=allAnimals.find(a=>a.id===animal.Idpadre);}if(animal.Idmadre){tree.mother=allAnimals.find(a=>a.id===animal.Idmadre);}return tree;};const handleViewGenealogy=()=>{if(!selectedAnimalForGenealogy){alert('Por favor, selecciona un animal para ver su árbol genealógico.');return;}const tree=buildGenealogyTree(selectedAnimalForGenealogy,animals);setGenealogyTree(tree);if(!tree){alert('Animal no encontrado o sin información genealógica.');}};const handleDownloadGenealogyJPG=()=>{if(!genealogyTree){alert('Primero visualiza un árbol genealógico para descargarlo.');return;}const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const logoPlaceholder='https://via.placeholder.com/50x50?text=LOGO';// Crear un div temporal para el árbol genealógico\nconst treeDiv=document.createElement('div');treeDiv.style.width='297mm';// Ancho A4 horizontal\ntreeDiv.style.height='210mm';// Alto A4 horizontal\ntreeDiv.style.padding='10mm';treeDiv.style.fontFamily='Arial, sans-serif';treeDiv.style.fontSize='8pt';treeDiv.style.color='#333';treeDiv.style.position='absolute';treeDiv.style.left='-9999px';treeDiv.style.top='-9999px';treeDiv.style.backgroundColor='#fff';treeDiv.style.display='flex';treeDiv.style.flexDirection='column';treeDiv.style.justifyContent='space-between';// Función para renderizar un nodo del árbol (simplificado)\nconst renderNode=function(node){let level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;let html=\"<div style=\\\"margin-left: \".concat(level*10,\"mm; margin-bottom: 5mm; border: 1px solid #ccc; padding: 5mm; border-radius: 5px; background-color: #f9f9f9;\\\">\");html+=\"<p><strong>\".concat(node.name,\"</strong> (\").concat(node.id,\")</p>\");html+=\"<p>Raza: \".concat(node.raza,\", Sexo: \").concat(node.sexo,\"</p>\");if(node.father||node.mother||node.children.length>0){html+=\"<div style=\\\"margin-top: 5mm;\\\">\";if(node.father)html+=\"<p>Padre: \".concat(node.father.name,\" (\").concat(node.father.id,\")</p>\");if(node.mother)html+=\"<p>Madre: \".concat(node.mother.name,\" (\").concat(node.mother.id,\")</p>\");if(node.children.length>0){html+=\"<p>Hijos:</p><ul style=\\\"list-style: none; padding: 0; margin: 0;\\\">\";node.children.forEach(child=>{html+=\"<li style=\\\"margin-left: 10mm;\\\">\".concat(child.name,\" (\").concat(child.id,\")</li>\");});html+=\"</ul>\";}html+=\"</div>\";}html+=\"</div>\";return html;};treeDiv.innerHTML=\"\\n      <div style=\\\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10mm; padding-bottom: 5mm; border-bottom: 1px solid #eee;\\\">\\n        <img src=\\\"\".concat(logoPlaceholder,\"\\\" alt=\\\"Logo Finca\\\" style=\\\"width: 15mm; height: 15mm; object-fit: contain;\\\" />\\n        <div style=\\\"text-align: right;\\\">\\n          <h1 style=\\\"font-size: 16pt; margin: 0; color: #2c3e50;\\\">\").concat(farmName,\"</h1>\\n          <p style=\\\"font-size: 9pt; margin: 0; color: #7f8c8d;\\\">\\xC1rbol Geneal\\xF3gico</p>\\n        </div>\\n      </div>\\n      <div style=\\\"flex-grow: 1; overflow: auto; display: flex; flex-direction: column; align-items: flex-start;\\\">\\n        \").concat(renderNode(genealogyTree),\"\\n        \").concat(genealogyTree.father?renderNode(genealogyTree.father,1):'',\"\\n        \").concat(genealogyTree.mother?renderNode(genealogyTree.mother,1):'',\"\\n        \").concat(genealogyTree.children.map(child=>renderNode(child,1)).join(''),\"\\n      </div>\\n      <div style=\\\"text-align: center; margin-top: 10mm; font-size: 8pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 5mm;\\\">\\n        <p>Generado por Campo Inteligente</p>\\n        <p>Administrador: \").concat(adminName,\"</p>\\n      </div>\\n    \");document.body.appendChild(treeDiv);html2canvas(treeDiv,{scale:2}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('l','mm','a4');// 'l' para orientación horizontal\nconst imgWidth=297;// A4 horizontal width in mm\nconst pageHeight=210;// A4 horizontal height in mm\nconst imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>=0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"arbol_genealogico_\".concat(genealogyTree.name||'sin_nombre',\"_\").concat(genealogyTree.id||'sin_id',\".pdf\"));document.body.removeChild(treeDiv);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Registro Animal Avanzado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre del Animal\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"raza\",placeholder:\"Raza\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.raza,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"peso\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.peso,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"sexo\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.sexo,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Sexo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"macho\",children:\"Macho\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hembra\",children:\"Hembra\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaNacimiento\",placeholder:\"Fecha de Nacimiento\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.fechaNacimiento,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaCompra\",placeholder:\"Fecha de Compra (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.fechaCompra,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipoProduccion\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.tipoProduccion,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tipo de Producci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carne\",children:\"Carne\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leche\",children:\"Leche\"})]}),animalData.tipoProduccion==='leche'&&animalData.sexo==='hembra'&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dailyMilk\",placeholder:\"Litros Promedio Diarios\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.dailyMilk,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Idpadre\",placeholder:\"ID Padre (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.padreId,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Idmadre\",placeholder:\"ID Madre (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.madreId,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Foto del Animal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"foto\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",onChange:handleFileChange})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"mt-6 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors mr-2\",children:\"Registrar Animal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadPDF(animalData)// Pasar el animalData actual para generar PDF\n,className:\"mt-6 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\",children:\"Descargar Ficha PDF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Actualizar Producci\\xF3n/Estado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID del Animal a Actualizar\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.id,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.status,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"desarrollo\",children:\"En Desarrollo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_produccion\",children:\"En Producci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"seca\",children:\"Seca\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pre\\xF1ada\",children:\"Pre\\xF1ada\"})]}),animalData.status==='en_produccion'&&animalData.tipoProduccion==='leche'&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dailyMilk\",placeholder:\"Litros de leche diarios\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.dailyMilk,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateProduction,className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Actualizar Producci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"\\xC1rbol Geneal\\xF3gico\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:selectedAnimalForGenealogy,onChange:e=>setSelectedAnimalForGenealogy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Animal para Genealog\\xEDa\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewGenealogy,className:\"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\",children:\"Ver \\xC1rbol Geneal\\xF3gico\"})]}),genealogyTree&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"font-semibold\",children:[\"\\xC1rbol Geneal\\xF3gico de \",genealogyTree.name,\" (\",genealogyTree.id,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Raza: \",genealogyTree.raza,\", Sexo: \",genealogyTree.sexo]}),genealogyTree.father&&/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"Padre: \",genealogyTree.father.name,\" (\",genealogyTree.father.id,\")\"]}),genealogyTree.mother&&/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"Madre: \",genealogyTree.mother.name,\" (\",genealogyTree.mother.id,\")\"]}),genealogyTree.children.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Hijos:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside ml-4\",children:genealogyTree.children.map(child=>/*#__PURE__*/_jsxs(\"li\",{children:[child.name,\" (\",child.id,\") - \",child.raza]},child.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadGenealogyJPG,className:\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\",children:\"Descargar \\xC1rbol (JPG)\"})]})]})]});};export default AnimalRegistrationPage;","map":{"version":3,"names":["React","useState","useEffect","jsPDF","html2canvas","jsx","_jsx","jsxs","_jsxs","AnimalRegistrationPage","_ref","onRegisterAnimal","onUpdateAnimalProduction","animals","currentUser","animalData","setAnimalData","id","name","raza","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","dailyMilk","foto","idpadre","idmadre","estadoReproductivo","selectedAnimalForGenealogy","setSelectedAnimalForGenealogy","genealogyTree","setGenealogyTree","handleInputChange","e","value","target","_objectSpread","handleFileChange","files","handleSubmit","newAnimalId","concat","Date","now","toString","slice","animalToRegister","alert","Idpadre","Idmadre","handleDownloadPDF","animal","farmName","adminName","fullName","logoPlaceholder","qrURL","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","colorEstado","status","innerHTML","URL","createObjectURL","body","appendChild","scale","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","handleUpdateProduction","buildGenealogyTree","animalId","allAnimals","find","a","tree","children","filter","padreId","madreId","length","map","child","father","mother","handleViewGenealogy","handleDownloadGenealogyJPG","treeDiv","color","display","flexDirection","justifyContent","renderNode","node","level","arguments","undefined","html","forEach","join","className","type","placeholder","onChange","onClick"],"sources":["C:/Users/User/Downloads/project (10)/src/components/AnimalRegistrationPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst AnimalRegistrationPage = ({ onRegisterAnimal, onUpdateAnimalProduction, animals, currentUser }) => {\n  const [animalData, setAnimalData] = useState({\n    id: '',\n    name: '',\n    raza: '',\n    peso: '',\n    sexo: '',\n    fechaNacimiento: '',\n    fechaCompra: '',\n    tipoProduccion: '',\n    dailyMilk: 0,\n    foto: null,\n    idpadre: '',\n    idmadre: '',\n    estadoReproductivo: 'Desarrollo',\n  });\n  const [selectedAnimalForGenealogy, setSelectedAnimalForGenealogy] = useState('');\n  const [genealogyTree, setGenealogyTree] = useState(null);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setAnimalData({ ...animalData, [name]: value });\n  };\n\n  const handleFileChange = (e) => {\n    setAnimalData({ ...animalData, foto: e.target.files[0] });\n  };\n\n  const handleSubmit = () => {\n    const newAnimalId = `AN-${Date.now().toString().slice(-5)}`;\n    const animalToRegister = { ...animalData, id: newAnimalId };\n    onRegisterAnimal(animalToRegister);\n    alert(`Animal ${animalToRegister.name} (${newAnimalId}) registrado.`);\n    setAnimalData({\n      id: '', name: '', raza: '', peso: '', sexo: '', fechaNacimiento: '', fechaCompra: '',\n      tipoProduccion: '', dailyMilk: 0, foto: null, Idpadre: '', Idmadre: '',\n      estadoReproductivo: 'desarrollo',\n    });\n  };\n\n  const handleDownloadPDF = (animal, currentUser) => {\n  if (!animal || !animal.id) {\n    alert('Por favor, selecciona un animal válido.');\n    return;\n  }\n\n  const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n  const adminName = currentUser?.fullName || 'Administrador';\n  const logoPlaceholder = 'https://via.placeholder.com/60x60?text=LOGO';\n  const qrURL = `https://api.qrserver.com/v1/create-qr-code/?data=${animal.id}&size=80x80`;\n\n  const tempDiv = document.createElement('div');\n  tempDiv.style.width = '210mm';\n  tempDiv.style.padding = '20mm';\n  tempDiv.style.fontFamily = 'Arial, sans-serif';\n  tempDiv.style.fontSize = '11pt';\n  tempDiv.style.backgroundColor = '#fff';\n  tempDiv.style.position = 'absolute';\n  tempDiv.style.left = '-9999px';\n  tempDiv.style.top = '-9999px';\n\n  const colorEstado = animal.status === 'en_produccion' ? '#27ae60' :\n                      animal.status === 'seca' ? '#e67e22' :\n                      animal.status === 'preñada' ? '#9b59b6' : '#7f8c8d';\n\n  tempDiv.innerHTML = `\n    <div style=\"border: 2px solid #ccc; border-radius: 10px; padding: 20px;\">\n      <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n        <img src=\"${logoPlaceholder}\" style=\"width: 60px;\" alt=\"Logo Finca\">\n        <div style=\"text-align: right;\">\n          <h1 style=\"margin: 0; color: #2c3e50;\">${farmName}</h1>\n          <p style=\"margin: 0; color: #7f8c8d;\">Ficha de Registro Animal</p>\n        </div>\n      </div>\n\n      <div style=\"display: flex; margin-top: 20px; gap: 20px;\">\n        <div style=\"flex-shrink: 0;\">\n          <img src=\"${URL.createObjectURL(animal.foto)}\" style=\"width: 120px; border-radius: 8px; border: 1px solid #ccc;\" alt=\"Foto del animal\">\n        </div>\n        <div style=\"flex-grow: 1;\">\n          <table style=\"width: 100%; border-collapse: collapse; border: 2px solid #000;\">\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 12px;\"><strong>Nombre:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.name || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10x 16px;\"><strong>ID:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.id || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Raza:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.raza || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Raza:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.peso || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Sexo:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.sexo || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Fecha Nacimiento:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.fechaNacimiento || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Fecha Compra:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.fechaCompra || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>ID Padre:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.Idpadre || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>ID Madre:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.Idmadre || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Estado:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px; color: ${colorEstado};\">${animal.status || 'N/A'}</td></tr>\n            <tr style=\"border-bottom: 2px solid #000;\"><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\"><strong>Tipo Producción:</strong></td><td style=\"border: 2px solid #000;\" style=\"padding: 10px 16px;\">${animal.tipoProduccion || 'N/A'}</td></tr>\n          </table>\n        </div>\n      </div>\n\n      <div style=\"text-align: center; margin-top: 30px;\">\n        <img src=\"${qrURL}\" style=\"width: 80px;\" alt=\"QR Code del animal\">\n      </div>\n\n      <p style=\"text-align: right; font-size: 10px; margin-top: 30px; color: #aaa;\">\n        Generado por Campo Inteligente | ${adminName}\n      </p>\n    </div>\n  `;\n\n  document.body.appendChild(tempDiv);\n\n  html2canvas(tempDiv, { scale: 2 }).then(canvas => {\n    const imgData = canvas.toDataURL('image/png');\n    const pdf = new jsPDF('p', 'mm', 'a4');\n    const imgWidth = 210;\n    const pageHeight = 297;\n    const imgHeight = canvas.height * imgWidth / canvas.width;\n    let heightLeft = imgHeight;\n    let position = 0;\n\n    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n    heightLeft -= pageHeight;\n\n    while (heightLeft > 0) {\n      position = heightLeft - imgHeight;\n      pdf.addPage();\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n    }\n\n    pdf.save(`ficha_animal_${animal.name || 'sin_nombre'}_${animal.id || 'sin_id'}.pdf`);\n    document.body.removeChild(tempDiv);\n  });\n};\n\n  const handleUpdateProduction = () => {\n    if (animalData.id) {\n      onUpdateAnimalProduction(animalData.id, animalData.status, animalData.dailyMilk);\n      alert(`Producción/Estado de ${animalData.id} actualizado.`);\n    } else {\n      alert('Por favor, ingresa el ID del animal para actualizar su producción/estado.');\n    }\n  };\n\n  // --- Lógica del Árbol Genealógico ---\n  const buildGenealogyTree = (animalId, allAnimals) => {\n    const animal = allAnimals.find(a => a.id === animalId);\n    if (!animal) return null;\n\n    const tree = {\n      id: animal.id,\n      name: animal.name,\n      raza: animal.raza,\n      sexo: animal.sexo,\n      children: []\n    };\n\n    // Buscar hijos (simplificado: solo busca una generación hacia abajo)\n    const children = allAnimals.filter(a => a.padreId === animal.id || a.madreId === animal.id);\n    if (children.length > 0) {\n      tree.children = children.map(child => ({\n        id: child.id,\n        name: child.name,\n        raza: child.raza,\n        sexo: child.sexo,\n        // Para un árbol completo, esto sería recursivo:\n        // children: buildGenealogyTree(child.id, allAnimals).children\n      }));\n    }\n\n    // Buscar padres (una generación hacia arriba)\n    if (animal.Idpadre) {\n      tree.father = allAnimals.find(a => a.id === animal.Idpadre);\n    }\n    if (animal.Idmadre) {\n      tree.mother = allAnimals.find(a => a.id === animal.Idmadre);\n    }\n\n    return tree;\n  };\n\n  const handleViewGenealogy = () => {\n    if (!selectedAnimalForGenealogy) {\n      alert('Por favor, selecciona un animal para ver su árbol genealógico.');\n      return;\n    }\n    const tree = buildGenealogyTree(selectedAnimalForGenealogy, animals);\n    setGenealogyTree(tree);\n    if (!tree) {\n      alert('Animal no encontrado o sin información genealógica.');\n    }\n  };\n\n  const handleDownloadGenealogyJPG = () => {\n    if (!genealogyTree) {\n      alert('Primero visualiza un árbol genealógico para descargarlo.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const logoPlaceholder = 'https://via.placeholder.com/50x50?text=LOGO';\n\n    // Crear un div temporal para el árbol genealógico\n    const treeDiv = document.createElement('div');\n    treeDiv.style.width = '297mm'; // Ancho A4 horizontal\n    treeDiv.style.height = '210mm'; // Alto A4 horizontal\n    treeDiv.style.padding = '10mm';\n    treeDiv.style.fontFamily = 'Arial, sans-serif';\n    treeDiv.style.fontSize = '8pt';\n    treeDiv.style.color = '#333';\n    treeDiv.style.position = 'absolute';\n    treeDiv.style.left = '-9999px';\n    treeDiv.style.top = '-9999px';\n    treeDiv.style.backgroundColor = '#fff';\n    treeDiv.style.display = 'flex';\n    treeDiv.style.flexDirection = 'column';\n    treeDiv.style.justifyContent = 'space-between';\n\n    // Función para renderizar un nodo del árbol (simplificado)\n    const renderNode = (node, level = 0) => {\n      let html = `<div style=\"margin-left: ${level * 10}mm; margin-bottom: 5mm; border: 1px solid #ccc; padding: 5mm; border-radius: 5px; background-color: #f9f9f9;\">`;\n      html += `<p><strong>${node.name}</strong> (${node.id})</p>`;\n      html += `<p>Raza: ${node.raza}, Sexo: ${node.sexo}</p>`;\n      if (node.father || node.mother || node.children.length > 0) {\n        html += `<div style=\"margin-top: 5mm;\">`;\n        if (node.father) html += `<p>Padre: ${node.father.name} (${node.father.id})</p>`;\n        if (node.mother) html += `<p>Madre: ${node.mother.name} (${node.mother.id})</p>`;\n        if (node.children.length > 0) {\n          html += `<p>Hijos:</p><ul style=\"list-style: none; padding: 0; margin: 0;\">`;\n          node.children.forEach(child => {\n            html += `<li style=\"margin-left: 10mm;\">${child.name} (${child.id})</li>`;\n          });\n          html += `</ul>`;\n        }\n        html += `</div>`;\n      }\n      html += `</div>`;\n      return html;\n    };\n\n    treeDiv.innerHTML = `\n      <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10mm; padding-bottom: 5mm; border-bottom: 1px solid #eee;\">\n        <img src=\"${logoPlaceholder}\" alt=\"Logo Finca\" style=\"width: 15mm; height: 15mm; object-fit: contain;\" />\n        <div style=\"text-align: right;\">\n          <h1 style=\"font-size: 16pt; margin: 0; color: #2c3e50;\">${farmName}</h1>\n          <p style=\"font-size: 9pt; margin: 0; color: #7f8c8d;\">Árbol Genealógico</p>\n        </div>\n      </div>\n      <div style=\"flex-grow: 1; overflow: auto; display: flex; flex-direction: column; align-items: flex-start;\">\n        ${renderNode(genealogyTree)}\n        ${genealogyTree.father ? renderNode(genealogyTree.father, 1) : ''}\n        ${genealogyTree.mother ? renderNode(genealogyTree.mother, 1) : ''}\n        ${genealogyTree.children.map(child => renderNode(child, 1)).join('')}\n      </div>\n      <div style=\"text-align: center; margin-top: 10mm; font-size: 8pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 5mm;\">\n        <p>Generado por Campo Inteligente</p>\n        <p>Administrador: ${adminName}</p>\n      </div>\n    `;\n\n    document.body.appendChild(treeDiv);\n\n    html2canvas(treeDiv, { scale: 2 }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('l', 'mm', 'a4'); // 'l' para orientación horizontal\n      const imgWidth = 297; // A4 horizontal width in mm\n      const pageHeight = 210; // A4 horizontal height in mm\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft >= 0) {\n        position = heightLeft - imgHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n      pdf.save(`arbol_genealogico_${genealogyTree.name || 'sin_nombre'}_${genealogyTree.id || 'sin_id'}.pdf`);\n      document.body.removeChild(treeDiv);\n    });\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Registro Animal Avanzado</h3>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Nombre del Animal\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.name}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"text\"\n          name=\"raza\"\n          placeholder=\"Raza\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.raza}\n          onChange={handleInputChange}\n\n        />\n        <input\n          type=\"number\"\n          name=\"peso\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.peso}\n          onChange={handleInputChange}\n\n        />\n        <select\n          name=\"sexo\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.sexo}\n          onChange={handleInputChange}\n        >\n          <option value=\"\">Selecciona Sexo</option>\n          <option value=\"macho\">Macho</option>\n          <option value=\"hembra\">Hembra</option>\n        </select>\n        <input\n          type=\"date\"\n          name=\"fechaNacimiento\"\n          placeholder=\"Fecha de Nacimiento\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.fechaNacimiento}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"date\"\n          name=\"fechaCompra\"\n          placeholder=\"Fecha de Compra (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.fechaCompra}\n          onChange={handleInputChange}\n        />\n        <select\n          name=\"tipoProduccion\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.tipoProduccion}\n          onChange={handleInputChange}\n        >\n          <option value=\"\">Tipo de Producción</option>\n          <option value=\"carne\">Carne</option>\n          <option value=\"leche\">Leche</option>\n        </select>\n        {animalData.tipoProduccion === 'leche' && animalData.sexo === 'hembra' && (\n          <input\n            type=\"number\"\n            name=\"dailyMilk\"\n            placeholder=\"Litros Promedio Diarios\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.dailyMilk}\n            onChange={handleInputChange}\n          />\n        )}\n        <input\n          type=\"text\"\n          name=\"Idpadre\"\n          placeholder=\"ID Padre (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.padreId}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"text\"\n          name=\"Idmadre\"\n          placeholder=\"ID Madre (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.madreId}\n          onChange={handleInputChange}\n        />\n        <div className=\"col-span-full\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\">Foto del Animal</label>\n          <input\n            type=\"file\"\n            name=\"foto\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            onChange={handleFileChange}\n          />\n        </div>\n      </div>\n      <button\n        onClick={handleSubmit}\n        className=\"mt-6 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors mr-2\"\n      >\n        Registrar Animal\n      </button>\n      <button\n        onClick={() => handleDownloadPDF(animalData)} // Pasar el animalData actual para generar PDF\n        className=\"mt-6 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\"\n      >\n        Descargar Ficha PDF\n      </button>\n\n      <div className=\"mt-8 pt-4 border-t border-gray-200\">\n        <h4 className=\"text-lg font-semibold mb-3\">Actualizar Producción/Estado</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <input\n            type=\"text\"\n            name=\"id\"\n            placeholder=\"ID del Animal a Actualizar\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.id}\n            onChange={handleInputChange}\n          />\n          <select\n            name=\"status\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.status}\n            onChange={handleInputChange}\n          >\n            <option value=\"desarrollo\">En Desarrollo</option>\n            <option value=\"en_produccion\">En Producción</option>\n            <option value=\"seca\">Seca</option>\n            <option value=\"preñada\">Preñada</option>\n          </select>\n          {animalData.status === 'en_produccion' && animalData.tipoProduccion === 'leche' && (\n            <input\n              type=\"number\"\n              name=\"dailyMilk\"\n              placeholder=\"Litros de leche diarios\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={animalData.dailyMilk}\n              onChange={handleInputChange}\n            />\n          )}\n        </div>\n        <button\n          onClick={handleUpdateProduction}\n          className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Actualizar Producción\n        </button>\n      </div>\n\n      <div className=\"mt-8 pt-4 border-t border-gray-200\">\n        <h4 className=\"text-lg font-semibold mb-3\">Árbol Genealógico</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={selectedAnimalForGenealogy}\n            onChange={(e) => setSelectedAnimalForGenealogy(e.target.value)}\n          >\n            <option value=\"\">Selecciona Animal para Genealogía</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <button\n            onClick={handleViewGenealogy}\n            className=\"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\"\n          >\n            Ver Árbol Genealógico\n          </button>\n        </div>\n\n        {genealogyTree && (\n          <div className=\"mt-4 p-4 border rounded-lg bg-gray-50\">\n            <h5 className=\"font-semibold\">Árbol Genealógico de {genealogyTree.name} ({genealogyTree.id})</h5>\n            <p>Raza: {genealogyTree.raza}, Sexo: {genealogyTree.sexo}</p>\n            {genealogyTree.father && (\n              <p className=\"ml-4\">Padre: {genealogyTree.father.name} ({genealogyTree.father.id})</p>\n            )}\n            {genealogyTree.mother && (\n              <p className=\"ml-4\">Madre: {genealogyTree.mother.name} ({genealogyTree.mother.id})</p>\n            )}\n            {genealogyTree.children.length > 0 && (\n              <div className=\"mt-2\">\n                <p className=\"font-semibold\">Hijos:</p>\n                <ul className=\"list-disc list-inside ml-4\">\n                  {genealogyTree.children.map(child => (\n                    <li key={child.id}>{child.name} ({child.id}) - {child.raza}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            <button\n              onClick={handleDownloadGenealogyJPG}\n              className=\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Descargar Árbol (JPG)\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AnimalRegistrationPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}