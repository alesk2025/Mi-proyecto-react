{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SanitaryControlPage=_ref=>{var _inventoryItems$find,_inventoryItems$find2,_inventoryItems$find3,_inventoryItems$find4;let{inventoryItems,onUpdateInventoryQuantity,animals}=_ref;// Estados para los formularios de registro\nconst[treatmentData,setTreatmentData]=useState({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false// Añadido para tratamiento general\n});const[vaccinationData,setVaccinationData]=useState({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});const[dewormingData,setDewormingData]=useState({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});const[vitaminData,setVitaminData]=useState({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});const[diseaseData,setDiseaseData]=useState({animalId:'',diseaseName:'',symptoms:'',diagnosisDate:'',treatmentProductId:'',treatmentDosis:'',treatmentStartDate:'',treatmentEndDate:'',recoveryDate:'',diseaseObservations:''});// Estados para los historiales y calendarios\nconst[treatmentsHistory,setTreatmentsHistory]=useState([]);const[diseasesHistory,setDiseasesHistory]=useState([]);const[vaccinationSchedule,setVaccinationSchedule]=useState([]);const[dewormingSchedule,setDewormingSchedule]=useState([]);const[vitaminSchedule,setVitaminSchedule]=useState([]);// Frecuencias y umbrales (cargados desde localStorage)\nconst[dewormingFrequency,setDewormingFrequency]=useState(()=>JSON.parse(localStorage.getItem('dewormingFrequency'))||{value:3,unit:'meses'});const[vitaminFrequency,setVitaminFrequency]=useState(()=>JSON.parse(localStorage.getItem('vitaminFrequency'))||{value:6,unit:'meses'});const[stockThreshold,setStockThreshold]=useState(()=>JSON.parse(localStorage.getItem('stockThreshold'))||10);// Mock de la \"IA\" para recomendaciones de dosis y tipo de producto para bovinos\n// Simula una \"investigación profunda\" con datos más específicos y cálculos\nconst aiRecommendations=useCallback((productName,animalId)=>{const lowerCaseName=productName.toLowerCase();let type='general';let recommendedDosis='Consultar etiqueta';// Dosis por defecto\nlet frequency=null;let detailedRecommendation='Se recomienda consultar a un veterinario para la dosis exacta.';const animal=animals.find(a=>a.id===animalId);const animalWeight=animal?parseFloat(animal.peso):0;// Asumiendo que el animal tiene un campo 'peso'\n// Base de datos de productos con información detallada\nconst productDatabase={// Vacunas Antirrábicas\n\"ravax\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea o intramuscular\",minAge:\"3 meses\",frequency:{value:6,unit:\"meses\"},notes:\"Cepa ERA inactivada. Más de 60 años de uso en Venezuela con probada efectividad.\"},\"rabivac\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea o intramuscular\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Vacuna inactivada con cepa Pasteur. Amplia distribución en zonas de rabia paresiante.\"},\"vacuna antirrábica de producción nacional\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Usada en campañas oficiales del Ministerio de Agricultura en zonas afectadas por murciélagos hematófagos.\"},\"rabivac-vet\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Registrada por Agrocalidad en Ecuador.\"},\"vacunas del mag o plan nacional antirrábico bovino\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"N/A\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Distribución gratuita durante jornadas sanitarias en Ecuador.\"},\"vacuna antirrábica bovina senasag / iifa\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Usada en campañas oficiales en el oriente boliviano.\"},\"rabiol bovino\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Fabricada por Biofarma Paraguay, uso comercial limitado en Bolivia.\"},\"cdvac rabia\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Para bovinos, ovinos, caprinos, porcinos, equinos. Si primera dosis antes de 6 meses, repetir a los 6 meses.\"},\"providean rabia\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Adyuvante Pilatus GHA500.\"},\"vacuna biogénesis páresiante\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Refuerzo a los 6 meses si fue primovacunación temprana.\"},\"rabigán\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Revacunar anualmente en zonas endémicas de Colombia.\"},\"aftosa+rabia\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"subcutánea\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Vacuna combinada aftosa+rabia, aplicada anualmente en Colombia.\"},\"rabicán\":{// Aunque es para perros/gatos, se menciona su venta para bovinos en Colombia\ntype:\"vacuna\",dosisPerAnimal:1,unit:\"mL\",route:\"N/A\",minAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Principalmente para perros/gatos, pero se vende en Colombia.\"},\"nobivac rabia\":{type:\"vacuna\",dosisPerAnimal:1,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"3-6 meses\",frequency:{value:1,unit:\"años\"},notes:\"Para bovinos. En Chile/Costa Rica, revacunación cada 2 años para bovinos/caballos.\"},\"derri a plus\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"N/A\",// Asumiendo dosis estándar de 2mL para rabia bovina\nminAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Vacuna para bovinos y otros rumiantes; estándar nacional en México.\"},\"vacuna antirrábica inactivada para herbívoros\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"3 meses\",frequency:{value:1,unit:\"años\"},notes:\"Revacunar a los 30 días, luego anualmente en Brasil.\"},\"rai-vet\":{type:\"vacuna\",dosisPerAnimal:2,unit:\"mL\",route:\"N/A\",// Asumiendo dosis estándar de 2mL\nminAge:\"N/A\",frequency:{value:1,unit:\"años\"},notes:\"Utilizada en herbívoros dentro de los programas nacionales de Brasil.\"},// Vacunas para Estomatitis\n\"vacuna estomatitis\":{type:\"vacuna\",dosisPerAnimal:5,unit:\"mL\",route:\"intramuscular o subcutánea\",minAge:\"3 meses\",frequency:{value:6,unit:\"meses\"},notes:\"Marca Vecol S.A. Primovacunación a partir de 3 meses (junto a otras dosis según esquema nacional).\"},\"estomavac\":{type:\"vacuna\",dosisPerAnimal:3,unit:\"mL\",route:\"intramuscular\",minAge:\"3 meses\",frequency:{value:6,unit:\"meses\"},// Esquema: 3 meses, refuerzo 30 días, luego 8 meses, semestral en adultos\nnotes:\"Vacuna bivalente nacional contra estomatitis vesicular (Laboratorios CALA). Refuerzo a los 30 días, luego a los 8 meses y revacunación semestral en adultos.\"},// Desparasitantes (ejemplos existentes)\n\"ivermectina 1%\":{type:\"desparasitante\",dosisPerKg:0.2,unit:\"ml\",route:\"subcutáneo\",frequency:{value:3,unit:\"meses\"},notes:\"No usar en animales en lactación cuya leche se destine a consumo humano.\"},\"albendazol 10%\":{type:\"desparasitante\",dosisPerKg:0.5,unit:\"ml\",route:\"oral\",frequency:{value:4,unit:\"meses\"},notes:\"Amplio espectro contra parásitos gastrointestinales y pulmonares.\"},// Vitaminas (ejemplos existentes)\n\"complejo b\":{type:\"vitamina\",dosisPerKg:0.1,unit:\"ml\",route:\"intramuscular\",frequency:{value:2,unit:\"meses\"},notes:\"Coadyuvante en casos de estrés, convalecencia o deficiencias nutricionales.\"},\"vitamina ad3e\":{type:\"vitamina\",dosisPerAnimal:10,unit:\"ml\",route:\"intramuscular\",frequency:{value:6,unit:\"meses\"},notes:\"Esencial para el crecimiento, reproducción y salud ósea.\"}};// Buscar el producto en la base de datos simulada\nconst foundProductKey=Object.keys(productDatabase).find(key=>lowerCaseName.includes(key));if(foundProductKey){const productInfo=productDatabase[foundProductKey];type=productInfo.type;frequency=productInfo.frequency;if(productInfo.dosisPerAnimal){recommendedDosis=\"\".concat(productInfo.dosisPerAnimal,\" \").concat(productInfo.unit,\" \").concat(productInfo.route);detailedRecommendation=\"Dosis recomendada: \".concat(productInfo.dosisPerAnimal,\" \").concat(productInfo.unit,\" \").concat(productInfo.route,\". \").concat(productInfo.notes);}else if(productInfo.dosisPerKg&&animalWeight>0){const calculatedDosis=animalWeight/10*productInfo.dosisPerKg;recommendedDosis=\"\".concat(calculatedDosis.toFixed(1),\" \").concat(productInfo.unit,\" \").concat(productInfo.route);detailedRecommendation=\"Dosis calculada para \".concat(animalWeight,\" kg: \").concat(calculatedDosis.toFixed(1),\" \").concat(productInfo.unit,\" \").concat(productInfo.route,\". \").concat(productInfo.notes);}else{detailedRecommendation=\"No se pudo calcular la dosis exacta sin el peso del animal o si el producto no tiene dosis por kg. \".concat(productInfo.notes);}// Añadir información de edad mínima si está disponible\nif(productInfo.minAge){detailedRecommendation+=\" Edad m\\xEDnima para aplicaci\\xF3n: \".concat(productInfo.minAge,\".\");}}else{detailedRecommendation=\"Producto no encontrado en la base de datos de IA. Consultar etiqueta o veterinario.\";}return{type,recommendedDosis,frequency,detailedRecommendation};},[animals,dewormingFrequency,vitaminFrequency]);// Cargar datos desde localStorage al inicio\nuseEffect(()=>{setTreatmentsHistory(JSON.parse(localStorage.getItem('treatmentsHistory'))||[]);setDiseasesHistory(JSON.parse(localStorage.getItem('diseasesHistory'))||[]);setVaccinationSchedule(JSON.parse(localStorage.getItem('vaccinationSchedule'))||[]);setDewormingSchedule(JSON.parse(localStorage.getItem('dewormingSchedule'))||[]);setVitaminSchedule(JSON.parse(localStorage.getItem('vitaminSchedule'))||[]);},[]);// Guardar datos en localStorage cada vez que cambian\nuseEffect(()=>{localStorage.setItem('treatmentsHistory',JSON.stringify(treatmentsHistory));},[treatmentsHistory]);useEffect(()=>{localStorage.setItem('diseasesHistory',JSON.stringify(diseasesHistory));},[diseasesHistory]);useEffect(()=>{localStorage.setItem('vaccinationSchedule',JSON.stringify(vaccinationSchedule));},[vaccinationSchedule]);useEffect(()=>{localStorage.setItem('dewormingSchedule',JSON.stringify(dewormingSchedule));},[dewormingSchedule]);useEffect(()=>{localStorage.setItem('vitaminSchedule',JSON.stringify(vitaminSchedule));},[vitaminSchedule]);useEffect(()=>{localStorage.setItem('dewormingFrequency',JSON.stringify(dewormingFrequency));},[dewormingFrequency]);useEffect(()=>{localStorage.setItem('vitaminFrequency',JSON.stringify(vitaminFrequency));},[vitaminFrequency]);useEffect(()=>{localStorage.setItem('stockThreshold',JSON.stringify(stockThreshold));},[stockThreshold]);// Manejadores de cambio para los formularios\nconst handleTreatmentChange=e=>{const{name,value,type,checked}=e.target;if(name==='manualDosis'){setTreatmentData(prevTreatmentData=>_objectSpread(_objectSpread({},prevTreatmentData),{},{manualDosis:checked}));if(!checked){const selectedProduct=inventoryItems.find(item=>item.id===prevTreatmentData.productId);if(selectedProduct&&prevTreatmentData.animalId){setTreatmentData(prevTreatmentData=>_objectSpread(_objectSpread({},prevTreatmentData),{},{dosis:aiRecommendations(selectedProduct.name,prevTreatmentData.animalId).recommendedDosis}));}}}else{setTreatmentData(prevTreatmentData=>_objectSpread(_objectSpread({},prevTreatmentData),{},{[name]:value}));if((name==='productId'||name==='animalId')&&!prevTreatmentData.manualDosis){const selectedProduct=inventoryItems.find(item=>item.id===(name==='productId'?value:prevTreatmentData.productId));const currentAnimalId=name==='animalId'?value:prevTreatmentData.animalId;if(selectedProduct&&currentAnimalId){setTreatmentData(prevTreatmentData=>_objectSpread(_objectSpread({},prevTreatmentData),{},{dosis:aiRecommendations(selectedProduct.name,currentAnimalId).recommendedDosis}));}}}};const handleVaccinationChange=e=>{const{name,value,type,checked}=e.target;if(name==='manualDosis'){setVaccinationData(prevVaccinationData=>_objectSpread(_objectSpread({},prevVaccinationData),{},{manualDosis:checked}));if(!checked){// Si desactiva manual, recalcular dosis IA\nconst selectedProduct=inventoryItems.find(item=>item.id===prevVaccinationData.productId);if(selectedProduct&&prevVaccinationData.animalId){setVaccinationData(prevVaccinationData=>_objectSpread(_objectSpread({},prevVaccinationData),{},{dosis:aiRecommendations(selectedProduct.name,prevVaccinationData.animalId).recommendedDosis}));}}}else{setVaccinationData(prevVaccinationData=>_objectSpread(_objectSpread({},prevVaccinationData),{},{[name]:value}));if((name==='productId'||name==='animalId')&&!vaccinationData.manualDosis){const selectedProduct=inventoryItems.find(item=>item.id===(name==='productId'?value:vaccinationData.productId));const currentAnimalId=name==='animalId'?value:vaccinationData.animalId;if(selectedProduct&&currentAnimalId){setVaccinationData(prevVaccinationData=>_objectSpread(_objectSpread({},prevVaccinationData),{},{dosis:aiRecommendations(selectedProduct.name,currentAnimalId).recommendedDosis}));}}}};const handleDewormingChange=e=>{const{name,value,type,checked}=e.target;if(name==='manualDosis'){setDewormingData(prevDewormingData=>_objectSpread(_objectSpread({},prevDewormingData),{},{manualDosis:checked}));if(!checked){const selectedProduct=inventoryItems.find(item=>item.id===prevDewormingData.productId);if(selectedProduct&&prevDewormingData.animalId){setDewormingData(prevDewormingData=>_objectSpread(_objectSpread({},prevDewormingData),{},{dosis:aiRecommendations(selectedProduct.name,prevDewormingData.animalId).recommendedDosis}));}}}else{setDewormingData(prevDewormingData=>_objectSpread(_objectSpread({},prevDewormingData),{},{[name]:value}));if((name==='productId'||name==='animalId')&&!dewormingData.manualDosis){const selectedProduct=inventoryItems.find(item=>item.id===(name==='productId'?value:prevDewormingData.productId));const currentAnimalId=name==='animalId'?value:prevDewormingData.animalId;if(selectedProduct&&currentAnimalId){setDewormingData(prevDewormingData=>_objectSpread(_objectSpread({},prevDewormingData),{},{dosis:aiRecommendations(selectedProduct.name,currentAnimalId).recommendedDosis}));}}}};const handleVitaminChange=e=>{const{name,value,type,checked}=e.target;if(name==='manualDosis'){setVitaminData(prevVitaminData=>_objectSpread(_objectSpread({},prevVitaminData),{},{manualDosis:checked}));if(!checked){const selectedProduct=inventoryItems.find(item=>item.id===prevVitaminData.productId);if(selectedProduct&&prevVitaminData.animalId){setVitaminData(prevVitaminData=>_objectSpread(_objectSpread({},prevVitaminData),{},{dosis:aiRecommendations(selectedProduct.name,prevVitaminData.animalId).recommendedDosis}));}}}else{setVitaminData(prevVitaminData=>_objectSpread(_objectSpread({},prevVitaminData),{},{[name]:value}));if((name==='productId'||name==='animalId')&&!prevVitaminData.manualDosis){const selectedProduct=inventoryItems.find(item=>item.id===(name==='productId'?value:prevVitaminData.productId));const currentAnimalId=name==='animalId'?value:prevVitaminData.animalId;if(selectedProduct&&currentAnimalId){setVitaminData(prevVitaminData=>_objectSpread(_objectSpread({},prevVitaminData),{},{dosis:aiRecommendations(selectedProduct.name,currentAnimalId).recommendedDosis}));}}}};const handleDiseaseChange=e=>{const{name,value}=e.target;setDiseaseData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// Función para calcular la próxima fecha de aplicación\nconst calculateNextDate=(currentDate,frequency)=>{const date=new Date(currentDate);if(!frequency||!frequency.value||!frequency.unit)return null;switch(frequency.unit){case'dias':date.setDate(date.getDate()+frequency.value);break;case'semanas':date.setDate(date.getDate()+frequency.value*7);break;case'meses':date.setMonth(date.getMonth()+frequency.value);break;case'años':date.setFullYear(date.getFullYear()+frequency.value);break;default:return null;}return date.toISOString().split('T')[0];};// Manejadores para añadir registros\nconst handleAddTreatment=e=>{e.preventDefault();const newTreatment=_objectSpread(_objectSpread({},treatmentData),{},{id:Date.now(),type:'general'});setTreatmentsHistory(prev=>[...prev,newTreatment]);// Extraer solo el número de la dosis para descontar del inventario\nconst dosisValue=parseFloat(newTreatment.dosis.split(' ')[0])||0;onUpdateInventoryQuantity(newTreatment.productId,dosisValue);setTreatmentData({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});};const handleAddVaccination=e=>{e.preventDefault();const newVaccination=_objectSpread(_objectSpread({},vaccinationData),{},{id:Date.now(),type:'vacunacion'});setTreatmentsHistory(prev=>[...prev,newVaccination]);const dosisValue=parseFloat(newVaccination.dosis.split(' ')[0])||0;onUpdateInventoryQuantity(newVaccination.productId,dosisValue);const selectedProduct=inventoryItems.find(item=>item.id===newVaccination.productId);const{frequency}=aiRecommendations(selectedProduct.name,newVaccination.animalId);const nextApplicationDate=calculateNextDate(newVaccination.fechaAplicacion,frequency);if(nextApplicationDate){setVaccinationSchedule(prev=>[...prev,{animalId:newVaccination.animalId,productName:selectedProduct.name,lastApplication:newVaccination.fechaAplicacion,nextApplication:nextApplicationDate,id:Date.now()+1}]);}setVaccinationData({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});};const handleAddDeworming=e=>{e.preventDefault();const newDeworming=_objectSpread(_objectSpread({},dewormingData),{},{id:Date.now(),type:'desparasitacion'});setTreatmentsHistory(prev=>[...prev,newDeworming]);const dosisValue=parseFloat(newDeworming.dosis.split(' ')[0])||0;onUpdateInventoryQuantity(newDeworming.productId,dosisValue);const selectedProduct=inventoryItems.find(item=>item.id===newDeworming.productId);const{frequency}=aiRecommendations(selectedProduct.name,newDeworming.animalId);const nextApplicationDate=calculateNextDate(newDeworming.fechaAplicacion,frequency);if(nextApplicationDate){setDewormingSchedule(prev=>[...prev,{animalId:newDeworming.animalId,productName:selectedProduct.name,lastApplication:newDeworming.fechaAplicacion,nextApplication:nextApplicationDate,id:Date.now()+2}]);}setDewormingData({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});};const handleAddVitamin=e=>{e.preventDefault();const newVitamin=_objectSpread(_objectSpread({},vitaminData),{},{id:Date.now(),type:'vitaminas'});setTreatmentsHistory(prev=>[...prev,newVitamin]);const dosisValue=parseFloat(newVitamin.dosis.split(' ')[0])||0;onUpdateInventoryQuantity(newVitamin.productId,dosisValue);const selectedProduct=inventoryItems.find(item=>item.id===newVitamin.productId);const{frequency}=aiRecommendations(selectedProduct.name,newVitamin.animalId);const nextApplicationDate=calculateNextDate(newVitamin.fechaAplicacion,frequency);if(nextApplicationDate){setVitaminSchedule(prev=>[...prev,{animalId:newVitamin.animalId,productName:selectedProduct.name,lastApplication:newVitamin.fechaAplicacion,nextApplication:nextApplicationDate,id:Date.now()+3}]);}setVitaminData({animalId:'',productId:'',dosis:'',fechaAplicacion:'',observaciones:'',manualDosis:false});};const handleAddDisease=e=>{e.preventDefault();const newDisease=_objectSpread(_objectSpread({},diseaseData),{},{id:Date.now()});setDiseasesHistory(prev=>[...prev,newDisease]);setDiseaseData({animalId:'',diseaseName:'',symptoms:'',diagnosisDate:'',treatmentProductId:'',treatmentDosis:'',treatmentStartDate:'',treatmentEndDate:'',recoveryDate:'',diseaseObservations:''});};// Manejadores para eliminar registros\nconst handleDeleteTreatment=id=>{setTreatmentsHistory(prev=>prev.filter(t=>t.id!==id));setVaccinationSchedule(prev=>prev.filter(v=>v.id!==id));setDewormingSchedule(prev=>prev.filter(d=>d.id!==id));setVitaminSchedule(prev=>prev.filter(v=>v.id!==id));};const handleDeleteDisease=id=>{setDiseasesHistory(prev=>prev.filter(d=>d.id!==id));};// Funciones auxiliares para obtener nombres\nconst getAnimalName=animalId=>{const animal=animals.find(a=>a.id===animalId);return animal?animal.name:'Desconocido';};const getProductName=productId=>{const product=inventoryItems.find(item=>item.id===productId);return product?product.name:'Desconocido';};// Estado y manejadores para la búsqueda de animales\nconst[animalSearchTerm,setAnimalSearchTerm]=useState('');const[filteredAnimals,setFilteredAnimals]=useState(animals);useEffect(()=>{setFilteredAnimals(animals.filter(animal=>animal.name.toLowerCase().includes(animalSearchTerm.toLowerCase())||animal.id.toLowerCase().includes(animalSearchTerm.toLowerCase())));},[animalSearchTerm,animals]);const handleAnimalSearchChange=e=>{setAnimalSearchTerm(e.target.value);};const handleSelectAnimal=(animalId,formType)=>{const selectedAnimal=animals.find(animal=>animal.id===animalId);if(!selectedAnimal)return;const updateForm=(setter,currentData)=>{setter(prev=>{const newData=_objectSpread(_objectSpread({},prev),{},{animalId:animalId});const selectedProduct=inventoryItems.find(item=>item.id===currentData.productId);if(selectedProduct&&!currentData.manualDosis){newData.dosis=aiRecommendations(selectedProduct.name,animalId).recommendedDosis;}return newData;});};switch(formType){case'general':updateForm(setTreatmentData,treatmentData);break;case'vaccination':updateForm(setVaccinationData,vaccinationData);break;case'deworming':updateForm(setDewormingData,dewormingData);break;case'vitamin':updateForm(setVitaminData,vitaminData);break;case'disease':setDiseaseData(prev=>_objectSpread(_objectSpread({},prev),{},{animalId:animalId}));break;default:break;}setAnimalSearchTerm('');// Limpiar búsqueda después de seleccionar\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gray-100 min-h-screen\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-8 text-center\",children:\"Control Sanitario\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Registrar Tratamiento General\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTreatment,className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalSearchGeneral\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Buscar Animal (ID o Nombre)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"animalSearchGeneral\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Escribe ID o nombre del animal\",value:animalSearchTerm,onChange:handleAnimalSearchChange}),animalSearchTerm&&filteredAnimals.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\",children:filteredAnimals.map(animal=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>handleSelectAnimal(animal.id,'general'),children:[animal.name,\" (\",animal.id,\")\"]},animal.id))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalIdGeneral\",className:\"block text-sm font-medium text-gray-700 mb-1 mt-3\",children:\"Animal Seleccionado\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"animalIdGeneral\",name:\"animalId\",value:treatmentData.animalId,onChange:handleTreatmentChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"productId\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Producto\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"productId\",name:\"productId\",value:treatmentData.productId,onChange:handleTreatmentChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un producto\"}),inventoryItems.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dosis\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Dosis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"dosis\",name:\"dosis\",value:treatmentData.dosis,onChange:handleTreatmentChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition \".concat(treatmentData.manualDosis?'':'bg-gray-50'),readOnly:!treatmentData.manualDosis}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"manualDosisTreatment\",name:\"manualDosis\",checked:treatmentData.manualDosis,onChange:handleTreatmentChange,className:\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"manualDosisTreatment\",className:\"ml-2 text-sm text-gray-700\",children:\"Dosis Manual\"})]}),!treatmentData.manualDosis&&treatmentData.productId&&treatmentData.animalId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:aiRecommendations(((_inventoryItems$find=inventoryItems.find(item=>item.id===treatmentData.productId))===null||_inventoryItems$find===void 0?void 0:_inventoryItems$find.name)||'',treatmentData.animalId).detailedRecommendation})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fechaAplicacion\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Aplicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"fechaAplicacion\",name:\"fechaAplicacion\",value:treatmentData.fechaAplicacion,onChange:handleTreatmentChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"observaciones\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"observaciones\",name:\"observaciones\",value:treatmentData.observaciones,onChange:handleTreatmentChange,rows:\"3\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\",children:\"Registrar Tratamiento General\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Registrar Vacunaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddVaccination,className:\"grid grid-cols-1 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalSearchVaccine\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Buscar Animal (ID o Nombre)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"animalSearchVaccine\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Escribe ID o nombre del animal\",value:animalSearchTerm,onChange:handleAnimalSearchChange}),animalSearchTerm&&filteredAnimals.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\",children:filteredAnimals.map(animal=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>handleSelectAnimal(animal.id,'vaccination'),children:[animal.name,\" (\",animal.id,\")\"]},animal.id))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaccineAnimalId\",className:\"block text-sm font-medium text-gray-700 mb-1 mt-3\",children:\"Animal Seleccionado\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"vaccineAnimalId\",name:\"animalId\",value:vaccinationData.animalId,onChange:handleVaccinationChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaccineProductId\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Vacuna\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"vaccineProductId\",name:\"productId\",value:vaccinationData.productId,onChange:handleVaccinationChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona una vacuna\"}),inventoryItems.filter(item=>item.category==='vacunas').map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaccineDosis\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Dosis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vaccineDosis\",name:\"dosis\",value:vaccinationData.dosis,onChange:handleVaccinationChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition \".concat(vaccinationData.manualDosis?'':'bg-gray-50'),readOnly:!vaccinationData.manualDosis}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"manualDosisVaccine\",name:\"manualDosis\",checked:vaccinationData.manualDosis,onChange:handleVaccinationChange,className:\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"manualDosisVaccine\",className:\"ml-2 text-sm text-gray-700\",children:\"Dosis Manual\"})]}),!vaccinationData.manualDosis&&vaccinationData.productId&&vaccinationData.animalId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:aiRecommendations(((_inventoryItems$find2=inventoryItems.find(item=>item.id===vaccinationData.productId))===null||_inventoryItems$find2===void 0?void 0:_inventoryItems$find2.name)||'',vaccinationData.animalId).detailedRecommendation})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaccineFechaAplicacion\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Aplicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"vaccineFechaAplicacion\",name:\"fechaAplicacion\",value:vaccinationData.fechaAplicacion,onChange:handleVaccinationChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vaccineObservaciones\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"vaccineObservaciones\",name:\"observaciones\",value:vaccinationData.observaciones,onChange:handleVaccinationChange,rows:\"2\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\",children:\"Registrar Vacunaci\\xF3n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Registrar Desparasitaci\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddDeworming,className:\"grid grid-cols-1 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalSearchDeworming\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Buscar Animal (ID o Nombre)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"animalSearchDeworming\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Escribe ID o nombre del animal\",value:animalSearchTerm,onChange:handleAnimalSearchChange}),animalSearchTerm&&filteredAnimals.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\",children:filteredAnimals.map(animal=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>handleSelectAnimal(animal.id,'deworming'),children:[animal.name,\" (\",animal.id,\")\"]},animal.id))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dewormingAnimalId\",className:\"block text-sm font-medium text-gray-700 mb-1 mt-3\",children:\"Animal Seleccionado\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"dewormingAnimalId\",name:\"animalId\",value:dewormingData.animalId,onChange:handleDewormingChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dewormingProductId\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Desparasitante\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"dewormingProductId\",name:\"productId\",value:dewormingData.productId,onChange:handleDewormingChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un desparasitante\"}),inventoryItems.filter(item=>item.category==='desparasitantes').map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dewormingDosis\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Dosis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"dewormingDosis\",name:\"dosis\",value:dewormingData.dosis,onChange:handleDewormingChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition \".concat(dewormingData.manualDosis?'':'bg-gray-50'),readOnly:!dewormingData.manualDosis}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"manualDosisDeworming\",name:\"manualDosis\",checked:dewormingData.manualDosis,onChange:handleDewormingChange,className:\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"manualDosisDeworming\",className:\"ml-2 text-sm text-gray-700\",children:\"Dosis Manual\"})]}),!dewormingData.manualDosis&&dewormingData.productId&&dewormingData.animalId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:aiRecommendations(((_inventoryItems$find3=inventoryItems.find(item=>item.id===dewormingData.productId))===null||_inventoryItems$find3===void 0?void 0:_inventoryItems$find3.name)||'',dewormingData.animalId).detailedRecommendation})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dewormingFechaAplicacion\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Aplicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dewormingFechaAplicacion\",name:\"fechaAplicacion\",value:dewormingData.fechaAplicacion,onChange:handleDewormingChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dewormingObservaciones\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"dewormingObservaciones\",name:\"observaciones\",value:dewormingData.observaciones,onChange:handleDewormingChange,rows:\"2\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\",children:\"Registrar Desparasitaci\\xF3n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Registrar Vitaminas\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddVitamin,className:\"grid grid-cols-1 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalSearchVitamin\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Buscar Animal (ID o Nombre)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"animalSearchVitamin\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Escribe ID o nombre del animal\",value:animalSearchTerm,onChange:handleAnimalSearchChange}),animalSearchTerm&&filteredAnimals.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\",children:filteredAnimals.map(animal=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>handleSelectAnimal(animal.id,'vitamin'),children:[animal.name,\" (\",animal.id,\")\"]},animal.id))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vitaminAnimalId\",className:\"block text-sm font-medium text-gray-700 mb-1 mt-3\",children:\"Animal Seleccionado\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"vitaminAnimalId\",name:\"animalId\",value:vitaminData.animalId,onChange:handleVitaminChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vitaminProductId\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Vitamina\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"vitaminProductId\",name:\"productId\",value:vitaminData.productId,onChange:handleVitaminChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona una vitamina\"}),inventoryItems.filter(item=>item.category==='vitaminas').map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vitaminDosis\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Dosis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"vitaminDosis\",name:\"dosis\",value:vitaminData.dosis,onChange:handleVitaminChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition \".concat(vitaminData.manualDosis?'':'bg-gray-50'),readOnly:!vitaminData.manualDosis}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"manualDosisVitamin\",name:\"manualDosis\",checked:vitaminData.manualDosis,onChange:handleVitaminChange,className:\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"manualDosisVitamin\",className:\"ml-2 text-sm text-gray-700\",children:\"Dosis Manual\"})]}),!vitaminData.manualDosis&&vitaminData.productId&&vitaminData.animalId&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:aiRecommendations(((_inventoryItems$find4=inventoryItems.find(item=>item.id===vitaminData.productId))===null||_inventoryItems$find4===void 0?void 0:_inventoryItems$find4.name)||'',vitaminData.animalId).detailedRecommendation})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vitaminFechaAplicacion\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Aplicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"vitaminFechaAplicacion\",name:\"fechaAplicacion\",value:vitaminData.fechaAplicacion,onChange:handleVitaminChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vitaminObservaciones\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"vitaminObservaciones\",name:\"observaciones\",value:vitaminData.observaciones,onChange:handleVitaminChange,rows:\"2\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\",children:\"Registrar Vitaminas\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Historial de Tratamientos\"}),treatmentsHistory.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center\",children:\"No hay tratamientos registrados a\\xFAn.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Dosis\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:treatmentsHistory.map(treatment=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getAnimalName(treatment.animalId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getProductName(treatment.productId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:treatment.dosis}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:treatment.fechaAplicacion}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:treatment.type||'General'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:treatment.observaciones}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteTreatment(treatment.id),className:\"text-red-600 hover:text-red-900 transition-colors\",children:\"Eliminar\"})})]},treatment.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Registrar Enfermedad\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddDisease,className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"animalSearchDisease\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Buscar Animal (ID o Nombre)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"animalSearchDisease\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",placeholder:\"Escribe ID o nombre del animal\",value:animalSearchTerm,onChange:handleAnimalSearchChange}),animalSearchTerm&&filteredAnimals.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\",children:filteredAnimals.map(animal=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-2 hover:bg-gray-100 cursor-pointer\",onClick:()=>handleSelectAnimal(animal.id,'disease'),children:[animal.name,\" (\",animal.id,\")\"]},animal.id))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"diseaseAnimalId\",className:\"block text-sm font-medium text-gray-700 mb-1 mt-3\",children:\"Animal Seleccionado\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"diseaseAnimalId\",name:\"animalId\",value:diseaseData.animalId,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"diseaseName\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nombre de la Enfermedad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"diseaseName\",name:\"diseaseName\",value:diseaseData.diseaseName,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"symptoms\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"S\\xEDntomas\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"symptoms\",name:\"symptoms\",value:diseaseData.symptoms,onChange:handleDiseaseChange,rows:\"3\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"diagnosisDate\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Diagn\\xF3stico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"diagnosisDate\",name:\"diagnosisDate\",value:diseaseData.diagnosisDate,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"treatmentProductId\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Medicamento para Tratamiento\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"treatmentProductId\",name:\"treatmentProductId\",value:diseaseData.treatmentProductId,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona un producto\"}),inventoryItems.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"treatmentDosis\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Dosis del Tratamiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"treatmentDosis\",name:\"treatmentDosis\",value:diseaseData.treatmentDosis,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"treatmentStartDate\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Inicio Tratamiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"treatmentStartDate\",name:\"treatmentStartDate\",value:diseaseData.treatmentStartDate,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"treatmentEndDate\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fin Tratamiento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"treatmentEndDate\",name:\"treatmentEndDate\",value:diseaseData.treatmentEndDate,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"recoveryDate\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Fecha de Recuperaci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"recoveryDate\",name:\"recoveryDate\",value:diseaseData.recoveryDate,onChange:handleDiseaseChange,className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"diseaseObservations\",className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observaciones de la Enfermedad\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"diseaseObservations\",name:\"diseaseObservations\",value:diseaseData.diseaseObservations,onChange:handleDiseaseChange,rows:\"3\",className:\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:col-span-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\",children:\"Registrar Enfermedad\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Historial de Enfermedades\"}),diseasesHistory.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center\",children:\"No hay enfermedades registradas a\\xFAn.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Enfermedad\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Diagn\\xF3stico\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Recuperaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:diseasesHistory.map(disease=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getAnimalName(disease.animalId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:disease.diseaseName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:disease.diagnosisDate}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:disease.recoveryDate||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteDisease(disease.id),className:\"text-red-600 hover:text-red-900 transition-colors\",children:\"Eliminar\"})})]},disease.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Calendario de Vacunaci\\xF3n\"}),vaccinationSchedule.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center\",children:\"No hay vacunas programadas.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Vacuna\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Pr\\xF3xima Fecha\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:vaccinationSchedule.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getAnimalName(item.animalId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.productName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.nextApplication})]},item.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Calendario de Desparasitaci\\xF3n\"}),dewormingSchedule.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center\",children:\"No hay desparasitaciones programadas.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Pr\\xF3xima Fecha\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:dewormingSchedule.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getAnimalName(item.animalId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.productName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.nextApplication})]},item.id))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-700 mb-6\",children:\"Calendario de Vitaminas\"}),vitaminSchedule.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center\",children:\"No hay vitaminas programadas.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Pr\\xF3xima Fecha\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-200\",children:vitaminSchedule.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:getAnimalName(item.animalId)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.productName}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:item.nextApplication})]},item.id))})]})})]})]})]});};export default SanitaryControlPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","SanitaryControlPage","_ref","_inventoryItems$find","_inventoryItems$find2","_inventoryItems$find3","_inventoryItems$find4","inventoryItems","onUpdateInventoryQuantity","animals","treatmentData","setTreatmentData","animalId","productId","dosis","fechaAplicacion","observaciones","manualDosis","vaccinationData","setVaccinationData","dewormingData","setDewormingData","vitaminData","setVitaminData","diseaseData","setDiseaseData","diseaseName","symptoms","diagnosisDate","treatmentProductId","treatmentDosis","treatmentStartDate","treatmentEndDate","recoveryDate","diseaseObservations","treatmentsHistory","setTreatmentsHistory","diseasesHistory","setDiseasesHistory","vaccinationSchedule","setVaccinationSchedule","dewormingSchedule","setDewormingSchedule","vitaminSchedule","setVitaminSchedule","dewormingFrequency","setDewormingFrequency","JSON","parse","localStorage","getItem","value","unit","vitaminFrequency","setVitaminFrequency","stockThreshold","setStockThreshold","aiRecommendations","productName","lowerCaseName","toLowerCase","type","recommendedDosis","frequency","detailedRecommendation","animal","find","a","id","animalWeight","parseFloat","peso","productDatabase","dosisPerAnimal","route","minAge","notes","dosisPerKg","foundProductKey","Object","keys","key","includes","productInfo","concat","calculatedDosis","toFixed","setItem","stringify","handleTreatmentChange","e","name","checked","target","prevTreatmentData","_objectSpread","selectedProduct","item","currentAnimalId","handleVaccinationChange","prevVaccinationData","handleDewormingChange","prevDewormingData","handleVitaminChange","prevVitaminData","handleDiseaseChange","prev","calculateNextDate","currentDate","date","Date","setDate","getDate","setMonth","getMonth","setFullYear","getFullYear","toISOString","split","handleAddTreatment","preventDefault","newTreatment","now","dosisValue","handleAddVaccination","newVaccination","nextApplicationDate","lastApplication","nextApplication","handleAddDeworming","newDeworming","handleAddVitamin","newVitamin","handleAddDisease","newDisease","handleDeleteTreatment","filter","t","v","d","handleDeleteDisease","getAnimalName","getProductName","product","animalSearchTerm","setAnimalSearchTerm","filteredAnimals","setFilteredAnimals","handleAnimalSearchChange","handleSelectAnimal","formType","selectedAnimal","updateForm","setter","currentData","newData","className","children","onSubmit","htmlFor","placeholder","onChange","length","map","onClick","required","readOnly","rows","category","treatment","disease"],"sources":["C:/Users/User/Downloads/project (10)/src/components/SanitaryControlPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\nconst SanitaryControlPage = ({ inventoryItems, onUpdateInventoryQuantity, animals }) => {\n  // Estados para los formularios de registro\n  const [treatmentData, setTreatmentData] = useState({\n    animalId: '',\n    productId: '',\n    dosis: '',\n    fechaAplicacion: '',\n    observaciones: '',\n    manualDosis: false, // Añadido para tratamiento general\n  });\n  const [vaccinationData, setVaccinationData] = useState({\n    animalId: '',\n    productId: '',\n    dosis: '',\n    fechaAplicacion: '',\n    observaciones: '',\n    manualDosis: false,\n  });\n  const [dewormingData, setDewormingData] = useState({\n    animalId: '',\n    productId: '',\n    dosis: '',\n    fechaAplicacion: '',\n    observaciones: '',\n    manualDosis: false,\n  });\n  const [vitaminData, setVitaminData] = useState({\n    animalId: '',\n    productId: '',\n    dosis: '',\n    fechaAplicacion: '',\n    observaciones: '',\n    manualDosis: false,\n  });\n  const [diseaseData, setDiseaseData] = useState({\n    animalId: '',\n    diseaseName: '',\n    symptoms: '',\n    diagnosisDate: '',\n    treatmentProductId: '',\n    treatmentDosis: '',\n    treatmentStartDate: '',\n    treatmentEndDate: '',\n    recoveryDate: '',\n    diseaseObservations: '',\n  });\n\n  // Estados para los historiales y calendarios\n  const [treatmentsHistory, setTreatmentsHistory] = useState([]);\n  const [diseasesHistory, setDiseasesHistory] = useState([]);\n  const [vaccinationSchedule, setVaccinationSchedule] = useState([]);\n  const [dewormingSchedule, setDewormingSchedule] = useState([]);\n  const [vitaminSchedule, setVitaminSchedule] = useState([]);\n\n  // Frecuencias y umbrales (cargados desde localStorage)\n  const [dewormingFrequency, setDewormingFrequency] = useState(() => JSON.parse(localStorage.getItem('dewormingFrequency')) || { value: 3, unit: 'meses' });\n  const [vitaminFrequency, setVitaminFrequency] = useState(() => JSON.parse(localStorage.getItem('vitaminFrequency')) || { value: 6, unit: 'meses' });\n  const [stockThreshold, setStockThreshold] = useState(() => JSON.parse(localStorage.getItem('stockThreshold')) || 10);\n\n  // Mock de la \"IA\" para recomendaciones de dosis y tipo de producto para bovinos\n  // Simula una \"investigación profunda\" con datos más específicos y cálculos\n  const aiRecommendations = useCallback((productName, animalId) => {\n    const lowerCaseName = productName.toLowerCase();\n    let type = 'general';\n    let recommendedDosis = 'Consultar etiqueta'; // Dosis por defecto\n    let frequency = null;\n    let detailedRecommendation = 'Se recomienda consultar a un veterinario para la dosis exacta.';\n\n    const animal = animals.find(a => a.id === animalId);\n    const animalWeight = animal ? parseFloat(animal.peso) : 0; // Asumiendo que el animal tiene un campo 'peso'\n\n    // Base de datos de productos con información detallada\n    const productDatabase = {\n      // Vacunas Antirrábicas\n      \"ravax\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea o intramuscular\",\n        minAge: \"3 meses\", frequency: { value: 6, unit: \"meses\" },\n        notes: \"Cepa ERA inactivada. Más de 60 años de uso en Venezuela con probada efectividad.\"\n      },\n      \"rabivac\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea o intramuscular\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Vacuna inactivada con cepa Pasteur. Amplia distribución en zonas de rabia paresiante.\"\n      },\n      \"vacuna antirrábica de producción nacional\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Usada en campañas oficiales del Ministerio de Agricultura en zonas afectadas por murciélagos hematófagos.\"\n      },\n      \"rabivac-vet\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Registrada por Agrocalidad en Ecuador.\"\n      },\n      \"vacunas del mag o plan nacional antirrábico bovino\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"N/A\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Distribución gratuita durante jornadas sanitarias en Ecuador.\"\n      },\n      \"vacuna antirrábica bovina senasag / iifa\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Usada en campañas oficiales en el oriente boliviano.\"\n      },\n      \"rabiol bovino\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Fabricada por Biofarma Paraguay, uso comercial limitado en Bolivia.\"\n      },\n      \"cdvac rabia\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Para bovinos, ovinos, caprinos, porcinos, equinos. Si primera dosis antes de 6 meses, repetir a los 6 meses.\"\n      },\n      \"providean rabia\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Adyuvante Pilatus GHA500.\"\n      },\n      \"vacuna biogénesis páresiante\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Refuerzo a los 6 meses si fue primovacunación temprana.\"\n      },\n      \"rabigán\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Revacunar anualmente en zonas endémicas de Colombia.\"\n      },\n      \"aftosa+rabia\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"subcutánea\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Vacuna combinada aftosa+rabia, aplicada anualmente en Colombia.\"\n      },\n      \"rabicán\": { // Aunque es para perros/gatos, se menciona su venta para bovinos en Colombia\n        type: \"vacuna\", dosisPerAnimal: 1, unit: \"mL\", route: \"N/A\",\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Principalmente para perros/gatos, pero se vende en Colombia.\"\n      },\n      \"nobivac rabia\": {\n        type: \"vacuna\", dosisPerAnimal: 1, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"3-6 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Para bovinos. En Chile/Costa Rica, revacunación cada 2 años para bovinos/caballos.\"\n      },\n      \"derri a plus\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"N/A\", // Asumiendo dosis estándar de 2mL para rabia bovina\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Vacuna para bovinos y otros rumiantes; estándar nacional en México.\"\n      },\n      \"vacuna antirrábica inactivada para herbívoros\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Revacunar a los 30 días, luego anualmente en Brasil.\"\n      },\n      \"rai-vet\": {\n        type: \"vacuna\", dosisPerAnimal: 2, unit: \"mL\", route: \"N/A\", // Asumiendo dosis estándar de 2mL\n        minAge: \"N/A\", frequency: { value: 1, unit: \"años\" },\n        notes: \"Utilizada en herbívoros dentro de los programas nacionales de Brasil.\"\n      },\n      // Vacunas para Estomatitis\n      \"vacuna estomatitis\": {\n        type: \"vacuna\", dosisPerAnimal: 5, unit: \"mL\", route: \"intramuscular o subcutánea\",\n        minAge: \"3 meses\", frequency: { value: 6, unit: \"meses\" },\n        notes: \"Marca Vecol S.A. Primovacunación a partir de 3 meses (junto a otras dosis según esquema nacional).\"\n      },\n      \"estomavac\": {\n        type: \"vacuna\", dosisPerAnimal: 3, unit: \"mL\", route: \"intramuscular\",\n        minAge: \"3 meses\", frequency: { value: 6, unit: \"meses\" }, // Esquema: 3 meses, refuerzo 30 días, luego 8 meses, semestral en adultos\n        notes: \"Vacuna bivalente nacional contra estomatitis vesicular (Laboratorios CALA). Refuerzo a los 30 días, luego a los 8 meses y revacunación semestral en adultos.\"\n      },\n      // Desparasitantes (ejemplos existentes)\n      \"ivermectina 1%\": {\n        type: \"desparasitante\", dosisPerKg: 0.2, unit: \"ml\", route: \"subcutáneo\", frequency: { value: 3, unit: \"meses\" },\n        notes: \"No usar en animales en lactación cuya leche se destine a consumo humano.\"\n      },\n      \"albendazol 10%\": {\n        type: \"desparasitante\", dosisPerKg: 0.5, unit: \"ml\", route: \"oral\", frequency: { value: 4, unit: \"meses\" },\n        notes: \"Amplio espectro contra parásitos gastrointestinales y pulmonares.\"\n      },\n      // Vitaminas (ejemplos existentes)\n      \"complejo b\": {\n        type: \"vitamina\", dosisPerKg: 0.1, unit: \"ml\", route: \"intramuscular\", frequency: { value: 2, unit: \"meses\" },\n        notes: \"Coadyuvante en casos de estrés, convalecencia o deficiencias nutricionales.\"\n      },\n      \"vitamina ad3e\": {\n        type: \"vitamina\", dosisPerAnimal: 10, unit: \"ml\", route: \"intramuscular\", frequency: { value: 6, unit: \"meses\" },\n        notes: \"Esencial para el crecimiento, reproducción y salud ósea.\"\n      },\n    };\n\n    // Buscar el producto en la base de datos simulada\n    const foundProductKey = Object.keys(productDatabase).find(key => lowerCaseName.includes(key));\n\n    if (foundProductKey) {\n      const productInfo = productDatabase[foundProductKey];\n      type = productInfo.type;\n      frequency = productInfo.frequency;\n\n      if (productInfo.dosisPerAnimal) {\n        recommendedDosis = `${productInfo.dosisPerAnimal} ${productInfo.unit} ${productInfo.route}`;\n        detailedRecommendation = `Dosis recomendada: ${productInfo.dosisPerAnimal} ${productInfo.unit} ${productInfo.route}. ${productInfo.notes}`;\n      } else if (productInfo.dosisPerKg && animalWeight > 0) {\n        const calculatedDosis = (animalWeight / 10) * productInfo.dosisPerKg;\n        recommendedDosis = `${calculatedDosis.toFixed(1)} ${productInfo.unit} ${productInfo.route}`;\n        detailedRecommendation = `Dosis calculada para ${animalWeight} kg: ${calculatedDosis.toFixed(1)} ${productInfo.unit} ${productInfo.route}. ${productInfo.notes}`;\n      } else {\n        detailedRecommendation = `No se pudo calcular la dosis exacta sin el peso del animal o si el producto no tiene dosis por kg. ${productInfo.notes}`;\n      }\n      // Añadir información de edad mínima si está disponible\n      if (productInfo.minAge) {\n        detailedRecommendation += ` Edad mínima para aplicación: ${productInfo.minAge}.`;\n      }\n    } else {\n      detailedRecommendation = \"Producto no encontrado en la base de datos de IA. Consultar etiqueta o veterinario.\";\n    }\n\n    return { type, recommendedDosis, frequency, detailedRecommendation };\n  }, [animals, dewormingFrequency, vitaminFrequency]);\n\n  // Cargar datos desde localStorage al inicio\n  useEffect(() => {\n    setTreatmentsHistory(JSON.parse(localStorage.getItem('treatmentsHistory')) || []);\n    setDiseasesHistory(JSON.parse(localStorage.getItem('diseasesHistory')) || []);\n    setVaccinationSchedule(JSON.parse(localStorage.getItem('vaccinationSchedule')) || []);\n    setDewormingSchedule(JSON.parse(localStorage.getItem('dewormingSchedule')) || []);\n    setVitaminSchedule(JSON.parse(localStorage.getItem('vitaminSchedule')) || []);\n  }, []);\n\n  // Guardar datos en localStorage cada vez que cambian\n  useEffect(() => { localStorage.setItem('treatmentsHistory', JSON.stringify(treatmentsHistory)); }, [treatmentsHistory]);\n  useEffect(() => { localStorage.setItem('diseasesHistory', JSON.stringify(diseasesHistory)); }, [diseasesHistory]);\n  useEffect(() => { localStorage.setItem('vaccinationSchedule', JSON.stringify(vaccinationSchedule)); }, [vaccinationSchedule]);\n  useEffect(() => { localStorage.setItem('dewormingSchedule', JSON.stringify(dewormingSchedule)); }, [dewormingSchedule]);\n  useEffect(() => { localStorage.setItem('vitaminSchedule', JSON.stringify(vitaminSchedule)); }, [vitaminSchedule]);\n  useEffect(() => { localStorage.setItem('dewormingFrequency', JSON.stringify(dewormingFrequency)); }, [dewormingFrequency]);\n  useEffect(() => { localStorage.setItem('vitaminFrequency', JSON.stringify(vitaminFrequency)); }, [vitaminFrequency]);\n  useEffect(() => { localStorage.setItem('stockThreshold', JSON.stringify(stockThreshold)); }, [stockThreshold]);\n\n  // Manejadores de cambio para los formularios\n  const handleTreatmentChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    if (name === 'manualDosis') {\n      setTreatmentData(prevTreatmentData => ({ ...prevTreatmentData, manualDosis: checked }));\n      if (!checked) {\n        const selectedProduct = inventoryItems.find(item => item.id === prevTreatmentData.productId);\n        if (selectedProduct && prevTreatmentData.animalId) {\n          setTreatmentData(prevTreatmentData => ({ ...prevTreatmentData, dosis: aiRecommendations(selectedProduct.name, prevTreatmentData.animalId).recommendedDosis }));\n        }\n      }\n    } else {\n      setTreatmentData(prevTreatmentData => ({ ...prevTreatmentData, [name]: value }));\n      if ((name === 'productId' || name === 'animalId') && !prevTreatmentData.manualDosis) {\n        const selectedProduct = inventoryItems.find(item => item.id === (name === 'productId' ? value : prevTreatmentData.productId));\n        const currentAnimalId = name === 'animalId' ? value : prevTreatmentData.animalId;\n        if (selectedProduct && currentAnimalId) {\n          setTreatmentData(prevTreatmentData => ({ ...prevTreatmentData, dosis: aiRecommendations(selectedProduct.name, currentAnimalId).recommendedDosis }));\n        }\n      }\n    }\n  };\n\n  const handleVaccinationChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    if (name === 'manualDosis') {\n      setVaccinationData(prevVaccinationData => ({ ...prevVaccinationData, manualDosis: checked }));\n      if (!checked) { // Si desactiva manual, recalcular dosis IA\n        const selectedProduct = inventoryItems.find(item => item.id === prevVaccinationData.productId);\n        if (selectedProduct && prevVaccinationData.animalId) {\n          setVaccinationData(prevVaccinationData => ({ ...prevVaccinationData, dosis: aiRecommendations(selectedProduct.name, prevVaccinationData.animalId).recommendedDosis }));\n        }\n      }\n    } else {\n      setVaccinationData(prevVaccinationData => ({ ...prevVaccinationData, [name]: value }));\n      if ((name === 'productId' || name === 'animalId') && !vaccinationData.manualDosis) {\n        const selectedProduct = inventoryItems.find(item => item.id === (name === 'productId' ? value : vaccinationData.productId));\n        const currentAnimalId = name === 'animalId' ? value : vaccinationData.animalId;\n        if (selectedProduct && currentAnimalId) {\n          setVaccinationData(prevVaccinationData => ({ ...prevVaccinationData, dosis: aiRecommendations(selectedProduct.name, currentAnimalId).recommendedDosis }));\n        }\n      }\n    }\n  };\n\n  const handleDewormingChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    if (name === 'manualDosis') {\n      setDewormingData(prevDewormingData => ({ ...prevDewormingData, manualDosis: checked }));\n      if (!checked) {\n        const selectedProduct = inventoryItems.find(item => item.id === prevDewormingData.productId);\n        if (selectedProduct && prevDewormingData.animalId) {\n          setDewormingData(prevDewormingData => ({ ...prevDewormingData, dosis: aiRecommendations(selectedProduct.name, prevDewormingData.animalId).recommendedDosis }));\n        }\n      }\n    } else {\n      setDewormingData(prevDewormingData => ({ ...prevDewormingData, [name]: value }));\n      if ((name === 'productId' || name === 'animalId') && !dewormingData.manualDosis) {\n        const selectedProduct = inventoryItems.find(item => item.id === (name === 'productId' ? value : prevDewormingData.productId));\n        const currentAnimalId = name === 'animalId' ? value : prevDewormingData.animalId;\n        if (selectedProduct && currentAnimalId) {\n          setDewormingData(prevDewormingData => ({ ...prevDewormingData, dosis: aiRecommendations(selectedProduct.name, currentAnimalId).recommendedDosis }));\n        }\n      }\n    }\n  };\n\n  const handleVitaminChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    if (name === 'manualDosis') {\n      setVitaminData(prevVitaminData => ({ ...prevVitaminData, manualDosis: checked }));\n      if (!checked) {\n        const selectedProduct = inventoryItems.find(item => item.id === prevVitaminData.productId);\n        if (selectedProduct && prevVitaminData.animalId) {\n          setVitaminData(prevVitaminData => ({ ...prevVitaminData, dosis: aiRecommendations(selectedProduct.name, prevVitaminData.animalId).recommendedDosis }));\n        }\n      }\n    } else {\n      setVitaminData(prevVitaminData => ({ ...prevVitaminData, [name]: value }));\n      if ((name === 'productId' || name === 'animalId') && !prevVitaminData.manualDosis) {\n        const selectedProduct = inventoryItems.find(item => item.id === (name === 'productId' ? value : prevVitaminData.productId));\n        const currentAnimalId = name === 'animalId' ? value : prevVitaminData.animalId;\n        if (selectedProduct && currentAnimalId) {\n          setVitaminData(prevVitaminData => ({ ...prevVitaminData, dosis: aiRecommendations(selectedProduct.name, currentAnimalId).recommendedDosis }));\n        }\n      }\n    }\n  };\n\n  const handleDiseaseChange = (e) => {\n    const { name, value } = e.target;\n    setDiseaseData(prev => ({ ...prev, [name]: value }));\n  };\n\n  // Función para calcular la próxima fecha de aplicación\n  const calculateNextDate = (currentDate, frequency) => {\n    const date = new Date(currentDate);\n    if (!frequency || !frequency.value || !frequency.unit) return null;\n\n    switch (frequency.unit) {\n      case 'dias': date.setDate(date.getDate() + frequency.value); break;\n      case 'semanas': date.setDate(date.getDate() + (frequency.value * 7)); break;\n      case 'meses': date.setMonth(date.getMonth() + frequency.value); break;\n      case 'años': date.setFullYear(date.getFullYear() + frequency.value); break;\n      default: return null;\n    }\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejadores para añadir registros\n  const handleAddTreatment = (e) => {\n    e.preventDefault();\n    const newTreatment = { ...treatmentData, id: Date.now(), type: 'general' };\n    setTreatmentsHistory(prev => [...prev, newTreatment]);\n    // Extraer solo el número de la dosis para descontar del inventario\n    const dosisValue = parseFloat(newTreatment.dosis.split(' ')[0]) || 0;\n    onUpdateInventoryQuantity(newTreatment.productId, dosisValue);\n    setTreatmentData({ animalId: '', productId: '', dosis: '', fechaAplicacion: '', observaciones: '', manualDosis: false });\n  };\n\n  const handleAddVaccination = (e) => {\n    e.preventDefault();\n    const newVaccination = { ...vaccinationData, id: Date.now(), type: 'vacunacion' };\n    setTreatmentsHistory(prev => [...prev, newVaccination]);\n    const dosisValue = parseFloat(newVaccination.dosis.split(' ')[0]) || 0;\n    onUpdateInventoryQuantity(newVaccination.productId, dosisValue);\n\n    const selectedProduct = inventoryItems.find(item => item.id === newVaccination.productId);\n    const { frequency } = aiRecommendations(selectedProduct.name, newVaccination.animalId);\n    const nextApplicationDate = calculateNextDate(newVaccination.fechaAplicacion, frequency);\n\n    if (nextApplicationDate) {\n      setVaccinationSchedule(prev => [...prev, {\n        animalId: newVaccination.animalId,\n        productName: selectedProduct.name,\n        lastApplication: newVaccination.fechaAplicacion,\n        nextApplication: nextApplicationDate,\n        id: Date.now() + 1,\n      }]);\n    }\n    setVaccinationData({ animalId: '', productId: '', dosis: '', fechaAplicacion: '', observaciones: '', manualDosis: false });\n  };\n\n  const handleAddDeworming = (e) => {\n    e.preventDefault();\n    const newDeworming = { ...dewormingData, id: Date.now(), type: 'desparasitacion' };\n    setTreatmentsHistory(prev => [...prev, newDeworming]);\n    const dosisValue = parseFloat(newDeworming.dosis.split(' ')[0]) || 0;\n    onUpdateInventoryQuantity(newDeworming.productId, dosisValue);\n\n    const selectedProduct = inventoryItems.find(item => item.id === newDeworming.productId);\n    const { frequency } = aiRecommendations(selectedProduct.name, newDeworming.animalId);\n    const nextApplicationDate = calculateNextDate(newDeworming.fechaAplicacion, frequency);\n\n    if (nextApplicationDate) {\n      setDewormingSchedule(prev => [...prev, {\n        animalId: newDeworming.animalId,\n        productName: selectedProduct.name,\n        lastApplication: newDeworming.fechaAplicacion,\n        nextApplication: nextApplicationDate,\n        id: Date.now() + 2,\n      }]);\n    }\n    setDewormingData({ animalId: '', productId: '', dosis: '', fechaAplicacion: '', observaciones: '', manualDosis: false });\n  };\n\n  const handleAddVitamin = (e) => {\n    e.preventDefault();\n    const newVitamin = { ...vitaminData, id: Date.now(), type: 'vitaminas' };\n    setTreatmentsHistory(prev => [...prev, newVitamin]);\n    const dosisValue = parseFloat(newVitamin.dosis.split(' ')[0]) || 0;\n    onUpdateInventoryQuantity(newVitamin.productId, dosisValue);\n\n    const selectedProduct = inventoryItems.find(item => item.id === newVitamin.productId);\n    const { frequency } = aiRecommendations(selectedProduct.name, newVitamin.animalId);\n    const nextApplicationDate = calculateNextDate(newVitamin.fechaAplicacion, frequency);\n\n    if (nextApplicationDate) {\n      setVitaminSchedule(prev => [...prev, {\n        animalId: newVitamin.animalId,\n        productName: selectedProduct.name,\n        lastApplication: newVitamin.fechaAplicacion,\n        nextApplication: nextApplicationDate,\n        id: Date.now() + 3,\n      }]);\n    }\n    setVitaminData({ animalId: '', productId: '', dosis: '', fechaAplicacion: '', observaciones: '', manualDosis: false });\n  };\n\n  const handleAddDisease = (e) => {\n    e.preventDefault();\n    const newDisease = { ...diseaseData, id: Date.now() };\n    setDiseasesHistory(prev => [...prev, newDisease]);\n    setDiseaseData({\n      animalId: '', diseaseName: '', symptoms: '', diagnosisDate: '',\n      treatmentProductId: '', treatmentDosis: '', treatmentStartDate: '',\n      treatmentEndDate: '', recoveryDate: '', diseaseObservations: '',\n    });\n  };\n\n  // Manejadores para eliminar registros\n  const handleDeleteTreatment = (id) => {\n    setTreatmentsHistory(prev => prev.filter(t => t.id !== id));\n    setVaccinationSchedule(prev => prev.filter(v => v.id !== id));\n    setDewormingSchedule(prev => prev.filter(d => d.id !== id));\n    setVitaminSchedule(prev => prev.filter(v => v.id !== id));\n  };\n\n  const handleDeleteDisease = (id) => {\n    setDiseasesHistory(prev => prev.filter(d => d.id !== id));\n  };\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = (animalId) => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  const getProductName = (productId) => {\n    const product = inventoryItems.find(item => item.id === productId);\n    return product ? product.name : 'Desconocido';\n  };\n\n  // Estado y manejadores para la búsqueda de animales\n  const [animalSearchTerm, setAnimalSearchTerm] = useState('');\n  const [filteredAnimals, setFilteredAnimals] = useState(animals);\n\n  useEffect(() => {\n    setFilteredAnimals(\n      animals.filter(animal =>\n        animal.name.toLowerCase().includes(animalSearchTerm.toLowerCase()) ||\n        animal.id.toLowerCase().includes(animalSearchTerm.toLowerCase())\n      )\n    );\n  }, [animalSearchTerm, animals]);\n\n  const handleAnimalSearchChange = (e) => {\n    setAnimalSearchTerm(e.target.value);\n  };\n\n  const handleSelectAnimal = (animalId, formType) => {\n    const selectedAnimal = animals.find(animal => animal.id === animalId);\n    if (!selectedAnimal) return;\n\n    const updateForm = (setter, currentData) => {\n      setter(prev => {\n        const newData = { ...prev, animalId: animalId };\n        const selectedProduct = inventoryItems.find(item => item.id === currentData.productId);\n        if (selectedProduct && !currentData.manualDosis) {\n          newData.dosis = aiRecommendations(selectedProduct.name, animalId).recommendedDosis;\n        }\n        return newData;\n      });\n    };\n\n    switch (formType) {\n      case 'general':\n        updateForm(setTreatmentData, treatmentData);\n        break;\n      case 'vaccination':\n        updateForm(setVaccinationData, vaccinationData);\n        break;\n      case 'deworming':\n        updateForm(setDewormingData, dewormingData);\n        break;\n      case 'vitamin':\n        updateForm(setVitaminData, vitaminData);\n        break;\n      case 'disease':\n        setDiseaseData(prev => ({ ...prev, animalId: animalId }));\n        break;\n      default:\n        break;\n    }\n    setAnimalSearchTerm(''); // Limpiar búsqueda después de seleccionar\n  };\n\n\n  return (\n    <div className=\"p-6 bg-gray-100 min-h-screen\">\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8 text-center\">Control Sanitario</h1>\n\n      {/* Sección de Registro de Tratamiento General */}\n      <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n        <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Registrar Tratamiento General</h2>\n        <form onSubmit={handleAddTreatment} className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label htmlFor=\"animalSearchGeneral\" className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Animal (ID o Nombre)</label>\n            <input\n              type=\"text\"\n              id=\"animalSearchGeneral\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              placeholder=\"Escribe ID o nombre del animal\"\n              value={animalSearchTerm}\n              onChange={handleAnimalSearchChange}\n            />\n            {animalSearchTerm && filteredAnimals.length > 0 && (\n              <ul className=\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\">\n                {filteredAnimals.map(animal => (\n                  <li\n                    key={animal.id}\n                    className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n                    onClick={() => handleSelectAnimal(animal.id, 'general')}\n                  >\n                    {animal.name} ({animal.id})\n                  </li>\n                ))}\n              </ul>\n            )}\n            <label htmlFor=\"animalIdGeneral\" className=\"block text-sm font-medium text-gray-700 mb-1 mt-3\">Animal Seleccionado</label>\n            <select\n              id=\"animalIdGeneral\"\n              name=\"animalId\"\n              value={treatmentData.animalId}\n              onChange={handleTreatmentChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            >\n              <option value=\"\">Selecciona un animal</option>\n              {animals.map(animal => (\n                <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"productId\" className=\"block text-sm font-medium text-gray-700 mb-1\">Producto</label>\n            <select\n              id=\"productId\"\n              name=\"productId\"\n              value={treatmentData.productId}\n              onChange={handleTreatmentChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            >\n              <option value=\"\">Selecciona un producto</option>\n              {inventoryItems.map(item => (\n                <option key={item.id} value={item.id}>{item.name}</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"dosis\" className=\"block text-sm font-medium text-gray-700 mb-1\">Dosis</label>\n            <input\n              type=\"text\"\n              id=\"dosis\"\n              name=\"dosis\"\n              value={treatmentData.dosis}\n              onChange={handleTreatmentChange}\n              className={`w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition ${treatmentData.manualDosis ? '' : 'bg-gray-50'}`}\n              readOnly={!treatmentData.manualDosis}\n            />\n            <div className=\"flex items-center mt-2\">\n              <input\n                type=\"checkbox\"\n                id=\"manualDosisTreatment\"\n                name=\"manualDosis\"\n                checked={treatmentData.manualDosis}\n                onChange={handleTreatmentChange}\n                className=\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"\n              />\n              <label htmlFor=\"manualDosisTreatment\" className=\"ml-2 text-sm text-gray-700\">Dosis Manual</label>\n            </div>\n            {!treatmentData.manualDosis && treatmentData.productId && treatmentData.animalId && (\n              <p className=\"text-xs text-gray-600 mt-1\">\n                {aiRecommendations(inventoryItems.find(item => item.id === treatmentData.productId)?.name || '', treatmentData.animalId).detailedRecommendation}\n              </p>\n            )}\n          </div>\n          <div>\n            <label htmlFor=\"fechaAplicacion\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Aplicación</label>\n            <input\n              type=\"date\"\n              id=\"fechaAplicacion\"\n              name=\"fechaAplicacion\"\n              value={treatmentData.fechaAplicacion}\n              onChange={handleTreatmentChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            />\n          </div>\n          <div className=\"md:col-span-2\">\n            <label htmlFor=\"observaciones\" className=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones</label>\n            <textarea\n              id=\"observaciones\"\n              name=\"observaciones\"\n              value={treatmentData.observaciones}\n              onChange={handleTreatmentChange}\n              rows=\"3\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n            ></textarea>\n          </div>\n          <div className=\"md:col-span-2\">\n            <button\n              type=\"submit\"\n              className=\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\"\n            >\n              Registrar Tratamiento General\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Secciones de Registros Específicos */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8\">\n        {/* Registro de Vacunación */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Registrar Vacunación</h2>\n          <form onSubmit={handleAddVaccination} className=\"grid grid-cols-1 gap-6\">\n            <div>\n              <label htmlFor=\"animalSearchVaccine\" className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Animal (ID o Nombre)</label>\n              <input\n                type=\"text\"\n                id=\"animalSearchVaccine\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                placeholder=\"Escribe ID o nombre del animal\"\n                value={animalSearchTerm}\n                onChange={handleAnimalSearchChange}\n              />\n              {animalSearchTerm && filteredAnimals.length > 0 && (\n                <ul className=\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\">\n                  {filteredAnimals.map(animal => (\n                    <li\n                      key={animal.id}\n                      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n                      onClick={() => handleSelectAnimal(animal.id, 'vaccination')}\n                    >\n                      {animal.name} ({animal.id})\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <label htmlFor=\"vaccineAnimalId\" className=\"block text-sm font-medium text-gray-700 mb-1 mt-3\">Animal Seleccionado</label>\n              <select\n                id=\"vaccineAnimalId\"\n                name=\"animalId\"\n                value={vaccinationData.animalId}\n                onChange={handleVaccinationChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona un animal</option>\n                {animals.map(animal => (\n                  <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"vaccineProductId\" className=\"block text-sm font-medium text-gray-700 mb-1\">Vacuna</label>\n              <select\n                id=\"vaccineProductId\"\n                name=\"productId\"\n                value={vaccinationData.productId}\n                onChange={handleVaccinationChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona una vacuna</option>\n                {inventoryItems.filter(item => item.category === 'vacunas').map(item => (\n                  <option key={item.id} value={item.id}>{item.name}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"vaccineDosis\" className=\"block text-sm font-medium text-gray-700 mb-1\">Dosis</label>\n              <input\n                type=\"text\"\n                id=\"vaccineDosis\"\n                name=\"dosis\"\n                value={vaccinationData.dosis}\n                onChange={handleVaccinationChange}\n                className={`w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition ${vaccinationData.manualDosis ? '' : 'bg-gray-50'}`}\n                readOnly={!vaccinationData.manualDosis}\n              />\n              <div className=\"flex items-center mt-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"manualDosisVaccine\"\n                  name=\"manualDosis\"\n                  checked={vaccinationData.manualDosis}\n                  onChange={handleVaccinationChange}\n                  className=\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"\n                />\n                <label htmlFor=\"manualDosisVaccine\" className=\"ml-2 text-sm text-gray-700\">Dosis Manual</label>\n              </div>\n              {!vaccinationData.manualDosis && vaccinationData.productId && vaccinationData.animalId && (\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {aiRecommendations(inventoryItems.find(item => item.id === vaccinationData.productId)?.name || '', vaccinationData.animalId).detailedRecommendation}\n                </p>\n              )}\n            </div>\n            <div>\n              <label htmlFor=\"vaccineFechaAplicacion\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Aplicación</label>\n              <input\n                type=\"date\"\n                id=\"vaccineFechaAplicacion\"\n                name=\"fechaAplicacion\"\n                value={vaccinationData.fechaAplicacion}\n                onChange={handleVaccinationChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              />\n            </div>\n            <div>\n              <label htmlFor=\"vaccineObservaciones\" className=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones</label>\n              <textarea\n                id=\"vaccineObservaciones\"\n                name=\"observaciones\"\n                value={vaccinationData.observaciones}\n                onChange={handleVaccinationChange}\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n              ></textarea>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\"\n            >\n              Registrar Vacunación\n            </button>\n          </form>\n        </div>\n\n        {/* Registro de Desparasitación */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Registrar Desparasitación</h2>\n          <form onSubmit={handleAddDeworming} className=\"grid grid-cols-1 gap-6\">\n            <div>\n              <label htmlFor=\"animalSearchDeworming\" className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Animal (ID o Nombre)</label>\n              <input\n                type=\"text\"\n                id=\"animalSearchDeworming\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                placeholder=\"Escribe ID o nombre del animal\"\n                value={animalSearchTerm}\n                onChange={handleAnimalSearchChange}\n              />\n              {animalSearchTerm && filteredAnimals.length > 0 && (\n                <ul className=\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\">\n                  {filteredAnimals.map(animal => (\n                    <li\n                      key={animal.id}\n                      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n                      onClick={() => handleSelectAnimal(animal.id, 'deworming')}\n                    >\n                      {animal.name} ({animal.id})\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <label htmlFor=\"dewormingAnimalId\" className=\"block text-sm font-medium text-gray-700 mb-1 mt-3\">Animal Seleccionado</label>\n              <select\n                id=\"dewormingAnimalId\"\n                name=\"animalId\"\n                value={dewormingData.animalId}\n                onChange={handleDewormingChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona un animal</option>\n                {animals.map(animal => (\n                  <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"dewormingProductId\" className=\"block text-sm font-medium text-gray-700 mb-1\">Desparasitante</label>\n              <select\n                id=\"dewormingProductId\"\n                name=\"productId\"\n                value={dewormingData.productId}\n                onChange={handleDewormingChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona un desparasitante</option>\n                {inventoryItems.filter(item => item.category === 'desparasitantes').map(item => (\n                  <option key={item.id} value={item.id}>{item.name}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"dewormingDosis\" className=\"block text-sm font-medium text-gray-700 mb-1\">Dosis</label>\n              <input\n                type=\"text\"\n                id=\"dewormingDosis\"\n                name=\"dosis\"\n                value={dewormingData.dosis}\n                onChange={handleDewormingChange}\n                className={`w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition ${dewormingData.manualDosis ? '' : 'bg-gray-50'}`}\n                readOnly={!dewormingData.manualDosis}\n              />\n              <div className=\"flex items-center mt-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"manualDosisDeworming\"\n                  name=\"manualDosis\"\n                  checked={dewormingData.manualDosis}\n                  onChange={handleDewormingChange}\n                  className=\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"\n                />\n                <label htmlFor=\"manualDosisDeworming\" className=\"ml-2 text-sm text-gray-700\">Dosis Manual</label>\n              </div>\n              {!dewormingData.manualDosis && dewormingData.productId && dewormingData.animalId && (\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {aiRecommendations(inventoryItems.find(item => item.id === dewormingData.productId)?.name || '', dewormingData.animalId).detailedRecommendation}\n                </p>\n              )}\n            </div>\n            <div>\n              <label htmlFor=\"dewormingFechaAplicacion\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Aplicación</label>\n              <input\n                type=\"date\"\n                id=\"dewormingFechaAplicacion\"\n                name=\"fechaAplicacion\"\n                value={dewormingData.fechaAplicacion}\n                onChange={handleDewormingChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              />\n            </div>\n            <div>\n              <label htmlFor=\"dewormingObservaciones\" className=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones</label>\n              <textarea\n                id=\"dewormingObservaciones\"\n                name=\"observaciones\"\n                value={dewormingData.observaciones}\n                onChange={handleDewormingChange}\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n              ></textarea>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\"\n            >\n              Registrar Desparasitación\n            </button>\n          </form>\n        </div>\n\n        {/* Registro de Vitaminas */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Registrar Vitaminas</h2>\n          <form onSubmit={handleAddVitamin} className=\"grid grid-cols-1 gap-6\">\n            <div>\n              <label htmlFor=\"animalSearchVitamin\" className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Animal (ID o Nombre)</label>\n              <input\n                type=\"text\"\n                id=\"animalSearchVitamin\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                placeholder=\"Escribe ID o nombre del animal\"\n                value={animalSearchTerm}\n                onChange={handleAnimalSearchChange}\n              />\n              {animalSearchTerm && filteredAnimals.length > 0 && (\n                <ul className=\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\">\n                  {filteredAnimals.map(animal => (\n                    <li\n                      key={animal.id}\n                      className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n                      onClick={() => handleSelectAnimal(animal.id, 'vitamin')}\n                    >\n                      {animal.name} ({animal.id})\n                    </li>\n                  ))}\n                </ul>\n              )}\n              <label htmlFor=\"vitaminAnimalId\" className=\"block text-sm font-medium text-gray-700 mb-1 mt-3\">Animal Seleccionado</label>\n              <select\n                id=\"vitaminAnimalId\"\n                name=\"animalId\"\n                value={vitaminData.animalId}\n                onChange={handleVitaminChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona un animal</option>\n                {animals.map(animal => (\n                  <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"vitaminProductId\" className=\"block text-sm font-medium text-gray-700 mb-1\">Vitamina</label>\n              <select\n                id=\"vitaminProductId\"\n                name=\"productId\"\n                value={vitaminData.productId}\n                onChange={handleVitaminChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              >\n                <option value=\"\">Selecciona una vitamina</option>\n                {inventoryItems.filter(item => item.category === 'vitaminas').map(item => (\n                  <option key={item.id} value={item.id}>{item.name}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label htmlFor=\"vitaminDosis\" className=\"block text-sm font-medium text-gray-700 mb-1\">Dosis</label>\n              <input\n                type=\"text\"\n                id=\"vitaminDosis\"\n                name=\"dosis\"\n                value={vitaminData.dosis}\n                onChange={handleVitaminChange}\n                className={`w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition ${vitaminData.manualDosis ? '' : 'bg-gray-50'}`}\n                readOnly={!vitaminData.manualDosis}\n              />\n              <div className=\"flex items-center mt-2\">\n                <input\n                  type=\"checkbox\"\n                  id=\"manualDosisVitamin\"\n                  name=\"manualDosis\"\n                  checked={vitaminData.manualDosis}\n                  onChange={handleVitaminChange}\n                  className=\"h-4 w-4 text-black border-gray-300 rounded focus:ring-black\"\n                />\n                <label htmlFor=\"manualDosisVitamin\" className=\"ml-2 text-sm text-gray-700\">Dosis Manual</label>\n              </div>\n              {!vitaminData.manualDosis && vitaminData.productId && vitaminData.animalId && (\n                <p className=\"text-xs text-gray-600 mt-1\">\n                  {aiRecommendations(inventoryItems.find(item => item.id === vitaminData.productId)?.name || '', vitaminData.animalId).detailedRecommendation}\n                </p>\n              )}\n            </div>\n            <div>\n              <label htmlFor=\"vitaminFechaAplicacion\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Aplicación</label>\n              <input\n                type=\"date\"\n                id=\"vitaminFechaAplicacion\"\n                name=\"fechaAplicacion\"\n                value={vitaminData.fechaAplicacion}\n                onChange={handleVitaminChange}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n                required\n              />\n            </div>\n            <div>\n              <label htmlFor=\"vitaminObservaciones\" className=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones</label>\n              <textarea\n                id=\"vitaminObservaciones\"\n                name=\"observaciones\"\n                value={vitaminData.observaciones}\n                onChange={handleVitaminChange}\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n              ></textarea>\n            </div>\n            <button\n              type=\"submit\"\n              className=\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\"\n            >\n              Registrar Vitaminas\n            </button>\n          </form>\n        </div>\n      </div>\n\n      {/* Sección de Historial de Tratamientos */}\n      <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n        <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Historial de Tratamientos</h2>\n        {treatmentsHistory.length === 0 ? (\n          <p className=\"text-gray-500 text-center\">No hay tratamientos registrados aún.</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Animal</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Dosis</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Fecha</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Tipo</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Observaciones</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {treatmentsHistory.map(treatment => (\n                  <tr key={treatment.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getAnimalName(treatment.animalId)}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getProductName(treatment.productId)}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{treatment.dosis}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{treatment.fechaAplicacion}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{treatment.type || 'General'}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{treatment.observaciones}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button\n                        onClick={() => handleDeleteTreatment(treatment.id)}\n                        className=\"text-red-600 hover:text-red-900 transition-colors\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Sección de Registro de Enfermedad */}\n      <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n        <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Registrar Enfermedad</h2>\n        <form onSubmit={handleAddDisease} className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label htmlFor=\"animalSearchDisease\" className=\"block text-sm font-medium text-gray-700 mb-1\">Buscar Animal (ID o Nombre)</label>\n            <input\n              type=\"text\"\n              id=\"animalSearchDisease\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              placeholder=\"Escribe ID o nombre del animal\"\n              value={animalSearchTerm}\n              onChange={handleAnimalSearchChange}\n            />\n            {animalSearchTerm && filteredAnimals.length > 0 && (\n              <ul className=\"absolute z-10 bg-white border border-gray-300 w-full rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto\">\n                {filteredAnimals.map(animal => (\n                  <li\n                    key={animal.id}\n                    className=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n                    onClick={() => handleSelectAnimal(animal.id, 'disease')}\n                  >\n                    {animal.name} ({animal.id})\n                  </li>\n                ))}\n              </ul>\n            )}\n            <label htmlFor=\"diseaseAnimalId\" className=\"block text-sm font-medium text-gray-700 mb-1 mt-3\">Animal Seleccionado</label>\n            <select\n              id=\"diseaseAnimalId\"\n              name=\"animalId\"\n              value={diseaseData.animalId}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            >\n              <option value=\"\">Selecciona un animal</option>\n              {animals.map(animal => (\n                <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"diseaseName\" className=\"block text-sm font-medium text-gray-700 mb-1\">Nombre de la Enfermedad</label>\n            <input\n              type=\"text\"\n              id=\"diseaseName\"\n              name=\"diseaseName\"\n              value={diseaseData.diseaseName}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            />\n          </div>\n          <div className=\"md:col-span-2\">\n            <label htmlFor=\"symptoms\" className=\"block text-sm font-medium text-gray-700 mb-1\">Síntomas</label>\n            <textarea\n              id=\"symptoms\"\n              name=\"symptoms\"\n              value={diseaseData.symptoms}\n              onChange={handleDiseaseChange}\n              rows=\"3\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n            ></textarea>\n          </div>\n          <div>\n            <label htmlFor=\"diagnosisDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Diagnóstico</label>\n            <input\n              type=\"date\"\n              id=\"diagnosisDate\"\n              name=\"diagnosisDate\"\n              value={diseaseData.diagnosisDate}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n              required\n            />\n          </div>\n          <div>\n            <label htmlFor=\"treatmentProductId\" className=\"block text-sm font-medium text-gray-700 mb-1\">Medicamento para Tratamiento</label>\n            <select\n              id=\"treatmentProductId\"\n              name=\"treatmentProductId\"\n              value={diseaseData.treatmentProductId}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n            >\n              <option value=\"\">Selecciona un producto</option>\n              {inventoryItems.map(item => (\n                <option key={item.id} value={item.id}>{item.name}</option>\n              ))}\n            </select>\n          </div>\n          <div>\n            <label htmlFor=\"treatmentDosis\" className=\"block text-sm font-medium text-gray-700 mb-1\">Dosis del Tratamiento</label>\n            <input\n              type=\"text\"\n              id=\"treatmentDosis\"\n              name=\"treatmentDosis\"\n              value={diseaseData.treatmentDosis}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"treatmentStartDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">Inicio Tratamiento</label>\n            <input\n              type=\"date\"\n              id=\"treatmentStartDate\"\n              name=\"treatmentStartDate\"\n              value={diseaseData.treatmentStartDate}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"treatmentEndDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fin Tratamiento</label>\n            <input\n              type=\"date\"\n              id=\"treatmentEndDate\"\n              name=\"treatmentEndDate\"\n              value={diseaseData.treatmentEndDate}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"recoveryDate\" className=\"block text-sm font-medium text-gray-700 mb-1\">Fecha de Recuperación</label>\n            <input\n              type=\"date\"\n              id=\"recoveryDate\"\n              name=\"recoveryDate\"\n              value={diseaseData.recoveryDate}\n              onChange={handleDiseaseChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition\"\n            />\n          </div>\n          <div className=\"md:col-span-2\">\n            <label htmlFor=\"diseaseObservations\" className=\"block text-sm font-medium text-gray-700 mb-1\">Observaciones de la Enfermedad</label>\n            <textarea\n              id=\"diseaseObservations\"\n              name=\"diseaseObservations\"\n              value={diseaseData.diseaseObservations}\n              onChange={handleDiseaseChange}\n              rows=\"3\"\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-black transition resize-none\"\n            ></textarea>\n          </div>\n          <div className=\"md:col-span-2\">\n            <button\n              type=\"submit\"\n              className=\"w-full bg-black text-white py-3 rounded-lg hover:bg-gray-800 transition-colors font-semibold\"\n            >\n              Registrar Enfermedad\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Sección de Historial de Enfermedades */}\n      <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n        <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Historial de Enfermedades</h2>\n        {diseasesHistory.length === 0 ? (\n          <p className=\"text-gray-500 text-center\">No hay enfermedades registradas aún.</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Animal</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Enfermedad</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Diagnóstico</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Recuperación</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {diseasesHistory.map(disease => (\n                  <tr key={disease.id}>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getAnimalName(disease.animalId)}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{disease.diseaseName}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{disease.diagnosisDate}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{disease.recoveryDate || 'N/A'}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button\n                        onClick={() => handleDeleteDisease(disease.id)}\n                        className=\"text-red-600 hover:text-red-900 transition-colors\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Secciones de Calendarios */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n        {/* Calendario de Vacunación */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Calendario de Vacunación</h2>\n          {vaccinationSchedule.length === 0 ? (\n            <p className=\"text-gray-500 text-center\">No hay vacunas programadas.</p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Animal</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Vacuna</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Próxima Fecha</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {vaccinationSchedule.map(item => (\n                    <tr key={item.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getAnimalName(item.animalId)}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.productName}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.nextApplication}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Calendario de Desparasitación */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Calendario de Desparasitación</h2>\n          {dewormingSchedule.length === 0 ? (\n            <p className=\"text-gray-500 text-center\">No hay desparasitaciones programadas.</p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Animal</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Próxima Fecha</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {dewormingSchedule.map(item => (\n                    <tr key={item.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getAnimalName(item.animalId)}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.productName}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.nextApplication}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Calendario de Vitaminas */}\n        <div className=\"bg-white p-6 rounded-xl shadow-lg\">\n          <h2 className=\"text-2xl font-semibold text-gray-700 mb-6\">Calendario de Vitaminas</h2>\n          {vitaminSchedule.length === 0 ? (\n            <p className=\"text-gray-500 text-center\">No hay vitaminas programadas.</p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Animal</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Producto</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Próxima Fecha</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-200\">\n                  {vitaminSchedule.map(item => (\n                    <tr key={item.id}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{getAnimalName(item.animalId)}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.productName}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{item.nextApplication}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SanitaryControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}