{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\project (10)\\\\src\\\\components\\\\ReproductiveControlPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReproductiveControlPage = ({\n  animals,\n  onUpdateAnimalProduction,\n  onRegisterAnimal,\n  onRegisterReproductiveEvent,\n  onDeletePregnantCow,\n  reproductiveRecords,\n  setReproductiveRecords,\n  currentUser,\n  logoUrl\n}) => {\n  _s();\n  const [reproductiveData, setReproductiveData] = useState({\n    animalId: '',\n    eventType: '',\n    // 'diagnostico_prenez', 'parto', 'inseminacion', 'celo', 'monta_natural'\n    eventDate: '',\n    details: '',\n    semenId: '',\n    // Para inseminacion\n    semenProvider: '',\n    // Para inseminacion\n    machoId: '',\n    // Para monta_natural\n    calfId: '',\n    // Para parto\n    calfSex: '',\n    // Para parto\n    calfWeight: '',\n    // Para parto\n    calfObservations: '',\n    // Para parto\n    diagnosisResult: '',\n    // 'preñada', 'vacia'\n    expectedCalvingDate: '' // Para diagnostico_prenez (fecha confirmada por veterinario)\n  });\n  const [filterAnimalId, setFilterAnimalId] = useState('');\n  const [filterEventType, setFilterEventType] = useState('');\n\n  // Estado para el calendario de partos\n  const [calvingSchedule, setCalvingSchedule] = useState([]);\n  // Nuevo estado para el historial de montas naturales\n  const [naturalMatingHistory, setNaturalMatingHistory] = useState([]);\n\n  // Cargar y guardar datos del calendario de partos y montas naturales en localStorage\n  useEffect(() => {\n    const storedCalvingSchedule = JSON.parse(localStorage.getItem('calvingSchedule')) || [];\n    setCalvingSchedule(storedCalvingSchedule);\n    const storedNaturalMatingHistory = JSON.parse(localStorage.getItem('naturalMatingHistory')) || [];\n    setNaturalMatingHistory(storedNaturalMatingHistory);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('calvingSchedule', JSON.stringify(calvingSchedule));\n  }, [calvingSchedule]);\n  useEffect(() => {\n    localStorage.setItem('naturalMatingHistory', JSON.stringify(naturalMatingHistory));\n  }, [naturalMatingHistory]);\n\n  // Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\n  // Esta función ahora es más una guía, la fecha final la da el veterinario en el diagnóstico\n  const calculateEstimatedCalvingDate = eventDate => {\n    if (!eventDate) return '';\n    const date = new Date(eventDate);\n    date.setDate(date.getDate() + 283); // Gestación promedio de bovinos\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejador de cambios en el formulario\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setReproductiveData(prev => {\n      const newData = {\n        ...prev,\n        [name]: value\n      };\n      // Si el evento es diagnóstico de preñez y se ingresa la fecha probable de parto, usar esa\n      if (name === 'expectedCalvingDate' && newData.eventType === 'diagnostico_prenez' && newData.diagnosisResult === 'preñada') {\n        // No recalcular, usar el valor ingresado por el usuario\n      } else if (name === 'eventDate' && (newData.eventType === 'inseminacion' || newData.eventType === 'monta_natural')) {\n        // Estimar fecha de parto para inseminación o monta natural\n        newData.expectedCalvingDate = calculateEstimatedCalvingDate(value);\n      }\n      return newData;\n    });\n  };\n\n  // Manejador para el envío del formulario\n  const handleSubmit = async () => {\n    const {\n      animalId,\n      eventType,\n      eventDate,\n      diagnosisResult,\n      expectedCalvingDate,\n      calfId,\n      calfSex,\n      calfWeight,\n      calfObservations\n    } = reproductiveData;\n    if (!animalId || !eventType || !eventDate) {\n      alert('Por favor, completa los campos obligatorios.');\n      return;\n    }\n    const newRecord = {\n      id: `REP-${Date.now().toString().slice(-5)}`,\n      animalId,\n      eventType,\n      eventDate,\n      details: reproductiveData.details,\n      semenId: reproductiveData.semenId,\n      semenProvider: reproductiveData.semenProvider,\n      machoId: reproductiveData.machoId,\n      diagnosisResult: reproductiveData.diagnosisResult,\n      expectedCalvingDate: reproductiveData.expectedCalvingDate,\n      calfId: reproductiveData.calfId,\n      calfSex: reproductiveData.calfSex,\n      calfWeight: reproductiveData.calfWeight,\n      calfObservations: reproductiveData.calfObservations\n    };\n    onRegisterReproductiveEvent(newRecord);\n    alert(`Evento reproductivo de ${eventType} registrado para ${animalId}.`);\n\n    // Lógica específica para cada tipo de evento\n    if (eventType === 'diagnostico_prenez' && diagnosisResult === 'preñada') {\n      // Actualizar estado reproductivo del animal a 'preñada'\n      // Calcular días restantes para determinar si entra en seca\n      const today = new Date();\n      const calvingDate = new Date(expectedCalvingDate);\n      const daysRemaining = Math.ceil((calvingDate - today) / (1000 * 60 * 60 * 24));\n      let newReproductiveState = 'preñada';\n      if (daysRemaining <= 100) {\n        // Si quedan 100 días o menos, entra en seca\n        newReproductiveState = 'seca';\n      }\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: newReproductiveState,\n        fechaUltimaGestacion: eventDate\n      });\n\n      // Añadir al calendario de partos\n      setCalvingSchedule(prev => [...prev, {\n        animalId,\n        diagnosisDate: eventDate,\n        expectedCalvingDate,\n        id: newRecord.id\n      }]);\n      alert(`Animal ${animalId} marcado como ${newReproductiveState}. Fecha probable de parto: ${expectedCalvingDate}`);\n    } else if (eventType === 'parto') {\n      // Actualizar estado reproductivo del animal a 'en_produccion'\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'en_produccion',\n        fechaUltimaGestacion: eventDate\n      });\n      // Eliminar del calendario de partos\n      setCalvingSchedule(prev => prev.filter(item => item.animalId !== animalId));\n      alert(`Parto registrado para ${animalId}. Animal ahora en producción.`);\n\n      // Registrar ternero si se proporciona ID\n      if (calfId && calfSex && calfWeight) {\n        var _animals$find, _animals$find2;\n        const newCalf = {\n          id: calfId,\n          name: `Ternero de ${animalId}`,\n          raza: ((_animals$find = animals.find(a => a.id === animalId)) === null || _animals$find === void 0 ? void 0 : _animals$find.raza) || 'Desconocida',\n          peso: calfWeight,\n          sexo: calfSex,\n          fechaNacimiento: eventDate,\n          fechaCompra: eventDate,\n          // Se considera fecha de \"compra\" como nacimiento\n          tipoProduccion: 'carne',\n          // Por defecto para terneros\n          dailyMilk: 0,\n          idpadre: ((_animals$find2 = animals.find(a => a.id === animalId)) === null || _animals$find2 === void 0 ? void 0 : _animals$find2.idpadre) || '',\n          // Asumiendo que la madre es la que parió\n          idmadre: animalId,\n          estadoReproductivo: 'desarrollo'\n        };\n        onRegisterAnimal(newCalf);\n        alert(`Ternero ${calfId} registrado.`);\n      }\n    } else if (eventType === 'inseminacion') {\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'inseminada',\n        fechaUltimaInseminacion: eventDate\n      });\n    } else if (eventType === 'monta_natural') {\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'monta_natural',\n        fechaUltimaMonta: eventDate\n      });\n      setNaturalMatingHistory(prev => [...prev, {\n        id: newRecord.id,\n        animalId: newRecord.animalId,\n        machoId: newRecord.machoId,\n        eventDate: newRecord.eventDate,\n        details: newRecord.details\n      }]);\n    } else if (eventType === 'celo') {\n      onUpdateAnimalProduction(animalId, {\n        estadoReproductivo: 'en_celo',\n        fechaUltimoCelo: eventDate\n      });\n    }\n\n    // Limpiar formulario\n    setReproductiveData({\n      animalId: '',\n      eventType: '',\n      eventDate: '',\n      details: '',\n      semenId: '',\n      semenProvider: '',\n      machoId: '',\n      calfId: '',\n      calfSex: '',\n      calfWeight: '',\n      calfObservations: '',\n      diagnosisResult: '',\n      expectedCalvingDate: ''\n    });\n  };\n\n  // Filtrar registros reproductivos\n  const filteredRecords = reproductiveRecords.filter(record => {\n    const matchesAnimal = filterAnimalId === '' || record.animalId === filterAnimalId;\n    const matchesEventType = filterEventType === '' || record.eventType === filterEventType;\n    return matchesAnimal && matchesEventType;\n  });\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = animalId => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  // Función para generar PDF del calendario de partos\n  const handleGenerateCalvingSchedulePDF = useCallback(() => {\n    if (calvingSchedule.length === 0) {\n      alert('No hay partos programados para generar el PDF.');\n      return;\n    }\n    const farmName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.farmName) || 'Mi Finca Ganadera';\n    const adminName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || 'Administrador';\n    const defaultLogo = 'https://via.placeholder.com/60x60?text=LOGO';\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm';\n    tempDiv.style.padding = '15mm';\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n    let tableRows = calvingSchedule.map(item => {\n      const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n      const isOverdue = daysRemaining < 0;\n      const daysText = isOverdue ? `VENCIDO (${Math.abs(daysRemaining)} días)` : `${daysRemaining} días`;\n      const daysColor = isOverdue ? 'text-red-600' : 'text-gray-900'; // Color para los días restantes\n\n      return `\n        <tr style=\"border-bottom: 1px solid #eee;\">\n          <td style=\"padding: 8px 12px;\">${getAnimalName(item.animalId)} (${item.animalId})</td>\n          <td style=\"padding: 8px 12px;\">${item.diagnosisDate}</td>\n          <td style=\"padding: 8px 12px;\">${item.expectedCalvingDate}</td>\n          <td style=\"padding: 8px 12px;\"><span style=\"font-weight: bold; color: ${daysColor};\">${daysText}</span></td>\n        </tr>\n      `;\n    }).join('');\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoUrl || defaultLogo}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Calendario de Partos</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Próximos Partos Programados</h3>\n          <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\">\n            <thead style=\"background-color: #f0f0f0;\">\n              <tr>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Animal</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Diagnóstico Preñez</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Probable de Parto</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tableRows}\n            </tbody>\n          </table>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n    document.body.appendChild(tempDiv);\n    html2canvas(tempDiv, {\n      scale: 2,\n      useCORS: true\n    }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n      while (heightLeft > 0) {\n        position = heightLeft - pageHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n      pdf.save(`calendario_partos_${new Date().toISOString().split('T')[0]}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  }, [calvingSchedule, currentUser, logoUrl, animals]); // Dependencias para useCallback\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Control Reproductivo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Registrar Evento Reproductivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"animalId\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.animalId,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Animal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), animals.map(animal => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: animal.id,\n            children: [animal.name, \" (\", animal.id, \")\"]\n          }, animal.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"eventType\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.eventType,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona Tipo de Evento\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"diagnostico_prenez\",\n            children: \"Diagn\\xF3stico de Pre\\xF1ez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"parto\",\n            children: \"Parto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inseminacion\",\n            children: \"Inseminaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"celo\",\n            children: \"Celo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"monta_natural\",\n            children: \"Monta Natural\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"eventDate\",\n          placeholder: \"Fecha del Evento\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.eventDate,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), reproductiveData.eventType === 'diagnostico_prenez' && /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"diagnosisResult\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.diagnosisResult,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Resultado del Diagn\\xF3stico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pre\\xF1ada\",\n            children: \"Pre\\xF1ada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"vacia\",\n            children: \"Vac\\xEDa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), reproductiveData.eventType === 'diagnostico_prenez' && reproductiveData.diagnosisResult === 'preñada' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"expectedCalvingDate\",\n          placeholder: \"Fecha Probable de Parto (Confirmada)\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.expectedCalvingDate,\n          onChange: handleInputChange,\n          required: true // Hacerlo requerido si se confirma preñez\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), reproductiveData.eventType === 'monta_natural' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"machoId\",\n          placeholder: \"ID del Macho (Monta Natural)\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n          value: reproductiveData.machoId,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this), reproductiveData.eventType === 'inseminacion' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"semenId\",\n            placeholder: \"ID de Semen\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.semenId,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"semenProvider\",\n            placeholder: \"Proveedor de Semen\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.semenProvider,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), reproductiveData.eventType === 'parto' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"calfId\",\n            placeholder: \"ID del Ternero (si aplica)\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfId,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"calfSex\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfSex,\n            onChange: handleInputChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Sexo del Ternero\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"macho\",\n              children: \"Macho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"hembra\",\n              children: \"Hembra\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"calfWeight\",\n            placeholder: \"Peso del Ternero (kg)\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n            value: reproductiveData.calfWeight,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"calfObservations\",\n            placeholder: \"Observaciones del Ternero\",\n            rows: \"2\",\n            className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\",\n            value: reproductiveData.calfObservations,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"details\",\n          placeholder: \"Detalles adicionales del evento\",\n          rows: \"2\",\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\",\n          value: reproductiveData.details,\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n        children: \"Registrar Evento\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Historial de Eventos Reproductivos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Filtrar por ID Animal\",\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: filterAnimalId,\n          onChange: e => setFilterAnimalId(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"w-full px-4 py-2 border rounded-lg\",\n          value: filterEventType,\n          onChange: e => setFilterEventType(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Todos los Eventos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"diagnostico_prenez\",\n            children: \"Diagn\\xF3stico de Pre\\xF1ez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"parto\",\n            children: \"Parto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"inseminacion\",\n            children: \"Inseminaci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"celo\",\n            children: \"Celo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"monta_natural\",\n            children: \"Monta Natural\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"ID Animal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Tipo de Evento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Detalles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: [getAnimalName(record.animalId), \" (\", record.animalId, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.eventType ? record.eventType.replace(/_/g, ' ') : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.eventDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.details || record.diagnosisResult || record.calfId || record.semenId || record.machoId || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setReproductiveRecords(reproductiveRecords.filter(r => r.id !== record.id)),\n                  className: \"text-red-600 hover:underline\",\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)]\n            }, record.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Historial de Montas Naturales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), naturalMatingHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-center\",\n        children: \"No hay montas naturales registradas a\\xFAn.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"ID Hembra\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"ID Macho\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha de Monta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Detalles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: naturalMatingHistory.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: [getAnimalName(record.animalId), \" (\", record.animalId, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: [getAnimalName(record.machoId), \" (\", record.machoId, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.eventDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: record.details || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-2 px-4 border\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setNaturalMatingHistory(naturalMatingHistory.filter(r => r.id !== record.id)),\n                  className: \"text-red-600 hover:underline\",\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this)]\n            }, record.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8 p-4 border rounded-lg bg-blue-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Calendario de Partos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGenerateCalvingSchedulePDF,\n        className: \"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",\n        children: \"Descargar Calendario PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white border\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"bg-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Animal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Diagn\\xF3stico Pre\\xF1ez\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Fecha Probable de Parto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"D\\xEDas Restantes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-2 px-4 border\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: calvingSchedule.map(item => {\n              const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n              const isOverdue = daysRemaining < 0;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: `hover:bg-gray-50 ${isOverdue ? 'bg-red-100' : ''}`,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: [getAnimalName(item.animalId), \" (\", item.animalId, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: item.diagnosisDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: item.expectedCalvingDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: isOverdue ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-bold text-red-600\",\n                    children: [\"VENCIDO (\", Math.abs(daysRemaining), \" d\\xEDas)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 36\n                  }, this) : `${daysRemaining} días`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4 border\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onDeletePregnantCow(item.animalId),\n                    className: \"text-orange-600 hover:underline\",\n                    children: \"Marcar Parto\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n};\n_s(ReproductiveControlPage, \"4OmUOg0WH7uQG5DnOZNPK5zMiGo=\");\n_c = ReproductiveControlPage;\nexport default ReproductiveControlPage;\nvar _c;\n$RefreshReg$(_c, \"ReproductiveControlPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsPDF","html2canvas","jsxDEV","_jsxDEV","Fragment","_Fragment","ReproductiveControlPage","animals","onUpdateAnimalProduction","onRegisterAnimal","onRegisterReproductiveEvent","onDeletePregnantCow","reproductiveRecords","setReproductiveRecords","currentUser","logoUrl","_s","reproductiveData","setReproductiveData","animalId","eventType","eventDate","details","semenId","semenProvider","machoId","calfId","calfSex","calfWeight","calfObservations","diagnosisResult","expectedCalvingDate","filterAnimalId","setFilterAnimalId","filterEventType","setFilterEventType","calvingSchedule","setCalvingSchedule","naturalMatingHistory","setNaturalMatingHistory","storedCalvingSchedule","JSON","parse","localStorage","getItem","storedNaturalMatingHistory","setItem","stringify","calculateEstimatedCalvingDate","date","Date","setDate","getDate","toISOString","split","handleInputChange","e","name","value","target","prev","newData","handleSubmit","alert","newRecord","id","now","toString","slice","today","calvingDate","daysRemaining","Math","ceil","newReproductiveState","estadoReproductivo","fechaUltimaGestacion","diagnosisDate","filter","item","_animals$find","_animals$find2","newCalf","raza","find","a","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","dailyMilk","idpadre","idmadre","fechaUltimaInseminacion","fechaUltimaMonta","fechaUltimoCelo","filteredRecords","record","matchesAnimal","matchesEventType","getAnimalName","animal","handleGenerateCalvingSchedulePDF","length","farmName","adminName","fullName","defaultLogo","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","tableRows","map","isOverdue","daysText","abs","daysColor","join","innerHTML","toLocaleDateString","body","appendChild","scale","useCORS","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","placeholder","required","rows","onClick","replace","r","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ReproductiveControlPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst ReproductiveControlPage = ({ animals, onUpdateAnimalProduction, onRegisterAnimal, onRegisterReproductiveEvent, onDeletePregnantCow, reproductiveRecords, setReproductiveRecords, currentUser, logoUrl }) => {\n  const [reproductiveData, setReproductiveData] = useState({\n    animalId: '',\n    eventType: '', // 'diagnostico_prenez', 'parto', 'inseminacion', 'celo', 'monta_natural'\n    eventDate: '',\n    details: '',\n    semenId: '', // Para inseminacion\n    semenProvider: '', // Para inseminacion\n    machoId: '', // Para monta_natural\n    calfId: '', // Para parto\n    calfSex: '', // Para parto\n    calfWeight: '', // Para parto\n    calfObservations: '', // Para parto\n    diagnosisResult: '', // 'preñada', 'vacia'\n    expectedCalvingDate: '', // Para diagnostico_prenez (fecha confirmada por veterinario)\n  });\n\n  const [filterAnimalId, setFilterAnimalId] = useState('');\n  const [filterEventType, setFilterEventType] = useState('');\n\n  // Estado para el calendario de partos\n  const [calvingSchedule, setCalvingSchedule] = useState([]);\n  // Nuevo estado para el historial de montas naturales\n  const [naturalMatingHistory, setNaturalMatingHistory] = useState([]);\n\n  // Cargar y guardar datos del calendario de partos y montas naturales en localStorage\n  useEffect(() => {\n    const storedCalvingSchedule = JSON.parse(localStorage.getItem('calvingSchedule')) || [];\n    setCalvingSchedule(storedCalvingSchedule);\n    const storedNaturalMatingHistory = JSON.parse(localStorage.getItem('naturalMatingHistory')) || [];\n    setNaturalMatingHistory(storedNaturalMatingHistory);\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('calvingSchedule', JSON.stringify(calvingSchedule));\n  }, [calvingSchedule]);\n\n  useEffect(() => {\n    localStorage.setItem('naturalMatingHistory', JSON.stringify(naturalMatingHistory));\n  }, [naturalMatingHistory]);\n\n  // Función para calcular la fecha probable de parto (283 días después de la inseminación/diagnóstico)\n  // Esta función ahora es más una guía, la fecha final la da el veterinario en el diagnóstico\n  const calculateEstimatedCalvingDate = (eventDate) => {\n    if (!eventDate) return '';\n    const date = new Date(eventDate);\n    date.setDate(date.getDate() + 283); // Gestación promedio de bovinos\n    return date.toISOString().split('T')[0];\n  };\n\n  // Manejador de cambios en el formulario\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setReproductiveData(prev => {\n      const newData = { ...prev, [name]: value };\n      // Si el evento es diagnóstico de preñez y se ingresa la fecha probable de parto, usar esa\n      if (name === 'expectedCalvingDate' && newData.eventType === 'diagnostico_prenez' && newData.diagnosisResult === 'preñada') {\n        // No recalcular, usar el valor ingresado por el usuario\n      } else if (name === 'eventDate' && (newData.eventType === 'inseminacion' || newData.eventType === 'monta_natural')) {\n        // Estimar fecha de parto para inseminación o monta natural\n        newData.expectedCalvingDate = calculateEstimatedCalvingDate(value);\n      }\n      return newData;\n    });\n  };\n\n  // Manejador para el envío del formulario\n  const handleSubmit = async () => {\n    const { animalId, eventType, eventDate, diagnosisResult, expectedCalvingDate, calfId, calfSex, calfWeight, calfObservations } = reproductiveData;\n\n    if (!animalId || !eventType || !eventDate) {\n      alert('Por favor, completa los campos obligatorios.');\n      return;\n    }\n\n    const newRecord = {\n      id: `REP-${Date.now().toString().slice(-5)}`,\n      animalId,\n      eventType,\n      eventDate,\n      details: reproductiveData.details,\n      semenId: reproductiveData.semenId,\n      semenProvider: reproductiveData.semenProvider,\n      machoId: reproductiveData.machoId,\n      diagnosisResult: reproductiveData.diagnosisResult,\n      expectedCalvingDate: reproductiveData.expectedCalvingDate,\n      calfId: reproductiveData.calfId,\n      calfSex: reproductiveData.calfSex,\n      calfWeight: reproductiveData.calfWeight,\n      calfObservations: reproductiveData.calfObservations,\n    };\n\n    onRegisterReproductiveEvent(newRecord);\n    alert(`Evento reproductivo de ${eventType} registrado para ${animalId}.`);\n\n    // Lógica específica para cada tipo de evento\n    if (eventType === 'diagnostico_prenez' && diagnosisResult === 'preñada') {\n      // Actualizar estado reproductivo del animal a 'preñada'\n      // Calcular días restantes para determinar si entra en seca\n      const today = new Date();\n      const calvingDate = new Date(expectedCalvingDate);\n      const daysRemaining = Math.ceil((calvingDate - today) / (1000 * 60 * 60 * 24));\n\n      let newReproductiveState = 'preñada';\n      if (daysRemaining <= 100) { // Si quedan 100 días o menos, entra en seca\n        newReproductiveState = 'seca';\n      }\n      \n      onUpdateAnimalProduction(animalId, { estadoReproductivo: newReproductiveState, fechaUltimaGestacion: eventDate });\n      \n      // Añadir al calendario de partos\n      setCalvingSchedule(prev => [...prev, {\n        animalId,\n        diagnosisDate: eventDate,\n        expectedCalvingDate,\n        id: newRecord.id,\n      }]);\n      alert(`Animal ${animalId} marcado como ${newReproductiveState}. Fecha probable de parto: ${expectedCalvingDate}`);\n    } else if (eventType === 'parto') {\n      // Actualizar estado reproductivo del animal a 'en_produccion'\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_produccion', fechaUltimaGestacion: eventDate });\n      // Eliminar del calendario de partos\n      setCalvingSchedule(prev => prev.filter(item => item.animalId !== animalId));\n      alert(`Parto registrado para ${animalId}. Animal ahora en producción.`);\n\n      // Registrar ternero si se proporciona ID\n      if (calfId && calfSex && calfWeight) {\n        const newCalf = {\n          id: calfId,\n          name: `Ternero de ${animalId}`,\n          raza: animals.find(a => a.id === animalId)?.raza || 'Desconocida',\n          peso: calfWeight,\n          sexo: calfSex,\n          fechaNacimiento: eventDate,\n          fechaCompra: eventDate, // Se considera fecha de \"compra\" como nacimiento\n          tipoProduccion: 'carne', // Por defecto para terneros\n          dailyMilk: 0,\n          idpadre: animals.find(a => a.id === animalId)?.idpadre || '', // Asumiendo que la madre es la que parió\n          idmadre: animalId,\n          estadoReproductivo: 'desarrollo',\n        };\n        onRegisterAnimal(newCalf);\n        alert(`Ternero ${calfId} registrado.`);\n      }\n    } else if (eventType === 'inseminacion') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'inseminada', fechaUltimaInseminacion: eventDate });\n    } else if (eventType === 'monta_natural') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'monta_natural', fechaUltimaMonta: eventDate });\n      setNaturalMatingHistory(prev => [...prev, {\n        id: newRecord.id,\n        animalId: newRecord.animalId,\n        machoId: newRecord.machoId,\n        eventDate: newRecord.eventDate,\n        details: newRecord.details,\n      }]);\n    } else if (eventType === 'celo') {\n      onUpdateAnimalProduction(animalId, { estadoReproductivo: 'en_celo', fechaUltimoCelo: eventDate });\n    }\n\n    // Limpiar formulario\n    setReproductiveData({\n      animalId: '', eventType: '', eventDate: '', details: '', semenId: '', semenProvider: '', machoId: '',\n      calfId: '', calfSex: '', calfWeight: '', calfObservations: '', diagnosisResult: '', expectedCalvingDate: '',\n    });\n  };\n\n  // Filtrar registros reproductivos\n  const filteredRecords = reproductiveRecords.filter(record => {\n    const matchesAnimal = filterAnimalId === '' || record.animalId === filterAnimalId;\n    const matchesEventType = filterEventType === '' || record.eventType === filterEventType;\n    return matchesAnimal && matchesEventType;\n  });\n\n  // Funciones auxiliares para obtener nombres\n  const getAnimalName = (animalId) => {\n    const animal = animals.find(a => a.id === animalId);\n    return animal ? animal.name : 'Desconocido';\n  };\n\n  // Función para generar PDF del calendario de partos\n  const handleGenerateCalvingSchedulePDF = useCallback(() => {\n    if (calvingSchedule.length === 0) {\n      alert('No hay partos programados para generar el PDF.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const defaultLogo = 'https://via.placeholder.com/60x60?text=LOGO';\n\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm';\n    tempDiv.style.padding = '15mm';\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n\n    let tableRows = calvingSchedule.map(item => {\n      const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n      const isOverdue = daysRemaining < 0;\n      const daysText = isOverdue ? `VENCIDO (${Math.abs(daysRemaining)} días)` : `${daysRemaining} días`;\n      const daysColor = isOverdue ? 'text-red-600' : 'text-gray-900'; // Color para los días restantes\n\n      return `\n        <tr style=\"border-bottom: 1px solid #eee;\">\n          <td style=\"padding: 8px 12px;\">${getAnimalName(item.animalId)} (${item.animalId})</td>\n          <td style=\"padding: 8px 12px;\">${item.diagnosisDate}</td>\n          <td style=\"padding: 8px 12px;\">${item.expectedCalvingDate}</td>\n          <td style=\"padding: 8px 12px;\"><span style=\"font-weight: bold; color: ${daysColor};\">${daysText}</span></td>\n        </tr>\n      `;\n    }).join('');\n\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoUrl || defaultLogo}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Calendario de Partos</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Próximos Partos Programados</h3>\n          <table style=\"width: 100%; border-collapse: collapse; margin-bottom: 30px;\">\n            <thead style=\"background-color: #f0f0f0;\">\n              <tr>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Animal</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Diagnóstico Preñez</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Fecha Probable de Parto</th>\n                <th style=\"padding: 10px 12px; text-align: left; border: 1px solid #eee;\">Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${tableRows}\n            </tbody>\n          </table>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(tempDiv);\n\n    html2canvas(tempDiv, { scale: 2, useCORS: true }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft > 0) {\n        position = heightLeft - pageHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n\n      pdf.save(`calendario_partos_${new Date().toISOString().split('T')[0]}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  }, [calvingSchedule, currentUser, logoUrl, animals]); // Dependencias para useCallback\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control Reproductivo</h3>\n\n      {/* Sección de Registro de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Evento Reproductivo</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            name=\"animalId\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.animalId}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Animal</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <select\n            name=\"eventType\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventType}\n            onChange={handleInputChange}\n          >\n            <option value=\"\">Selecciona Tipo de Evento</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n            <option value=\"monta_natural\">Monta Natural</option> {/* Nueva opción */}\n          </select>\n          <input\n            type=\"date\"\n            name=\"eventDate\"\n            placeholder=\"Fecha del Evento\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={reproductiveData.eventDate}\n            onChange={handleInputChange}\n          />\n          {reproductiveData.eventType === 'diagnostico_prenez' && (\n            <select\n              name=\"diagnosisResult\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={reproductiveData.diagnosisResult}\n              onChange={handleInputChange}\n            >\n              <option value=\"\">Resultado del Diagnóstico</option>\n              <option value=\"preñada\">Preñada</option>\n              <option value=\"vacia\">Vacía</option>\n            </select>\n          )}\n          {/* Campo para la fecha probable de parto (editable si es diagnóstico de preñez) */}\n          {(reproductiveData.eventType === 'diagnostico_prenez' && reproductiveData.diagnosisResult === 'preñada') && (\n            <input\n              type=\"date\"\n              name=\"expectedCalvingDate\"\n              placeholder=\"Fecha Probable de Parto (Confirmada)\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={reproductiveData.expectedCalvingDate}\n              onChange={handleInputChange}\n              required // Hacerlo requerido si se confirma preñez\n            />\n          )}\n          {/* Campo para ID de Macho en Monta Natural */}\n          {reproductiveData.eventType === 'monta_natural' && (\n            <input\n              type=\"text\"\n              name=\"machoId\"\n              placeholder=\"ID del Macho (Monta Natural)\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={reproductiveData.machoId}\n              onChange={handleInputChange}\n            />\n          )}\n          {reproductiveData.eventType === 'inseminacion' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"semenId\"\n                placeholder=\"ID de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenId}\n                onChange={handleInputChange}\n              />\n              <input\n                type=\"text\"\n                name=\"semenProvider\"\n                placeholder=\"Proveedor de Semen\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.semenProvider}\n                onChange={handleInputChange}\n              />\n            </>\n          )}\n          {reproductiveData.eventType === 'parto' && (\n            <>\n              <input\n                type=\"text\"\n                name=\"calfId\"\n                placeholder=\"ID del Ternero (si aplica)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfId}\n                onChange={handleInputChange}\n              />\n              <select\n                name=\"calfSex\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfSex}\n                onChange={handleInputChange}\n              >\n                <option value=\"\">Sexo del Ternero</option>\n                <option value=\"macho\">Macho</option>\n                <option value=\"hembra\">Hembra</option>\n              </select>\n              <input\n                type=\"number\"\n                name=\"calfWeight\"\n                placeholder=\"Peso del Ternero (kg)\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                value={reproductiveData.calfWeight}\n                onChange={handleInputChange}\n              />\n              <textarea\n                name=\"calfObservations\"\n                placeholder=\"Observaciones del Ternero\"\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none\"\n                value={reproductiveData.calfObservations}\n                onChange={handleInputChange}\n              ></textarea>\n            </>\n          )}\n          <textarea\n            name=\"details\"\n            placeholder=\"Detalles adicionales del evento\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black resize-none col-span-full\"\n            value={reproductiveData.details}\n            onChange={handleInputChange}\n          ></textarea>\n        </div>\n        <button\n          onClick={handleSubmit}\n          className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n        >\n          Registrar Evento\n        </button>\n      </div>\n\n      {/* Sección de Historial de Eventos Reproductivos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Eventos Reproductivos</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Filtrar por ID Animal\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterAnimalId}\n            onChange={(e) => setFilterAnimalId(e.target.value)}\n          />\n          <select\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={filterEventType}\n            onChange={(e) => setFilterEventType(e.target.value)}\n          >\n            <option value=\"\">Todos los Eventos</option>\n            <option value=\"diagnostico_prenez\">Diagnóstico de Preñez</option>\n            <option value=\"parto\">Parto</option>\n            <option value=\"inseminacion\">Inseminación</option>\n            <option value=\"celo\">Celo</option>\n            <option value=\"monta_natural\">Monta Natural</option>\n          </select>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">ID Animal</th>\n                <th className=\"py-2 px-4 border\">Tipo de Evento</th>\n                <th className=\"py-2 px-4 border\">Fecha</th>\n                <th className=\"py-2 px-4 border\">Detalles</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredRecords.map(record => (\n                <tr key={record.id} className=\"hover:bg-gray-50\">\n                  <td className=\"py-2 px-4 border\">{getAnimalName(record.animalId)} ({record.animalId})</td>\n                  <td className=\"py-2 px-4 border\">{record.eventType ? record.eventType.replace(/_/g, ' ') : 'N/A'}</td> {/* Manejo de undefined */}\n                  <td className=\"py-2 px-4 border\">{record.eventDate}</td>\n                  <td className=\"py-2 px-4 border\">{record.details || record.diagnosisResult || record.calfId || record.semenId || record.machoId || 'N/A'}</td>\n                  <td className=\"py-2 px-4 border\">\n                    <button\n                      onClick={() => setReproductiveRecords(reproductiveRecords.filter(r => r.id !== record.id))}\n                      className=\"text-red-600 hover:underline\"\n                    >\n                      Eliminar\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Sección de Historial de Montas Naturales */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Montas Naturales</h4>\n        {naturalMatingHistory.length === 0 ? (\n          <p className=\"text-gray-500 text-center\">No hay montas naturales registradas aún.</p>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full bg-white border\">\n              <thead>\n                <tr className=\"bg-gray-100\">\n                  <th className=\"py-2 px-4 border\">ID Hembra</th>\n                  <th className=\"py-2 px-4 border\">ID Macho</th>\n                  <th className=\"py-2 px-4 border\">Fecha de Monta</th>\n                  <th className=\"py-2 px-4 border\">Detalles</th>\n                  <th className=\"py-2 px-4 border\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody>\n                {naturalMatingHistory.map(record => (\n                  <tr key={record.id} className=\"hover:bg-gray-50\">\n                    <td className=\"py-2 px-4 border\">{getAnimalName(record.animalId)} ({record.animalId})</td>\n                    <td className=\"py-2 px-4 border\">{getAnimalName(record.machoId)} ({record.machoId})</td>\n                    <td className=\"py-2 px-4 border\">{record.eventDate}</td>\n                    <td className=\"py-2 px-4 border\">{record.details || 'N/A'}</td>\n                    <td className=\"py-2 px-4 border\">\n                      <button\n                        onClick={() => setNaturalMatingHistory(naturalMatingHistory.filter(r => r.id !== record.id))}\n                        className=\"text-red-600 hover:underline\"\n                      >\n                        Eliminar\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n\n      {/* Sección de Calendario de Partos */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-blue-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Calendario de Partos</h4>\n        <button\n          onClick={handleGenerateCalvingSchedulePDF}\n          className=\"mb-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Descargar Calendario PDF\n        </button>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full bg-white border\">\n            <thead>\n              <tr className=\"bg-gray-100\">\n                <th className=\"py-2 px-4 border\">Animal</th>\n                <th className=\"py-2 px-4 border\">Fecha Diagnóstico Preñez</th>\n                <th className=\"py-2 px-4 border\">Fecha Probable de Parto</th>\n                <th className=\"py-2 px-4 border\">Días Restantes</th>\n                <th className=\"py-2 px-4 border\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {calvingSchedule.map(item => {\n                const daysRemaining = Math.ceil((new Date(item.expectedCalvingDate) - new Date()) / (1000 * 60 * 60 * 24));\n                const isOverdue = daysRemaining < 0;\n                return (\n                  <tr key={item.id} className={`hover:bg-gray-50 ${isOverdue ? 'bg-red-100' : ''}`}>\n                    <td className=\"py-2 px-4 border\">{getAnimalName(item.animalId)} ({item.animalId})</td>\n                    <td className=\"py-2 px-4 border\">{item.diagnosisDate}</td>\n                    <td className=\"py-2 px-4 border\">{item.expectedCalvingDate}</td>\n                    <td className=\"py-2 px-4 border\">\n                      {isOverdue ? <span className=\"font-bold text-red-600\">VENCIDO ({Math.abs(daysRemaining)} días)</span> : `${daysRemaining} días`}\n                    </td>\n                    <td className=\"py-2 px-4 border\">\n                      <button\n                        onClick={() => onDeletePregnantCow(item.animalId)}\n                        className=\"text-orange-600 hover:underline\"\n                      >\n                        Marcar Parto\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ReproductiveControlPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtC,MAAMC,uBAAuB,GAAGA,CAAC;EAAEC,OAAO;EAAEC,wBAAwB;EAAEC,gBAAgB;EAAEC,2BAA2B;EAAEC,mBAAmB;EAAEC,mBAAmB;EAAEC,sBAAsB;EAAEC,WAAW;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChN,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrB,QAAQ,CAAC;IACvDsB,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,EAAE;IAAE;IACfC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE,EAAE;IACXC,OAAO,EAAE,EAAE;IAAE;IACbC,aAAa,EAAE,EAAE;IAAE;IACnBC,OAAO,EAAE,EAAE;IAAE;IACbC,MAAM,EAAE,EAAE;IAAE;IACZC,OAAO,EAAE,EAAE;IAAE;IACbC,UAAU,EAAE,EAAE;IAAE;IAChBC,gBAAgB,EAAE,EAAE;IAAE;IACtBC,eAAe,EAAE,EAAE;IAAE;IACrBC,mBAAmB,EAAE,EAAE,CAAE;EAC3B,CAAC,CAAC;EAEF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACqC,eAAe,EAAEC,kBAAkB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;;EAE1D;EACA,MAAM,CAACuC,eAAe,EAAEC,kBAAkB,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAC1D;EACA,MAAM,CAACyC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;;EAEpE;EACAC,SAAS,CAAC,MAAM;IACd,MAAM0C,qBAAqB,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC,IAAI,EAAE;IACvFP,kBAAkB,CAACG,qBAAqB,CAAC;IACzC,MAAMK,0BAA0B,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC,CAAC,IAAI,EAAE;IACjGL,uBAAuB,CAACM,0BAA0B,CAAC;EACrD,CAAC,EAAE,EAAE,CAAC;EAEN/C,SAAS,CAAC,MAAM;IACd6C,YAAY,CAACG,OAAO,CAAC,iBAAiB,EAAEL,IAAI,CAACM,SAAS,CAACX,eAAe,CAAC,CAAC;EAC1E,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErBtC,SAAS,CAAC,MAAM;IACd6C,YAAY,CAACG,OAAO,CAAC,sBAAsB,EAAEL,IAAI,CAACM,SAAS,CAACT,oBAAoB,CAAC,CAAC;EACpF,CAAC,EAAE,CAACA,oBAAoB,CAAC,CAAC;;EAE1B;EACA;EACA,MAAMU,6BAA6B,GAAI3B,SAAS,IAAK;IACnD,IAAI,CAACA,SAAS,EAAE,OAAO,EAAE;IACzB,MAAM4B,IAAI,GAAG,IAAIC,IAAI,CAAC7B,SAAS,CAAC;IAChC4B,IAAI,CAACE,OAAO,CAACF,IAAI,CAACG,OAAO,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IACpC,OAAOH,IAAI,CAACI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACzC,CAAC;;EAED;EACA,MAAMC,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCzC,mBAAmB,CAAC0C,IAAI,IAAI;MAC1B,MAAMC,OAAO,GAAG;QAAE,GAAGD,IAAI;QAAE,CAACH,IAAI,GAAGC;MAAM,CAAC;MAC1C;MACA,IAAID,IAAI,KAAK,qBAAqB,IAAII,OAAO,CAACzC,SAAS,KAAK,oBAAoB,IAAIyC,OAAO,CAAC/B,eAAe,KAAK,SAAS,EAAE;QACzH;MAAA,CACD,MAAM,IAAI2B,IAAI,KAAK,WAAW,KAAKI,OAAO,CAACzC,SAAS,KAAK,cAAc,IAAIyC,OAAO,CAACzC,SAAS,KAAK,eAAe,CAAC,EAAE;QAClH;QACAyC,OAAO,CAAC9B,mBAAmB,GAAGiB,6BAA6B,CAACU,KAAK,CAAC;MACpE;MACA,OAAOG,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAM;MAAE3C,QAAQ;MAAEC,SAAS;MAAEC,SAAS;MAAES,eAAe;MAAEC,mBAAmB;MAAEL,MAAM;MAAEC,OAAO;MAAEC,UAAU;MAAEC;IAAiB,CAAC,GAAGZ,gBAAgB;IAEhJ,IAAI,CAACE,QAAQ,IAAI,CAACC,SAAS,IAAI,CAACC,SAAS,EAAE;MACzC0C,KAAK,CAAC,8CAA8C,CAAC;MACrD;IACF;IAEA,MAAMC,SAAS,GAAG;MAChBC,EAAE,EAAE,OAAOf,IAAI,CAACgB,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;MAC5CjD,QAAQ;MACRC,SAAS;MACTC,SAAS;MACTC,OAAO,EAAEL,gBAAgB,CAACK,OAAO;MACjCC,OAAO,EAAEN,gBAAgB,CAACM,OAAO;MACjCC,aAAa,EAAEP,gBAAgB,CAACO,aAAa;MAC7CC,OAAO,EAAER,gBAAgB,CAACQ,OAAO;MACjCK,eAAe,EAAEb,gBAAgB,CAACa,eAAe;MACjDC,mBAAmB,EAAEd,gBAAgB,CAACc,mBAAmB;MACzDL,MAAM,EAAET,gBAAgB,CAACS,MAAM;MAC/BC,OAAO,EAAEV,gBAAgB,CAACU,OAAO;MACjCC,UAAU,EAAEX,gBAAgB,CAACW,UAAU;MACvCC,gBAAgB,EAAEZ,gBAAgB,CAACY;IACrC,CAAC;IAEDnB,2BAA2B,CAACsD,SAAS,CAAC;IACtCD,KAAK,CAAC,0BAA0B3C,SAAS,oBAAoBD,QAAQ,GAAG,CAAC;;IAEzE;IACA,IAAIC,SAAS,KAAK,oBAAoB,IAAIU,eAAe,KAAK,SAAS,EAAE;MACvE;MACA;MACA,MAAMuC,KAAK,GAAG,IAAInB,IAAI,CAAC,CAAC;MACxB,MAAMoB,WAAW,GAAG,IAAIpB,IAAI,CAACnB,mBAAmB,CAAC;MACjD,MAAMwC,aAAa,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACH,WAAW,GAAGD,KAAK,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;MAE9E,IAAIK,oBAAoB,GAAG,SAAS;MACpC,IAAIH,aAAa,IAAI,GAAG,EAAE;QAAE;QAC1BG,oBAAoB,GAAG,MAAM;MAC/B;MAEAlE,wBAAwB,CAACW,QAAQ,EAAE;QAAEwD,kBAAkB,EAAED,oBAAoB;QAAEE,oBAAoB,EAAEvD;MAAU,CAAC,CAAC;;MAEjH;MACAgB,kBAAkB,CAACuB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QACnCzC,QAAQ;QACR0D,aAAa,EAAExD,SAAS;QACxBU,mBAAmB;QACnBkC,EAAE,EAAED,SAAS,CAACC;MAChB,CAAC,CAAC,CAAC;MACHF,KAAK,CAAC,UAAU5C,QAAQ,iBAAiBuD,oBAAoB,8BAA8B3C,mBAAmB,EAAE,CAAC;IACnH,CAAC,MAAM,IAAIX,SAAS,KAAK,OAAO,EAAE;MAChC;MACAZ,wBAAwB,CAACW,QAAQ,EAAE;QAAEwD,kBAAkB,EAAE,eAAe;QAAEC,oBAAoB,EAAEvD;MAAU,CAAC,CAAC;MAC5G;MACAgB,kBAAkB,CAACuB,IAAI,IAAIA,IAAI,CAACkB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAAC5D,QAAQ,KAAKA,QAAQ,CAAC,CAAC;MAC3E4C,KAAK,CAAC,yBAAyB5C,QAAQ,+BAA+B,CAAC;;MAEvE;MACA,IAAIO,MAAM,IAAIC,OAAO,IAAIC,UAAU,EAAE;QAAA,IAAAoD,aAAA,EAAAC,cAAA;QACnC,MAAMC,OAAO,GAAG;UACdjB,EAAE,EAAEvC,MAAM;UACV+B,IAAI,EAAE,cAActC,QAAQ,EAAE;UAC9BgE,IAAI,EAAE,EAAAH,aAAA,GAAAzE,OAAO,CAAC6E,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACpB,EAAE,KAAK9C,QAAQ,CAAC,cAAA6D,aAAA,uBAApCA,aAAA,CAAsCG,IAAI,KAAI,aAAa;UACjEG,IAAI,EAAE1D,UAAU;UAChB2D,IAAI,EAAE5D,OAAO;UACb6D,eAAe,EAAEnE,SAAS;UAC1BoE,WAAW,EAAEpE,SAAS;UAAE;UACxBqE,cAAc,EAAE,OAAO;UAAE;UACzBC,SAAS,EAAE,CAAC;UACZC,OAAO,EAAE,EAAAX,cAAA,GAAA1E,OAAO,CAAC6E,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACpB,EAAE,KAAK9C,QAAQ,CAAC,cAAA8D,cAAA,uBAApCA,cAAA,CAAsCW,OAAO,KAAI,EAAE;UAAE;UAC9DC,OAAO,EAAE1E,QAAQ;UACjBwD,kBAAkB,EAAE;QACtB,CAAC;QACDlE,gBAAgB,CAACyE,OAAO,CAAC;QACzBnB,KAAK,CAAC,WAAWrC,MAAM,cAAc,CAAC;MACxC;IACF,CAAC,MAAM,IAAIN,SAAS,KAAK,cAAc,EAAE;MACvCZ,wBAAwB,CAACW,QAAQ,EAAE;QAAEwD,kBAAkB,EAAE,YAAY;QAAEmB,uBAAuB,EAAEzE;MAAU,CAAC,CAAC;IAC9G,CAAC,MAAM,IAAID,SAAS,KAAK,eAAe,EAAE;MACxCZ,wBAAwB,CAACW,QAAQ,EAAE;QAAEwD,kBAAkB,EAAE,eAAe;QAAEoB,gBAAgB,EAAE1E;MAAU,CAAC,CAAC;MACxGkB,uBAAuB,CAACqB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QACxCK,EAAE,EAAED,SAAS,CAACC,EAAE;QAChB9C,QAAQ,EAAE6C,SAAS,CAAC7C,QAAQ;QAC5BM,OAAO,EAAEuC,SAAS,CAACvC,OAAO;QAC1BJ,SAAS,EAAE2C,SAAS,CAAC3C,SAAS;QAC9BC,OAAO,EAAE0C,SAAS,CAAC1C;MACrB,CAAC,CAAC,CAAC;IACL,CAAC,MAAM,IAAIF,SAAS,KAAK,MAAM,EAAE;MAC/BZ,wBAAwB,CAACW,QAAQ,EAAE;QAAEwD,kBAAkB,EAAE,SAAS;QAAEqB,eAAe,EAAE3E;MAAU,CAAC,CAAC;IACnG;;IAEA;IACAH,mBAAmB,CAAC;MAClBC,QAAQ,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,SAAS,EAAE,EAAE;MAAEC,OAAO,EAAE,EAAE;MAAEC,OAAO,EAAE,EAAE;MAAEC,aAAa,EAAE,EAAE;MAAEC,OAAO,EAAE,EAAE;MACpGC,MAAM,EAAE,EAAE;MAAEC,OAAO,EAAE,EAAE;MAAEC,UAAU,EAAE,EAAE;MAAEC,gBAAgB,EAAE,EAAE;MAAEC,eAAe,EAAE,EAAE;MAAEC,mBAAmB,EAAE;IAC3G,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMkE,eAAe,GAAGrF,mBAAmB,CAACkE,MAAM,CAACoB,MAAM,IAAI;IAC3D,MAAMC,aAAa,GAAGnE,cAAc,KAAK,EAAE,IAAIkE,MAAM,CAAC/E,QAAQ,KAAKa,cAAc;IACjF,MAAMoE,gBAAgB,GAAGlE,eAAe,KAAK,EAAE,IAAIgE,MAAM,CAAC9E,SAAS,KAAKc,eAAe;IACvF,OAAOiE,aAAa,IAAIC,gBAAgB;EAC1C,CAAC,CAAC;;EAEF;EACA,MAAMC,aAAa,GAAIlF,QAAQ,IAAK;IAClC,MAAMmF,MAAM,GAAG/F,OAAO,CAAC6E,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACpB,EAAE,KAAK9C,QAAQ,CAAC;IACnD,OAAOmF,MAAM,GAAGA,MAAM,CAAC7C,IAAI,GAAG,aAAa;EAC7C,CAAC;;EAED;EACA,MAAM8C,gCAAgC,GAAGxG,WAAW,CAAC,MAAM;IACzD,IAAIqC,eAAe,CAACoE,MAAM,KAAK,CAAC,EAAE;MAChCzC,KAAK,CAAC,gDAAgD,CAAC;MACvD;IACF;IAEA,MAAM0C,QAAQ,GAAG,CAAA3F,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE2F,QAAQ,KAAI,mBAAmB;IAC7D,MAAMC,SAAS,GAAG,CAAA5F,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE6F,QAAQ,KAAI,eAAe;IAC1D,MAAMC,WAAW,GAAG,6CAA6C;IAEjE,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7CF,OAAO,CAACG,KAAK,CAACC,KAAK,GAAG,OAAO;IAC7BJ,OAAO,CAACG,KAAK,CAACE,OAAO,GAAG,MAAM;IAC9BL,OAAO,CAACG,KAAK,CAACG,UAAU,GAAG,mBAAmB;IAC9CN,OAAO,CAACG,KAAK,CAACI,QAAQ,GAAG,MAAM;IAC/BP,OAAO,CAACG,KAAK,CAACK,eAAe,GAAG,SAAS;IACzCR,OAAO,CAACG,KAAK,CAACM,QAAQ,GAAG,UAAU;IACnCT,OAAO,CAACG,KAAK,CAACO,IAAI,GAAG,SAAS;IAC9BV,OAAO,CAACG,KAAK,CAACQ,GAAG,GAAG,SAAS;IAE7B,IAAIC,SAAS,GAAGrF,eAAe,CAACsF,GAAG,CAAC3C,IAAI,IAAI;MAC1C,MAAMR,aAAa,GAAGC,IAAI,CAACC,IAAI,CAAC,CAAC,IAAIvB,IAAI,CAAC6B,IAAI,CAAChD,mBAAmB,CAAC,GAAG,IAAImB,IAAI,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;MAC1G,MAAMyE,SAAS,GAAGpD,aAAa,GAAG,CAAC;MACnC,MAAMqD,QAAQ,GAAGD,SAAS,GAAG,YAAYnD,IAAI,CAACqD,GAAG,CAACtD,aAAa,CAAC,QAAQ,GAAG,GAAGA,aAAa,OAAO;MAClG,MAAMuD,SAAS,GAAGH,SAAS,GAAG,cAAc,GAAG,eAAe,CAAC,CAAC;;MAEhE,OAAO;AACb;AACA,2CAA2CtB,aAAa,CAACtB,IAAI,CAAC5D,QAAQ,CAAC,KAAK4D,IAAI,CAAC5D,QAAQ;AACzF,2CAA2C4D,IAAI,CAACF,aAAa;AAC7D,2CAA2CE,IAAI,CAAChD,mBAAmB;AACnE,kFAAkF+F,SAAS,MAAMF,QAAQ;AACzG;AACA,OAAO;IACH,CAAC,CAAC,CAACG,IAAI,CAAC,EAAE,CAAC;IAEXlB,OAAO,CAACmB,SAAS,GAAG;AACxB;AACA;AACA,sBAAsBjH,OAAO,IAAI6F,WAAW;AAC5C;AACA,yEAAyEH,QAAQ;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA,kFAAkFf,SAAS;AAC3F,uDAAuD,IAAIxD,IAAI,CAAC,CAAC,CAAC+E,kBAAkB,CAAC,CAAC;AACtF;AACA;AACA,KAAK;IAEDnB,QAAQ,CAACoB,IAAI,CAACC,WAAW,CAACtB,OAAO,CAAC;IAElC5G,WAAW,CAAC4G,OAAO,EAAE;MAAEuB,KAAK,EAAE,CAAC;MAAEC,OAAO,EAAE;IAAK,CAAC,CAAC,CAACC,IAAI,CAACC,MAAM,IAAI;MAC/D,MAAMC,OAAO,GAAGD,MAAM,CAACE,SAAS,CAAC,WAAW,CAAC;MAC7C,MAAMC,GAAG,GAAG,IAAI1I,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC;MACtC,MAAM2I,QAAQ,GAAG,GAAG;MACpB,MAAMC,UAAU,GAAG,GAAG;MACtB,MAAMC,SAAS,GAAGN,MAAM,CAACO,MAAM,GAAGH,QAAQ,GAAGJ,MAAM,CAACtB,KAAK;MACzD,IAAI8B,UAAU,GAAGF,SAAS;MAC1B,IAAIvB,QAAQ,GAAG,CAAC;MAEhBoB,GAAG,CAACM,QAAQ,CAACR,OAAO,EAAE,KAAK,EAAE,CAAC,EAAElB,QAAQ,EAAEqB,QAAQ,EAAEE,SAAS,CAAC;MAC9DE,UAAU,IAAIH,UAAU;MAExB,OAAOG,UAAU,GAAG,CAAC,EAAE;QACrBzB,QAAQ,GAAGyB,UAAU,GAAGH,UAAU;QAClCF,GAAG,CAACO,OAAO,CAAC,CAAC;QACbP,GAAG,CAACM,QAAQ,CAACR,OAAO,EAAE,KAAK,EAAE,CAAC,EAAElB,QAAQ,EAAEqB,QAAQ,EAAEE,SAAS,CAAC;QAC9DE,UAAU,IAAIH,UAAU;MAC1B;MAEAF,GAAG,CAACQ,IAAI,CAAC,qBAAqB,IAAIhG,IAAI,CAAC,CAAC,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;MAC3EwD,QAAQ,CAACoB,IAAI,CAACiB,WAAW,CAACtC,OAAO,CAAC;IACpC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACzE,eAAe,EAAEtB,WAAW,EAAEC,OAAO,EAAER,OAAO,CAAC,CAAC,CAAC,CAAC;;EAEtD,oBACEJ,OAAA;IAAKiJ,SAAS,EAAC,mCAAmC;IAAAC,QAAA,gBAChDlJ,OAAA;MAAIiJ,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGpEtJ,OAAA;MAAKiJ,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDlJ,OAAA;QAAIiJ,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7EtJ,OAAA;QAAKiJ,SAAS,EAAC,uCAAuC;QAAAC,QAAA,gBACpDlJ,OAAA;UACEsD,IAAI,EAAC,UAAU;UACf2F,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACE,QAAS;UACjCuI,QAAQ,EAAEnG,iBAAkB;UAAA8F,QAAA,gBAE5BlJ,OAAA;YAAQuD,KAAK,EAAC,EAAE;YAAA2F,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC1ClJ,OAAO,CAACmH,GAAG,CAACpB,MAAM,iBACjBnG,OAAA;YAAwBuD,KAAK,EAAE4C,MAAM,CAACrC,EAAG;YAAAoF,QAAA,GAAE/C,MAAM,CAAC7C,IAAI,EAAC,IAAE,EAAC6C,MAAM,CAACrC,EAAE,EAAC,GAAC;UAAA,GAAxDqC,MAAM,CAACrC,EAAE;YAAAqF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuD,CAC9E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACI,CAAC,eACTtJ,OAAA;UACEsD,IAAI,EAAC,WAAW;UAChB2F,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACG,SAAU;UAClCsI,QAAQ,EAAEnG,iBAAkB;UAAA8F,QAAA,gBAE5BlJ,OAAA;YAAQuD,KAAK,EAAC,EAAE;YAAA2F,QAAA,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnDtJ,OAAA;YAAQuD,KAAK,EAAC,oBAAoB;YAAA2F,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACjEtJ,OAAA;YAAQuD,KAAK,EAAC,OAAO;YAAA2F,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpCtJ,OAAA;YAAQuD,KAAK,EAAC,cAAc;YAAA2F,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClDtJ,OAAA;YAAQuD,KAAK,EAAC,MAAM;YAAA2F,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClCtJ,OAAA;YAAQuD,KAAK,EAAC,eAAe;YAAA2F,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/C,CAAC,eACTtJ,OAAA;UACEwJ,IAAI,EAAC,MAAM;UACXlG,IAAI,EAAC,WAAW;UAChBmG,WAAW,EAAC,kBAAkB;UAC9BR,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACI,SAAU;UAClCqI,QAAQ,EAAEnG;QAAkB;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,EACDxI,gBAAgB,CAACG,SAAS,KAAK,oBAAoB,iBAClDjB,OAAA;UACEsD,IAAI,EAAC,iBAAiB;UACtB2F,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACa,eAAgB;UACxC4H,QAAQ,EAAEnG,iBAAkB;UAAA8F,QAAA,gBAE5BlJ,OAAA;YAAQuD,KAAK,EAAC,EAAE;YAAA2F,QAAA,EAAC;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnDtJ,OAAA;YAAQuD,KAAK,EAAC,YAAS;YAAA2F,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxCtJ,OAAA;YAAQuD,KAAK,EAAC,OAAO;YAAA2F,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CACT,EAECxI,gBAAgB,CAACG,SAAS,KAAK,oBAAoB,IAAIH,gBAAgB,CAACa,eAAe,KAAK,SAAS,iBACrG3B,OAAA;UACEwJ,IAAI,EAAC,MAAM;UACXlG,IAAI,EAAC,qBAAqB;UAC1BmG,WAAW,EAAC,sCAAsC;UAClDR,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACc,mBAAoB;UAC5C2H,QAAQ,EAAEnG,iBAAkB;UAC5BsG,QAAQ,OAAC;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV,CACF,EAEAxI,gBAAgB,CAACG,SAAS,KAAK,eAAe,iBAC7CjB,OAAA;UACEwJ,IAAI,EAAC,MAAM;UACXlG,IAAI,EAAC,SAAS;UACdmG,WAAW,EAAC,8BAA8B;UAC1CR,SAAS,EAAC,qFAAqF;UAC/F1F,KAAK,EAAEzC,gBAAgB,CAACQ,OAAQ;UAChCiI,QAAQ,EAAEnG;QAAkB;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CACF,EACAxI,gBAAgB,CAACG,SAAS,KAAK,cAAc,iBAC5CjB,OAAA,CAAAE,SAAA;UAAAgJ,QAAA,gBACElJ,OAAA;YACEwJ,IAAI,EAAC,MAAM;YACXlG,IAAI,EAAC,SAAS;YACdmG,WAAW,EAAC,aAAa;YACzBR,SAAS,EAAC,qFAAqF;YAC/F1F,KAAK,EAAEzC,gBAAgB,CAACM,OAAQ;YAChCmI,QAAQ,EAAEnG;UAAkB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eACFtJ,OAAA;YACEwJ,IAAI,EAAC,MAAM;YACXlG,IAAI,EAAC,eAAe;YACpBmG,WAAW,EAAC,oBAAoB;YAChCR,SAAS,EAAC,qFAAqF;YAC/F1F,KAAK,EAAEzC,gBAAgB,CAACO,aAAc;YACtCkI,QAAQ,EAAEnG;UAAkB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC;QAAA,eACF,CACH,EACAxI,gBAAgB,CAACG,SAAS,KAAK,OAAO,iBACrCjB,OAAA,CAAAE,SAAA;UAAAgJ,QAAA,gBACElJ,OAAA;YACEwJ,IAAI,EAAC,MAAM;YACXlG,IAAI,EAAC,QAAQ;YACbmG,WAAW,EAAC,4BAA4B;YACxCR,SAAS,EAAC,qFAAqF;YAC/F1F,KAAK,EAAEzC,gBAAgB,CAACS,MAAO;YAC/BgI,QAAQ,EAAEnG;UAAkB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eACFtJ,OAAA;YACEsD,IAAI,EAAC,SAAS;YACd2F,SAAS,EAAC,qFAAqF;YAC/F1F,KAAK,EAAEzC,gBAAgB,CAACU,OAAQ;YAChC+H,QAAQ,EAAEnG,iBAAkB;YAAA8F,QAAA,gBAE5BlJ,OAAA;cAAQuD,KAAK,EAAC,EAAE;cAAA2F,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC1CtJ,OAAA;cAAQuD,KAAK,EAAC,OAAO;cAAA2F,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpCtJ,OAAA;cAAQuD,KAAK,EAAC,QAAQ;cAAA2F,QAAA,EAAC;YAAM;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACTtJ,OAAA;YACEwJ,IAAI,EAAC,QAAQ;YACblG,IAAI,EAAC,YAAY;YACjBmG,WAAW,EAAC,uBAAuB;YACnCR,SAAS,EAAC,qFAAqF;YAC/F1F,KAAK,EAAEzC,gBAAgB,CAACW,UAAW;YACnC8H,QAAQ,EAAEnG;UAAkB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eACFtJ,OAAA;YACEsD,IAAI,EAAC,kBAAkB;YACvBmG,WAAW,EAAC,2BAA2B;YACvCE,IAAI,EAAC,GAAG;YACRV,SAAS,EAAC,iGAAiG;YAC3G1F,KAAK,EAAEzC,gBAAgB,CAACY,gBAAiB;YACzC6H,QAAQ,EAAEnG;UAAkB;YAAA+F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC;QAAA,eACZ,CACH,eACDtJ,OAAA;UACEsD,IAAI,EAAC,SAAS;UACdmG,WAAW,EAAC,iCAAiC;UAC7CE,IAAI,EAAC,GAAG;UACRV,SAAS,EAAC,+GAA+G;UACzH1F,KAAK,EAAEzC,gBAAgB,CAACK,OAAQ;UAChCoI,QAAQ,EAAEnG;QAAkB;UAAA+F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACNtJ,OAAA;QACE4J,OAAO,EAAEjG,YAAa;QACtBsF,SAAS,EAAC,mFAAmF;QAAAC,QAAA,EAC9F;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNtJ,OAAA;MAAKiJ,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDlJ,OAAA;QAAIiJ,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAkC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClFtJ,OAAA;QAAKiJ,SAAS,EAAC,4CAA4C;QAAAC,QAAA,gBACzDlJ,OAAA;UACEwJ,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,uBAAuB;UACnCR,SAAS,EAAC,oCAAoC;UAC9C1F,KAAK,EAAE1B,cAAe;UACtB0H,QAAQ,EAAGlG,CAAC,IAAKvB,iBAAiB,CAACuB,CAAC,CAACG,MAAM,CAACD,KAAK;QAAE;UAAA4F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,eACFtJ,OAAA;UACEiJ,SAAS,EAAC,oCAAoC;UAC9C1F,KAAK,EAAExB,eAAgB;UACvBwH,QAAQ,EAAGlG,CAAC,IAAKrB,kBAAkB,CAACqB,CAAC,CAACG,MAAM,CAACD,KAAK,CAAE;UAAA2F,QAAA,gBAEpDlJ,OAAA;YAAQuD,KAAK,EAAC,EAAE;YAAA2F,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC3CtJ,OAAA;YAAQuD,KAAK,EAAC,oBAAoB;YAAA2F,QAAA,EAAC;UAAqB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACjEtJ,OAAA;YAAQuD,KAAK,EAAC,OAAO;YAAA2F,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpCtJ,OAAA;YAAQuD,KAAK,EAAC,cAAc;YAAA2F,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClDtJ,OAAA;YAAQuD,KAAK,EAAC,MAAM;YAAA2F,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAClCtJ,OAAA;YAAQuD,KAAK,EAAC,eAAe;YAAA2F,QAAA,EAAC;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACNtJ,OAAA;QAAKiJ,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BlJ,OAAA;UAAOiJ,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBAC3ClJ,OAAA;YAAAkJ,QAAA,eACElJ,OAAA;cAAIiJ,SAAS,EAAC,aAAa;cAAAC,QAAA,gBACzBlJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpDtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRtJ,OAAA;YAAAkJ,QAAA,EACGpD,eAAe,CAACyB,GAAG,CAACxB,MAAM,iBACzB/F,OAAA;cAAoBiJ,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC9ClJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAAEhD,aAAa,CAACH,MAAM,CAAC/E,QAAQ,CAAC,EAAC,IAAE,EAAC+E,MAAM,CAAC/E,QAAQ,EAAC,GAAC;cAAA;gBAAAmI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC1FtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAEnD,MAAM,CAAC9E,SAAS,GAAG8E,MAAM,CAAC9E,SAAS,CAAC4I,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG;cAAK;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,KAAC,eACvGtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAEnD,MAAM,CAAC7E;cAAS;gBAAAiI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxDtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAEnD,MAAM,CAAC5E,OAAO,IAAI4E,MAAM,CAACpE,eAAe,IAAIoE,MAAM,CAACxE,MAAM,IAAIwE,MAAM,CAAC3E,OAAO,IAAI2E,MAAM,CAACzE,OAAO,IAAI;cAAK;gBAAA6H,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC9ItJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,eAC9BlJ,OAAA;kBACE4J,OAAO,EAAEA,CAAA,KAAMlJ,sBAAsB,CAACD,mBAAmB,CAACkE,MAAM,CAACmF,CAAC,IAAIA,CAAC,CAAChG,EAAE,KAAKiC,MAAM,CAACjC,EAAE,CAAC,CAAE;kBAC3FmF,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,EACzC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GAZEvD,MAAM,CAACjC,EAAE;cAAAqF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAad,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNtJ,OAAA;MAAKiJ,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDlJ,OAAA;QAAIiJ,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAA6B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC5EnH,oBAAoB,CAACkE,MAAM,KAAK,CAAC,gBAChCrG,OAAA;QAAGiJ,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAC;MAAwC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,gBAErFtJ,OAAA;QAAKiJ,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BlJ,OAAA;UAAOiJ,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBAC3ClJ,OAAA;YAAAkJ,QAAA,eACElJ,OAAA;cAAIiJ,SAAS,EAAC,aAAa;cAAAC,QAAA,gBACzBlJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAS;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC/CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpDtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRtJ,OAAA;YAAAkJ,QAAA,EACG/G,oBAAoB,CAACoF,GAAG,CAACxB,MAAM,iBAC9B/F,OAAA;cAAoBiJ,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC9ClJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAAEhD,aAAa,CAACH,MAAM,CAAC/E,QAAQ,CAAC,EAAC,IAAE,EAAC+E,MAAM,CAAC/E,QAAQ,EAAC,GAAC;cAAA;gBAAAmI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC1FtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,GAAEhD,aAAa,CAACH,MAAM,CAACzE,OAAO,CAAC,EAAC,IAAE,EAACyE,MAAM,CAACzE,OAAO,EAAC,GAAC;cAAA;gBAAA6H,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACxFtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAEnD,MAAM,CAAC7E;cAAS;gBAAAiI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxDtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAEnD,MAAM,CAAC5E,OAAO,IAAI;cAAK;gBAAAgI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/DtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,eAC9BlJ,OAAA;kBACE4J,OAAO,EAAEA,CAAA,KAAMxH,uBAAuB,CAACD,oBAAoB,CAACwC,MAAM,CAACmF,CAAC,IAAIA,CAAC,CAAChG,EAAE,KAAKiC,MAAM,CAACjC,EAAE,CAAC,CAAE;kBAC7FmF,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,EACzC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACP,CAAC;YAAA,GAZEvD,MAAM,CAACjC,EAAE;cAAAqF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAad,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNtJ,OAAA;MAAKiJ,SAAS,EAAC,uCAAuC;MAAAC,QAAA,gBACpDlJ,OAAA;QAAIiJ,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpEtJ,OAAA;QACE4J,OAAO,EAAExD,gCAAiC;QAC1C6C,SAAS,EAAC,sFAAsF;QAAAC,QAAA,EACjG;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTtJ,OAAA;QAAKiJ,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BlJ,OAAA;UAAOiJ,SAAS,EAAC,4BAA4B;UAAAC,QAAA,gBAC3ClJ,OAAA;YAAAkJ,QAAA,eACElJ,OAAA;cAAIiJ,SAAS,EAAC,aAAa;cAAAC,QAAA,gBACzBlJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5CtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAwB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC9DtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAuB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7DtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpDtJ,OAAA;gBAAIiJ,SAAS,EAAC,kBAAkB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5C;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRtJ,OAAA;YAAAkJ,QAAA,EACGjH,eAAe,CAACsF,GAAG,CAAC3C,IAAI,IAAI;cAC3B,MAAMR,aAAa,GAAGC,IAAI,CAACC,IAAI,CAAC,CAAC,IAAIvB,IAAI,CAAC6B,IAAI,CAAChD,mBAAmB,CAAC,GAAG,IAAImB,IAAI,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;cAC1G,MAAMyE,SAAS,GAAGpD,aAAa,GAAG,CAAC;cACnC,oBACEpE,OAAA;gBAAkBiJ,SAAS,EAAE,oBAAoBzB,SAAS,GAAG,YAAY,GAAG,EAAE,EAAG;gBAAA0B,QAAA,gBAC/ElJ,OAAA;kBAAIiJ,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,GAAEhD,aAAa,CAACtB,IAAI,CAAC5D,QAAQ,CAAC,EAAC,IAAE,EAAC4D,IAAI,CAAC5D,QAAQ,EAAC,GAAC;gBAAA;kBAAAmI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACtFtJ,OAAA;kBAAIiJ,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAAEtE,IAAI,CAACF;gBAAa;kBAAAyE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC1DtJ,OAAA;kBAAIiJ,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAAEtE,IAAI,CAAChD;gBAAmB;kBAAAuH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAChEtJ,OAAA;kBAAIiJ,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,EAC7B1B,SAAS,gBAAGxH,OAAA;oBAAMiJ,SAAS,EAAC,wBAAwB;oBAAAC,QAAA,GAAC,WAAS,EAAC7E,IAAI,CAACqD,GAAG,CAACtD,aAAa,CAAC,EAAC,WAAM;kBAAA;oBAAA+E,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,GAAG,GAAGlF,aAAa;gBAAO;kBAAA+E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7H,CAAC,eACLtJ,OAAA;kBAAIiJ,SAAS,EAAC,kBAAkB;kBAAAC,QAAA,eAC9BlJ,OAAA;oBACE4J,OAAO,EAAEA,CAAA,KAAMpJ,mBAAmB,CAACoE,IAAI,CAAC5D,QAAQ,CAAE;oBAClDiI,SAAS,EAAC,iCAAiC;oBAAAC,QAAA,EAC5C;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC;cAAA,GAdE1E,IAAI,CAACd,EAAE;gBAAAqF,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAeZ,CAAC;YAET,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzI,EAAA,CA5jBIV,uBAAuB;AAAA4J,EAAA,GAAvB5J,uBAAuB;AA8jB7B,eAAeA,uBAAuB;AAAC,IAAA4J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}