{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import{exportToCsv,exportTableToPdf}from'../utils/exportHelpers';// Importar funciones de exportación\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductionControlPage=_ref=>{let{animals,onUpdateAnimalProduction,onRegisterProductionRecord,productionRecords,setProductionRecords,currentUser,logoUrl}=_ref;const[currentProductionSection,setCurrentProductionSection]=useState('general');// 'general', 'carne', 'leche'\nconst[productionData,setProductionData]=useState({animalId:'',fechaRegistro:'',tipoProduccion:'',// 'leche', 'carne'\ncantidad:'',// Cantidad de producción (ej. litros de leche, kg de carne)\nunidadMedida:'',// 'litros', 'kg'\nobservaciones:''});const[editingRecord,setEditingRecord]=useState(null);// To hold the record being edited\nconst productionTableRef=useRef(null);// Ref for the production history table\n// Estados para el análisis de tendencias y consejos de IA\nconst[milkTrend,setMilkTrend]=useState('estable');// 'aumentando', 'decayendo', 'estable'\nconst[meatTrend,setMeatTrend]=useState('estable');// 'aumentando', 'decayendo', 'estable'\nconst[milkAdvice,setMilkAdvice]=useState('');const[meatAdvice,setMeatAdvice]=useState('');const[aiAdviceHistory,setAiAdviceHistory]=useState([]);// Nuevo estado para el historial de consejos\n// Función para calcular la tendencia y generar consejos\nconst analyzeProductionAndAdvise=(records,type)=>{const relevantRecords=records.filter(record=>record.tipoProduccion===type).sort((a,b)=>new Date(a.fechaRegistro)-new Date(b.fechaRegistro));if(relevantRecords.length<2){return{trend:'estable',advice:'Necesitamos más datos para analizar la tendencia de producción.'};}const latestRecords=relevantRecords.slice(-3);// Tomar los últimos 3 registros para un análisis simple\nif(latestRecords.length<2){return{trend:'estable',advice:'Necesitamos al menos dos registros para analizar la tendencia.'};}let increasingCount=0;let decreasingCount=0;for(let i=1;i<latestRecords.length;i++){if(latestRecords[i].cantidad>latestRecords[i-1].cantidad){increasingCount++;}else if(latestRecords[i].cantidad<latestRecords[i-1].cantidad){decreasingCount++;}}let trend='estable';let advice='';if(increasingCount>decreasingCount){trend='aumentando';advice=\"\\xA1Excelente! La producci\\xF3n de \".concat(type,\" est\\xE1 aumentando. Sigue con las buenas pr\\xE1cticas de alimentaci\\xF3n y manejo.\");}else if(decreasingCount>increasingCount){trend='decayendo';advice=\"\\xA1Atenci\\xF3n! La producci\\xF3n de \".concat(type,\" est\\xE1 decayendo. Considera revisar la dieta, el estado de salud del animal o el manejo del estr\\xE9s.\");}else{trend='estable';advice=\"La producci\\xF3n de \".concat(type,\" se mantiene estable. Si buscas mejorarla, eval\\xFAa optimizar la alimentaci\\xF3n o el confort del animal.\");}return{trend,advice};};useEffect(()=>{const{trend:milkT,advice:milkA}=analyzeProductionAndAdvise(productionRecords,'leche');setMilkTrend(milkT);setMilkAdvice(milkA);if(milkA&&milkA!=='Necesitamos más datos para analizar la tendencia de producción.'&&milkA!=='Necesitamos al menos dos registros para analizar la tendencia.'){setAiAdviceHistory(prev=>[...prev,{date:new Date().toISOString().split('T')[0],type:'leche',advice:milkA}]);}const{trend:meatT,advice:meatA}=analyzeProductionAndAdvise(productionRecords,'carne');setMeatTrend(meatT);setMeatAdvice(meatA);if(meatA&&meatA!=='Necesitamos más datos para analizar la tendencia de producción.'&&meatA!=='Necesitamos al menos dos registros para analizar la tendencia.'){setAiAdviceHistory(prev=>[...prev,{date:new Date().toISOString().split('T')[0],type:'carne',advice:meatA}]);}},[productionRecords]);const handleProductionChange=e=>{const{name,value}=e.target;setProductionData(_objectSpread(_objectSpread({},productionData),{},{[name]:value}));};const handleProductionSubmit=()=>{const{animalId,fechaRegistro,tipoProduccion,cantidad,unidadMedida,observaciones}=productionData;if(!animalId||!fechaRegistro||!tipoProduccion||!cantidad||!unidadMedida){alert('¡Ups! Para registrar la producción, necesitamos que completes todos los campos obligatorios. ¡No te rindas, ya casi lo logras!');return;}onRegisterProductionRecord({id:\"PROD-\".concat(Date.now().toString().slice(-5)),// Generar ID único\nanimalId,fechaRegistro,tipoProduccion,cantidad:parseFloat(cantidad),unidadMedida,observaciones});alert('¡Producción registrada con éxito! ¡Tus animales son unos campeones!');setProductionData({animalId:'',fechaRegistro:'',tipoProduccion:'',cantidad:'',unidadMedida:'',observaciones:''});};const handleDeleteProductionRecord=recordId=>{if(window.confirm('¿Estás seguro de que quieres eliminar este registro de producción? ¡Esta acción no se puede deshacer!')){const updatedRecords=productionRecords.filter(record=>record.id!==recordId);setProductionRecords(updatedRecords);// Update state in App.js via prop\nalert('¡Registro de producción eliminado! Como si nunca hubiera existido.');}};const startEditingProductionRecord=record=>{setEditingRecord(_objectSpread({},record));// Create a copy to edit\nalert('¡A editar se ha dicho! Modifica los campos y guarda los cambios.');};const handleEditingProductionChange=e=>{const{name,value}=e.target;setEditingRecord(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const saveEditedProductionRecord=()=>{const updatedRecords=productionRecords.map(record=>record.id===editingRecord.id?editingRecord:record);setProductionRecords(updatedRecords);// Update state in App.js via prop\nsetEditingRecord(null);// Exit editing mode\nalert('¡Cambios guardados! Tu historial de producción está al día.');};const cancelEditingProductionRecord=()=>{setEditingRecord(null);// Exit editing mode\nalert('¡Edición cancelada! No te preocupes, tus datos están a salvo.');};const handleExportProductionHistory=async format=>{if(productionRecords.length===0){alert('¡No hay registros de producción para exportar! ¿Qué esperas para empezar a registrar?');return;}const filename=\"historial_produccion_\".concat(new Date().toISOString().split('T')[0]);const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';if(format==='csv'){exportToCsv(productionRecords,filename);alert('¡Exportando a CSV! Tu historial estará listo en un santiamén.');}else if(format==='pdf'){await exportTableToPdf(productionTableRef.current,filename,'Historial de Producción',farmName,adminName,logoUrl);alert('¡Generando PDF! Tu historial se verá de lujo en papel.');}};const filteredProductionRecords=productionRecords.filter(record=>{if(currentProductionSection==='carne'&&record.tipoProduccion!=='carne'){return false;}if(currentProductionSection==='leche'&&record.tipoProduccion!=='leche'){return false;}return true;});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Control de Producci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mb-6 space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentProductionSection('general'),className:\"px-6 py-2 rounded-lg \".concat(currentProductionSection==='general'?'bg-blue-600 text-white':'bg-gray-200 text-gray-800',\" hover:bg-blue-700 transition-colors\"),children:\"General\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentProductionSection('leche'),className:\"px-6 py-2 rounded-lg \".concat(currentProductionSection==='leche'?'bg-blue-600 text-white':'bg-gray-200 text-gray-800',\" hover:bg-blue-700 transition-colors\"),children:\"Producci\\xF3n de Leche\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentProductionSection('carne'),className:\"px-6 py-2 rounded-lg \".concat(currentProductionSection==='carne'?'bg-blue-600 text-white':'bg-gray-200 text-gray-800',\" hover:bg-blue-700 transition-colors\"),children:\"Producci\\xF3n de Carne\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-gray-100 mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"An\\xE1lisis de Tendencias de Producci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-bold\",children:\"Tendencia de Leche:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold \".concat(milkTrend==='aumentando'?'text-green-600':milkTrend==='decayendo'?'text-red-600':'text-gray-600'),children:milkTrend==='aumentando'?'¡Aumentando! 📈':milkTrend==='decayendo'?'¡Decayendo! 📉':'Estable ↔️'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:milkAdvice})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 font-bold\",children:\"Tendencia de Carne:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold \".concat(meatTrend==='aumentando'?'text-green-600':meatTrend==='decayendo'?'text-red-600':'text-gray-600'),children:meatTrend==='aumentando'?'¡Aumentando! 📈':meatTrend==='decayendo'?'¡Decayendo! 📉':'Estable ↔️'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:meatAdvice})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-blue-50 mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Historial de Consejos de la IA\"}),aiAdviceHistory.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"A\\xFAn no hay consejos de la IA. \\xA1Registra m\\xE1s producci\\xF3n para obtenerlos!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"max-h-48 overflow-y-auto\",children:aiAdviceHistory.map((advice,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 p-2 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-800\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[advice.date,\" - \",advice.type.charAt(0).toUpperCase()+advice.type.slice(1),\":\"]}),\" \",advice.advice]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-gray-50 mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Registrar Nueva Producci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Animal:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"animalId\",className:\"w-full px-4 py-2 border rounded-lg\",value:productionData.animalId,onChange:handleProductionChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Animal\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Fecha de Registro:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaRegistro\",placeholder:\"Fecha de Registro\",className:\"w-full px-4 py-2 border rounded-lg\",value:productionData.fechaRegistro,onChange:handleProductionChange}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Tipo de Producci\\xF3n:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipoProduccion\",className:\"w-full px-4 py-2 border rounded-lg\",value:productionData.tipoProduccion,onChange:handleProductionChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Tipo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leche\",children:\"Leche\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carne\",children:\"Carne\"})]}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Cantidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"cantidad\",placeholder:\"Cantidad\",className:\"w-full px-4 py-2 border rounded-lg\",value:productionData.cantidad,onChange:handleProductionChange}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Unidad de Medida:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"unidadMedida\",placeholder:\"Unidad de Medida (ej. litros, kg)\",className:\"w-full px-4 py-2 border rounded-lg\",value:productionData.unidadMedida,onChange:handleProductionChange}),/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1 col-span-full\",children:\"Observaciones:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"observaciones\",placeholder:\"Observaciones\",rows:\"2\",className:\"w-full px-4 py-2 border rounded-lg col-span-full\",value:productionData.observaciones,onChange:handleProductionChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleProductionSubmit,className:\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",children:\"Registrar Producci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Historial de Producci\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExportProductionHistory('csv'),className:\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\",children:\"Exportar a CSV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleExportProductionHistory('pdf'),className:\"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\",children:\"Exportar a PDF\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto rounded-lg shadow-md\",children:/*#__PURE__*/_jsxs(\"table\",{ref:productionTableRef,className:\"min-w-full bg-white text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-800 text-white\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold rounded-tl-lg\",children:\"ID Registro\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"ID Animal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"Unidad\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-left font-semibold rounded-tr-lg\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:filteredProductionRecords.map(record=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-100 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.id}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.animalId}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.fechaRegistro}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.tipoProduccion}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.cantidad}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.unidadMedida}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:record.observaciones}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEditingProductionRecord(record),className:\"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProductionRecord(record.id),className:\"text-red-600 hover:text-red-800 font-medium transition-colors\",children:\"Eliminar\"})]})]},record.id))})]})}),editingRecord&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold mb-4 text-gray-800\",children:[\"Editar Registro de Producci\\xF3n: \",editingRecord.id]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"ID Animal:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"animalId\",className:\"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\",value:editingRecord.animalId,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Fecha Registro:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaRegistro\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:editingRecord.fechaRegistro,onChange:handleEditingProductionChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Tipo Producci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tipoProduccion\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:editingRecord.tipoProduccion,onChange:handleEditingProductionChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Cantidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"cantidad\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:editingRecord.cantidad,onChange:handleEditingProductionChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Unidad Medida:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"unidadMedida\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:editingRecord.unidadMedida,onChange:handleEditingProductionChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-1\",children:\"Observaciones:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"observaciones\",rows:\"3\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:editingRecord.observaciones,onChange:handleEditingProductionChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveEditedProductionRecord,className:\"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\",children:\"Guardar Cambios\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelEditingProductionRecord,className:\"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\",children:\"Cancelar Edici\\xF3n\"})]})]})]})]});};export default ProductionControlPage;// DONE","map":{"version":3,"names":["React","useState","useRef","useEffect","exportToCsv","exportTableToPdf","jsx","_jsx","jsxs","_jsxs","ProductionControlPage","_ref","animals","onUpdateAnimalProduction","onRegisterProductionRecord","productionRecords","setProductionRecords","currentUser","logoUrl","currentProductionSection","setCurrentProductionSection","productionData","setProductionData","animalId","fechaRegistro","tipoProduccion","cantidad","unidadMedida","observaciones","editingRecord","setEditingRecord","productionTableRef","milkTrend","setMilkTrend","meatTrend","setMeatTrend","milkAdvice","setMilkAdvice","meatAdvice","setMeatAdvice","aiAdviceHistory","setAiAdviceHistory","analyzeProductionAndAdvise","records","type","relevantRecords","filter","record","sort","a","b","Date","length","trend","advice","latestRecords","slice","increasingCount","decreasingCount","i","concat","milkT","milkA","prev","date","toISOString","split","meatT","meatA","handleProductionChange","e","name","value","target","_objectSpread","handleProductionSubmit","alert","id","now","toString","parseFloat","handleDeleteProductionRecord","recordId","window","confirm","updatedRecords","startEditingProductionRecord","handleEditingProductionChange","saveEditedProductionRecord","map","cancelEditingProductionRecord","handleExportProductionHistory","format","filename","farmName","adminName","fullName","current","filteredProductionRecords","className","children","onClick","index","charAt","toUpperCase","onChange","animal","placeholder","rows","ref","readOnly"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ProductionControlPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { exportToCsv, exportTableToPdf } from '../utils/exportHelpers'; // Importar funciones de exportación\n\nconst ProductionControlPage = ({ animals, onUpdateAnimalProduction, onRegisterProductionRecord, productionRecords, setProductionRecords, currentUser, logoUrl }) => {\n  const [currentProductionSection, setCurrentProductionSection] = useState('general'); // 'general', 'carne', 'leche'\n\n  const [productionData, setProductionData] = useState({\n    animalId: '',\n    fechaRegistro: '',\n    tipoProduccion: '', // 'leche', 'carne'\n    cantidad: '', // Cantidad de producción (ej. litros de leche, kg de carne)\n    unidadMedida: '', // 'litros', 'kg'\n    observaciones: '',\n  });\n\n  const [editingRecord, setEditingRecord] = useState(null); // To hold the record being edited\n  const productionTableRef = useRef(null); // Ref for the production history table\n\n  // Estados para el análisis de tendencias y consejos de IA\n  const [milkTrend, setMilkTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [meatTrend, setMeatTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [milkAdvice, setMilkAdvice] = useState('');\n  const [meatAdvice, setMeatAdvice] = useState('');\n  const [aiAdviceHistory, setAiAdviceHistory] = useState([]); // Nuevo estado para el historial de consejos\n\n  // Función para calcular la tendencia y generar consejos\n  const analyzeProductionAndAdvise = (records, type) => {\n    const relevantRecords = records\n      .filter(record => record.tipoProduccion === type)\n      .sort((a, b) => new Date(a.fechaRegistro) - new Date(b.fechaRegistro));\n\n    if (relevantRecords.length < 2) {\n      return { trend: 'estable', advice: 'Necesitamos más datos para analizar la tendencia de producción.' };\n    }\n\n    const latestRecords = relevantRecords.slice(-3); // Tomar los últimos 3 registros para un análisis simple\n\n    if (latestRecords.length < 2) {\n      return { trend: 'estable', advice: 'Necesitamos al menos dos registros para analizar la tendencia.' };\n    }\n\n    let increasingCount = 0;\n    let decreasingCount = 0;\n\n    for (let i = 1; i < latestRecords.length; i++) {\n      if (latestRecords[i].cantidad > latestRecords[i - 1].cantidad) {\n        increasingCount++;\n      } else if (latestRecords[i].cantidad < latestRecords[i - 1].cantidad) {\n        decreasingCount++;\n      }\n    }\n\n    let trend = 'estable';\n    let advice = '';\n\n    if (increasingCount > decreasingCount) {\n      trend = 'aumentando';\n      advice = `¡Excelente! La producción de ${type} está aumentando. Sigue con las buenas prácticas de alimentación y manejo.`;\n    } else if (decreasingCount > increasingCount) {\n      trend = 'decayendo';\n      advice = `¡Atención! La producción de ${type} está decayendo. Considera revisar la dieta, el estado de salud del animal o el manejo del estrés.`;\n    } else {\n      trend = 'estable';\n      advice = `La producción de ${type} se mantiene estable. Si buscas mejorarla, evalúa optimizar la alimentación o el confort del animal.`;\n    }\n\n    return { trend, advice };\n  };\n\n  useEffect(() => {\n    const { trend: milkT, advice: milkA } = analyzeProductionAndAdvise(productionRecords, 'leche');\n    setMilkTrend(milkT);\n    setMilkAdvice(milkA);\n    if (milkA && milkA !== 'Necesitamos más datos para analizar la tendencia de producción.' && milkA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, { date: new Date().toISOString().split('T')[0], type: 'leche', advice: milkA }]);\n    }\n\n    const { trend: meatT, advice: meatA } = analyzeProductionAndAdvise(productionRecords, 'carne');\n    setMeatTrend(meatT);\n    setMeatAdvice(meatA);\n    if (meatA && meatA !== 'Necesitamos más datos para analizar la tendencia de producción.' && meatA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, { date: new Date().toISOString().split('T')[0], type: 'carne', advice: meatA }]);\n    }\n  }, [productionRecords]);\n\n  const handleProductionChange = (e) => {\n    const { name, value } = e.target;\n    setProductionData({ ...productionData, [name]: value });\n  };\n\n  const handleProductionSubmit = () => {\n    const { animalId, fechaRegistro, tipoProduccion, cantidad, unidadMedida, observaciones } = productionData;\n\n    if (!animalId || !fechaRegistro || !tipoProduccion || !cantidad || !unidadMedida) {\n      alert('¡Ups! Para registrar la producción, necesitamos que completes todos los campos obligatorios. ¡No te rindas, ya casi lo logras!');\n      return;\n    }\n\n    onRegisterProductionRecord({\n      id: `PROD-${Date.now().toString().slice(-5)}`, // Generar ID único\n      animalId,\n      fechaRegistro,\n      tipoProduccion,\n      cantidad: parseFloat(cantidad),\n      unidadMedida,\n      observaciones,\n    });\n\n    alert('¡Producción registrada con éxito! ¡Tus animales son unos campeones!');\n    setProductionData({\n      animalId: '',\n      fechaRegistro: '',\n      tipoProduccion: '',\n      cantidad: '',\n      unidadMedida: '',\n      observaciones: '',\n    });\n  };\n\n  const handleDeleteProductionRecord = (recordId) => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar este registro de producción? ¡Esta acción no se puede deshacer!')) {\n      const updatedRecords = productionRecords.filter(record => record.id !== recordId);\n      setProductionRecords(updatedRecords); // Update state in App.js via prop\n      alert('¡Registro de producción eliminado! Como si nunca hubiera existido.');\n    }\n  };\n\n  const startEditingProductionRecord = (record) => {\n    setEditingRecord({ ...record }); // Create a copy to edit\n    alert('¡A editar se ha dicho! Modifica los campos y guarda los cambios.');\n  };\n\n  const handleEditingProductionChange = (e) => {\n    const { name, value } = e.target;\n    setEditingRecord(prev => ({ ...prev, [name]: value }));\n  };\n\n  const saveEditedProductionRecord = () => {\n    const updatedRecords = productionRecords.map(record =>\n      record.id === editingRecord.id ? editingRecord : record\n    );\n    setProductionRecords(updatedRecords); // Update state in App.js via prop\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Cambios guardados! Tu historial de producción está al día.');\n  };\n\n  const cancelEditingProductionRecord = () => {\n    setEditingRecord(null); // Exit editing mode\n    alert('¡Edición cancelada! No te preocupes, tus datos están a salvo.');\n  };\n\n  const handleExportProductionHistory = async (format) => {\n    if (productionRecords.length === 0) {\n      alert('¡No hay registros de producción para exportar! ¿Qué esperas para empezar a registrar?');\n      return;\n    }\n\n    const filename = `historial_produccion_${new Date().toISOString().split('T')[0]}`;\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n\n    if (format === 'csv') {\n      exportToCsv(productionRecords, filename);\n      alert('¡Exportando a CSV! Tu historial estará listo en un santiamén.');\n    } else if (format === 'pdf') {\n      await exportTableToPdf(productionTableRef.current, filename, 'Historial de Producción', farmName, adminName, logoUrl);\n      alert('¡Generando PDF! Tu historial se verá de lujo en papel.');\n    }\n  };\n\n  const filteredProductionRecords = productionRecords.filter(record => {\n    if (currentProductionSection === 'carne' && record.tipoProduccion !== 'carne') {\n      return false;\n    }\n    if (currentProductionSection === 'leche' && record.tipoProduccion !== 'leche') {\n      return false;\n    }\n    return true;\n  });\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control de Producción</h3>\n\n      <div className=\"flex justify-center mb-6 space-x-4\">\n        <button\n          onClick={() => setCurrentProductionSection('general')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'general' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          General\n        </button>\n        <button\n          onClick={() => setCurrentProductionSection('leche')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'leche' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Producción de Leche\n        </button>\n        <button\n          onClick={() => setCurrentProductionSection('carne')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'carne' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Producción de Carne\n        </button>\n      </div>\n\n      {/* Sección de Tendencias y Consejos */}\n      <div className=\"p-4 border rounded-lg bg-gray-100 mb-8\">\n        <h4 className=\"text-lg font-semibold mb-3\">Análisis de Tendencias de Producción</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <p className=\"text-gray-700 font-bold\">Tendencia de Leche:</p>\n            <span className={`text-lg font-semibold ${milkTrend === 'aumentando' ? 'text-green-600' : milkTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`}>\n              {milkTrend === 'aumentando' ? '¡Aumentando! 📈' : milkTrend === 'decayendo' ? '¡Decayendo! 📉' : 'Estable ↔️'}\n            </span>\n            <p className=\"text-sm text-gray-600 mt-1\">{milkAdvice}</p>\n          </div>\n          <div>\n            <p className=\"text-gray-700 font-bold\">Tendencia de Carne:</p>\n            <span className={`text-lg font-semibold ${meatTrend === 'aumentando' ? 'text-green-600' : meatTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`}>\n              {meatTrend === 'aumentando' ? '¡Aumentando! 📈' : meatTrend === 'decayendo' ? '¡Decayendo! 📉' : 'Estable ↔️'}\n            </span>\n            <p className=\"text-sm text-gray-600 mt-1\">{meatAdvice}</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Historial de Consejos de la IA */}\n      <div className=\"p-4 border rounded-lg bg-blue-50 mb-8\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Consejos de la IA</h4>\n        {aiAdviceHistory.length === 0 ? (\n          <p className=\"text-gray-600\">Aún no hay consejos de la IA. ¡Registra más producción para obtenerlos!</p>\n        ) : (\n          <div className=\"max-h-48 overflow-y-auto\">\n            {aiAdviceHistory.map((advice, index) => (\n              <div key={index} className=\"mb-2 p-2 bg-blue-100 rounded-lg\">\n                <p className=\"text-sm text-gray-800\">\n                  <span className=\"font-semibold\">{advice.date} - {advice.type.charAt(0).toUpperCase() + advice.type.slice(1)}:</span> {advice.advice}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Formulario de Registro de Producción */}\n      <div className=\"p-4 border rounded-lg bg-gray-50 mb-8\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Nueva Producción</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-1\">Animal:</label>\n          <select\n            name=\"animalId\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={productionData.animalId}\n            onChange={handleProductionChange}\n          >\n            <option value=\"\">Selecciona Animal</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Registro:</label>\n          <input\n            type=\"date\"\n            name=\"fechaRegistro\"\n            placeholder=\"Fecha de Registro\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={productionData.fechaRegistro}\n            onChange={handleProductionChange}\n          />\n          <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo de Producción:</label>\n          <select\n            name=\"tipoProduccion\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={productionData.tipoProduccion}\n            onChange={handleProductionChange}\n          >\n            <option value=\"\">Selecciona Tipo</option>\n            <option value=\"leche\">Leche</option>\n            <option value=\"carne\">Carne</option>\n          </select>\n          <label className=\"block text-gray-700 text-sm font-bold mb-1\">Cantidad:</label>\n          <input\n            type=\"number\"\n            name=\"cantidad\"\n            placeholder=\"Cantidad\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={productionData.cantidad}\n            onChange={handleProductionChange}\n          />\n          <label className=\"block text-gray-700 text-sm font-bold mb-1\">Unidad de Medida:</label>\n          <input\n            type=\"text\"\n            name=\"unidadMedida\"\n            placeholder=\"Unidad de Medida (ej. litros, kg)\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={productionData.unidadMedida}\n            onChange={handleProductionChange}\n          />\n          <label className=\"block text-gray-700 text-sm font-bold mb-1 col-span-full\">Observaciones:</label>\n          <textarea\n            name=\"observaciones\"\n            placeholder=\"Observaciones\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n            value={productionData.observaciones}\n            onChange={handleProductionChange}\n          ></textarea>\n        </div>\n        <button\n          onClick={handleProductionSubmit}\n          className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n        >\n          Registrar Producción\n        </button>\n      </div>\n\n      {/* Historial de Producción */}\n      <div className=\"p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Historial de Producción</h4>\n        <div className=\"flex justify-end mb-4\">\n          <button\n            onClick={() => handleExportProductionHistory('csv')}\n            className=\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\"\n          >\n            Exportar a CSV\n          </button>\n          <button\n            onClick={() => handleExportProductionHistory('pdf')}\n            className=\"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\"\n          >\n            Exportar a PDF\n          </button>\n        </div>\n        <div className=\"overflow-x-auto rounded-lg shadow-md\">\n          <table ref={productionTableRef} className=\"min-w-full bg-white text-sm\">\n            <thead className=\"bg-gray-800 text-white\">\n              <tr>\n                <th className=\"py-3 px-4 text-left font-semibold rounded-tl-lg\">ID Registro</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">ID Animal</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">Fecha</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">Tipo</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">Cantidad</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">Unidad</th>\n                <th className=\"py-3 px-4 text-left font-semibold\">Observaciones</th>\n                <th className=\"py-3 px-4 text-left font-semibold rounded-tr-lg\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {filteredProductionRecords.map((record) => (\n                <tr key={record.id} className=\"hover:bg-gray-100 transition-colors\">\n                  <td className=\"py-3 px-4\">{record.id}</td>\n                  <td className=\"py-3 px-4\">{record.animalId}</td>\n                  <td className=\"py-3 px-4\">{record.fechaRegistro}</td>\n                  <td className=\"py-3 px-4\">{record.tipoProduccion}</td>\n                  <td className=\"py-3 px-4\">{record.cantidad}</td>\n                  <td className=\"py-3 px-4\">{record.unidadMedida}</td>\n                  <td className=\"py-3 px-4\">{record.observaciones}</td>\n                  <td className=\"py-3 px-4\">\n                    <button\n                      onClick={() => startEditingProductionRecord(record)}\n                      className=\"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\"\n                    >\n                      Editar\n                    </button>\n                    <button\n                      onClick={() => handleDeleteProductionRecord(record.id)}\n                      className=\"text-red-600 hover:text-red-800 font-medium transition-colors\"\n                    >\n                      Eliminar\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Edit Form for Production Record */}\n        {editingRecord && (\n          <div className=\"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\">\n            <h4 className=\"text-lg font-semibold mb-4 text-gray-800\">Editar Registro de Producción: {editingRecord.id}</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">ID Animal:</label>\n                <input\n                  type=\"text\"\n                  name=\"animalId\"\n                  className=\"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\"\n                  value={editingRecord.animalId}\n                  readOnly\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha Registro:</label>\n                <input\n                  type=\"date\"\n                  name=\"fechaRegistro\"\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                  value={editingRecord.fechaRegistro}\n                  onChange={handleEditingProductionChange}\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo Producción:</label>\n                <input\n                  type=\"text\"\n                  name=\"tipoProduccion\"\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                  value={editingRecord.tipoProduccion}\n                  onChange={handleEditingProductionChange}\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Cantidad:</label>\n                <input\n                  type=\"number\"\n                  name=\"cantidad\"\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                  value={editingRecord.cantidad}\n                  onChange={handleEditingProductionChange}\n                />\n              </div>\n              <div>\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Unidad Medida:</label>\n                <input\n                  type=\"text\"\n                  name=\"unidadMedida\"\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                  value={editingRecord.unidadMedida}\n                  onChange={handleEditingProductionChange}\n                />\n              </div>\n              <div className=\"col-span-full\">\n                <label className=\"block text-gray-700 text-sm font-bold mb-1\">Observaciones:</label>\n                <textarea\n                  name=\"observaciones\"\n                  rows=\"3\"\n                  className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                  value={editingRecord.observaciones}\n                  onChange={handleEditingProductionChange}\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"mt-6 flex justify-end space-x-3\">\n              <button\n                onClick={saveEditedProductionRecord}\n                className=\"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\"\n              >\n                Guardar Cambios\n              </button>\n              <button\n                onClick={cancelEditingProductionRecord}\n                className=\"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\"\n              >\n                Cancelar Edición\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductionControlPage;\n\n// DONE"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}