{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\project (10)\\\\src\\\\components\\\\ProductionControlPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { exportToCsv, exportTableToPdf } from '../utils/exportHelpers'; // Importar funciones de exportaciÃ³n\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProductionControlPage = ({\n  animals,\n  onUpdateAnimalProduction,\n  onRegisterProductionRecord,\n  productionRecords,\n  setProductionRecords,\n  currentUser,\n  logoUrl\n}) => {\n  _s();\n  const [currentProductionSection, setCurrentProductionSection] = useState('general'); // 'general', 'leche', 'carne', 'potreros'\n\n  const [productionData, setProductionData] = useState({\n    animalId: '',\n    fechaRegistro: '',\n    tipoProduccion: '',\n    // 'leche', 'carne'\n    cantidad: '',\n    // Cantidad de producciÃ³n (ej. litros de leche, kg de carne)\n    unidadMedida: '',\n    // 'litros', 'kg'\n    observaciones: ''\n  });\n  const [editingRecord, setEditingRecord] = useState(null); // To hold the record being edited\n  const productionTableRef = useRef(null); // Ref for the production history table\n\n  // Estados para el anÃ¡lisis de tendencias y consejos de IA\n  const [milkTrend, setMilkTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [meatTrend, setMeatTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [milkAdvice, setMilkAdvice] = useState('');\n  const [meatAdvice, setMeatAdvice] = useState('');\n  const [aiAdviceHistory, setAiAdviceHistory] = useState([]); // Nuevo estado para el historial de consejos\n\n  // Estados para el control de potreros\n  const [pastureMap, setPastureMap] = useState(null);\n  const [pastureData, setPastureData] = useState({\n    name: '',\n    size: '',\n    // en hectÃ¡reas o m2\n    grassType: '',\n    status: 'disponible',\n    // 'disponible', 'en_uso', 'no_disponible'\n    lastUsedDate: '' // Fecha de finalizaciÃ³n de uso\n  });\n  const [pastures, setPastures] = useState([]); // Lista de potreros registrados\n\n  // FunciÃ³n para calcular la tendencia y generar consejos\n  const analyzeProductionAndAdvise = (records, type) => {\n    const relevantRecords = records.filter(record => record.tipoProduccion === type).sort((a, b) => new Date(a.fechaRegistro) - new Date(b.fechaRegistro));\n    if (relevantRecords.length < 2) {\n      return {\n        trend: 'estable',\n        advice: 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.'\n      };\n    }\n    const latestRecords = relevantRecords.slice(-3); // Tomar los Ãºltimos 3 registros para un anÃ¡lisis simple\n\n    if (latestRecords.length < 2) {\n      return {\n        trend: 'estable',\n        advice: 'Necesitamos al menos dos registros para analizar la tendencia.'\n      };\n    }\n    let increasingCount = 0;\n    let decreasingCount = 0;\n    for (let i = 1; i < latestRecords.length; i++) {\n      if (latestRecords[i].cantidad > latestRecords[i - 1].cantidad) {\n        increasingCount++;\n      } else if (latestRecords[i].cantidad < latestRecords[i - 1].cantidad) {\n        decreasingCount++;\n      }\n    }\n    let trend = 'estable';\n    let advice = '';\n    if (increasingCount > decreasingCount) {\n      trend = 'aumentando';\n      advice = `Â¡Excelente! La producciÃ³n de ${type} estÃ¡ aumentando. Sigue con las buenas prÃ¡cticas de alimentaciÃ³n y manejo.`;\n    } else if (decreasingCount > increasingCount) {\n      trend = 'decayendo';\n      advice = `Â¡AtenciÃ³n! La producciÃ³n de ${type} estÃ¡ decayendo. Considera revisar la dieta, el estado de salud del animal o el manejo del estrÃ©s.`;\n    } else {\n      trend = 'estable';\n      advice = `La producciÃ³n de ${type} se mantiene estable. Si buscas mejorarla, evalÃºa optimizar la alimentaciÃ³n o el confort del animal.`;\n    }\n    return {\n      trend,\n      advice\n    };\n  };\n  useEffect(() => {\n    const {\n      trend: milkT,\n      advice: milkA\n    } = analyzeProductionAndAdvise(productionRecords, 'leche');\n    setMilkTrend(milkT);\n    setMilkAdvice(milkA);\n    if (milkA && milkA !== 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.' && milkA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, {\n        date: new Date().toISOString().split('T')[0],\n        type: 'leche',\n        advice: milkA\n      }]);\n    }\n    const {\n      trend: meatT,\n      advice: meatA\n    } = analyzeProductionAndAdvise(productionRecords, 'carne');\n    setMeatTrend(meatT);\n    setMeatAdvice(meatA);\n    if (meatA && meatA !== 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.' && meatA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, {\n        date: new Date().toISOString().split('T')[0],\n        type: 'carne',\n        advice: meatA\n      }]);\n    }\n  }, [productionRecords]);\n  const handleProductionChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProductionData({\n      ...productionData,\n      [name]: value\n    });\n  };\n  const handleProductionSubmit = () => {\n    const {\n      animalId,\n      fechaRegistro,\n      tipoProduccion,\n      cantidad,\n      unidadMedida,\n      observaciones\n    } = productionData;\n    if (!animalId || !fechaRegistro || !tipoProduccion || !cantidad || !unidadMedida) {\n      alert('Â¡Ups! Para registrar la producciÃ³n, necesitamos que completes todos los campos obligatorios. Â¡No te rindas, ya casi lo logras!');\n      return;\n    }\n    onRegisterProductionRecord({\n      id: `PROD-${Date.now().toString().slice(-5)}`,\n      // Generar ID Ãºnico\n      animalId,\n      fechaRegistro,\n      tipoProduccion,\n      cantidad: parseFloat(cantidad),\n      unidadMedida,\n      observaciones\n    });\n    alert('Â¡ProducciÃ³n registrada con Ã©xito! Â¡Tus animales son unos campeones!');\n    setProductionData({\n      animalId: '',\n      fechaRegistro: '',\n      tipoProduccion: '',\n      cantidad: '',\n      unidadMedida: '',\n      observaciones: ''\n    });\n  };\n  const handleDeleteProductionRecord = recordId => {\n    if (window.confirm('Â¿EstÃ¡s seguro de que quieres eliminar este registro de producciÃ³n? Â¡Esta acciÃ³n no se puede deshacer!')) {\n      const updatedRecords = productionRecords.filter(record => record.id !== recordId);\n      setProductionRecords(updatedRecords); // Update state in App.js via prop\n      alert('Â¡Registro de producciÃ³n eliminado! Como si nunca hubiera existido.');\n    }\n  };\n  const startEditingProductionRecord = record => {\n    setEditingRecord({\n      ...record\n    }); // Create a copy to edit\n    alert('Â¡A editar se ha dicho! Modifica los campos y guarda los cambios.');\n  };\n  const handleEditingProductionChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditingRecord(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const saveEditedProductionRecord = () => {\n    const updatedRecords = productionRecords.map(record => record.id === editingRecord.id ? editingRecord : record);\n    setProductionRecords(updatedRecords); // Update state in App.js via prop\n    setEditingRecord(null); // Exit editing mode\n    alert('Â¡Cambios guardados! Tu historial de producciÃ³n estÃ¡ al dÃ­a.');\n  };\n  const cancelEditingProductionRecord = () => {\n    setEditingRecord(null); // Exit editing mode\n    alert('Â¡EdiciÃ³n cancelada! No te preocupes, tus datos estÃ¡n a salvo.');\n  };\n  const handleExportProductionHistory = async format => {\n    if (productionRecords.length === 0) {\n      alert('Â¡No hay registros de producciÃ³n para exportar! Â¿QuÃ© esperas para empezar a registrar?');\n      return;\n    }\n    const filename = `historial_produccion_${new Date().toISOString().split('T')[0]}`;\n    const farmName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.farmName) || 'Mi Finca Ganadera';\n    const adminName = (currentUser === null || currentUser === void 0 ? void 0 : currentUser.fullName) || 'Administrador';\n    if (format === 'csv') {\n      exportToCsv(productionRecords, filename);\n      alert('Â¡Exportando a CSV! Tu historial estarÃ¡ listo en un santiamÃ©n.');\n    } else if (format === 'pdf') {\n      await exportTableToPdf(productionTableRef.current, filename, 'Historial de ProducciÃ³n', farmName, adminName, logoUrl);\n      alert('Â¡Generando PDF! Tu historial se verÃ¡ de lujo en papel.');\n    }\n  };\n  const filteredProductionRecords = productionRecords.filter(record => {\n    if (currentProductionSection === 'carne' && record.tipoProduccion !== 'carne') {\n      return false;\n    }\n    if (currentProductionSection === 'leche' && record.tipoProduccion !== 'leche') {\n      return false;\n    }\n    return true;\n  });\n\n  // --- LÃ³gica de Potreros ---\n  const handlePastureMapUpload = e => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPastureMap(reader.result);\n        alert('Â¡Mapa de potreros subido con Ã©xito!');\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const handlePastureDataChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setPastureData({\n      ...pastureData,\n      [name]: value\n    });\n  };\n  const handleAddPasture = () => {\n    if (!pastureData.name || !pastureData.size || !pastureData.grassType) {\n      alert('Â¡Faltan datos! Por favor, completa el nombre, tamaÃ±o y tipo de pasto del potrero.');\n      return;\n    }\n    const newPasture = {\n      ...pastureData,\n      id: `POT-${Date.now().toString().slice(-5)}`\n    };\n    setPastures(prev => [...prev, newPasture]);\n    alert(`Â¡Potrero ${newPasture.name} registrado con Ã©xito!`);\n    setPastureData({\n      name: '',\n      size: '',\n      grassType: '',\n      status: 'disponible',\n      lastUsedDate: ''\n    });\n  };\n  const handleUsePasture = id => {\n    setPastures(prev => prev.map(p => p.id === id ? {\n      ...p,\n      status: 'en_uso',\n      lastUsedDate: ''\n    } : p));\n    alert('Â¡Potrero marcado como en uso!');\n  };\n  const handleFinalizePastureUse = id => {\n    setPastures(prev => prev.map(p => p.id === id ? {\n      ...p,\n      status: 'no_disponible',\n      lastUsedDate: new Date().toISOString().split('T')[0]\n    } : p));\n    alert('Â¡Uso de potrero finalizado! Iniciando periodo de descanso.');\n  };\n\n  // AutomatizaciÃ³n de estado de potreros\n  useEffect(() => {\n    const today = new Date();\n    const updatedPastures = pastures.map(p => {\n      if (p.status === 'no_disponible' && p.lastUsedDate) {\n        const lastUsed = new Date(p.lastUsedDate);\n        const diffTime = Math.abs(today - lastUsed);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDays >= 30) {\n          // 30 dÃ­as de descanso\n          return {\n            ...p,\n            status: 'disponible'\n          };\n        }\n      }\n      return p;\n    });\n    setPastures(updatedPastures);\n\n    // Aviso de potreros con mÃ¡s de 90 dÃ­as sin usar\n    pastures.forEach(p => {\n      if (p.status === 'disponible' && p.lastUsedDate) {\n        const lastUsed = new Date(p.lastUsedDate);\n        const diffTime = Math.abs(today - lastUsed);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDays > 90) {\n          console.warn(`Â¡AtenciÃ³n! El potrero ${p.name} lleva ${diffDays} dÃ­as sin usarse. Considera rotarlo.`);\n        }\n      }\n    });\n  }, [pastures]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Control de Producci\\xF3n y Potreros\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center mb-6 space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentProductionSection('general'),\n        className: `px-6 py-2 rounded-lg ${currentProductionSection === 'general' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"General\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentProductionSection('leche'),\n        className: `px-6 py-2 rounded-lg ${currentProductionSection === 'leche' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Producci\\xF3n de Leche\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentProductionSection('carne'),\n        className: `px-6 py-2 rounded-lg ${currentProductionSection === 'carne' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Producci\\xF3n de Carne\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentProductionSection('potreros'),\n        className: `px-6 py-2 rounded-lg ${currentProductionSection === 'potreros' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`,\n        children: \"Control de Potreros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), currentProductionSection !== 'potreros' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded-lg bg-gray-100 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"An\\xE1lisis de Tendencias de Producci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700 font-bold\",\n              children: \"Tendencia de Leche:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-lg font-semibold ${milkTrend === 'aumentando' ? 'text-green-600' : milkTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`,\n              children: milkTrend === 'aumentando' ? 'Â¡Aumentando! ðŸ“ˆ' : milkTrend === 'decayendo' ? 'Â¡Decayendo! ðŸ“‰' : 'Estable â†”ï¸'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: milkAdvice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700 font-bold\",\n              children: \"Tendencia de Carne:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-lg font-semibold ${meatTrend === 'aumentando' ? 'text-green-600' : meatTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`,\n              children: meatTrend === 'aumentando' ? 'Â¡Aumentando! ðŸ“ˆ' : meatTrend === 'decayendo' ? 'Â¡Decayendo! ðŸ“‰' : 'Estable â†”ï¸'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600 mt-1\",\n              children: meatAdvice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded-lg bg-blue-50 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Historial de Consejos de la IA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), aiAdviceHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"A\\xFAn no hay consejos de la IA. \\xA1Registra m\\xE1s producci\\xF3n para obtenerlos!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-h-48 overflow-y-auto\",\n          children: aiAdviceHistory.map((advice, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2 p-2 bg-blue-100 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: [advice.date, \" - \", advice.type.charAt(0).toUpperCase() + advice.type.slice(1), \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 23\n              }, this), \" \", advice.advice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 21\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded-lg bg-gray-50 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Registrar Nueva Producci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Animal:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"animalId\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: productionData.animalId,\n            onChange: handleProductionChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona Animal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), animals.map(animal => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: animal.id,\n              children: [animal.name, \" (\", animal.id, \")\"]\n            }, animal.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Fecha de Registro:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"fechaRegistro\",\n            placeholder: \"Fecha de Registro\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: productionData.fechaRegistro,\n            onChange: handleProductionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Tipo de Producci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"tipoProduccion\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: productionData.tipoProduccion,\n            onChange: handleProductionChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Selecciona Tipo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"leche\",\n              children: \"Leche\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"carne\",\n              children: \"Carne\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Cantidad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"cantidad\",\n            placeholder: \"Cantidad\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: productionData.cantidad,\n            onChange: handleProductionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1\",\n            children: \"Unidad de Medida:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"unidadMedida\",\n            placeholder: \"Unidad de Medida (ej. litros, kg)\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: productionData.unidadMedida,\n            onChange: handleProductionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-gray-700 text-sm font-bold mb-1 col-span-full\",\n            children: \"Observaciones:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"observaciones\",\n            placeholder: \"Observaciones\",\n            rows: \"2\",\n            className: \"w-full px-4 py-2 border rounded-lg col-span-full\",\n            value: productionData.observaciones,\n            onChange: handleProductionChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleProductionSubmit,\n          className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n          children: \"Registrar Producci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded-lg bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Historial de Producci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExportProductionHistory('csv'),\n            className: \"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\",\n            children: \"Exportar a CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleExportProductionHistory('pdf'),\n            className: \"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\",\n            children: \"Exportar a PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto rounded-lg shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            ref: productionTableRef,\n            className: \"min-w-full bg-white text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-800 text-white\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold rounded-tl-lg\",\n                  children: \"ID Registro\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"ID Animal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"Tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"Cantidad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"Unidad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold\",\n                  children: \"Observaciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-3 px-4 text-left font-semibold rounded-tr-lg\",\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"divide-y divide-gray-200\",\n              children: filteredProductionRecords.map(record => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-100 transition-colors\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.animalId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.fechaRegistro\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.tipoProduccion\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.cantidad\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.unidadMedida\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: record.observaciones\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-3 px-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => startEditingProductionRecord(record),\n                    className: \"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\",\n                    children: \"Editar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteProductionRecord(record.id),\n                    className: \"text-red-600 hover:text-red-800 font-medium transition-colors\",\n                    children: \"Eliminar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 23\n                }, this)]\n              }, record.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), editingRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-semibold mb-4 text-gray-800\",\n            children: [\"Editar Registro de Producci\\xF3n: \", editingRecord.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"ID Animal:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"animalId\",\n                className: \"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\",\n                value: editingRecord.animalId,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"Fecha Registro:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"fechaRegistro\",\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n                value: editingRecord.fechaRegistro,\n                onChange: handleEditingProductionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"Tipo Producci\\xF3n:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"tipoProduccion\",\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n                value: editingRecord.tipoProduccion,\n                onChange: handleEditingProductionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"Cantidad:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"cantidad\",\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n                value: editingRecord.cantidad,\n                onChange: handleEditingProductionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"Unidad Medida:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"unidadMedida\",\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n                value: editingRecord.unidadMedida,\n                onChange: handleEditingProductionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-gray-700 text-sm font-bold mb-1\",\n                children: \"Observaciones:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                name: \"observaciones\",\n                rows: \"3\",\n                className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",\n                value: editingRecord.observaciones,\n                onChange: handleEditingProductionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveEditedProductionRecord,\n              className: \"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\",\n              children: \"Guardar Cambios\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: cancelEditingProductionRecord,\n              className: \"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\",\n              children: \"Cancelar Edici\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), currentProductionSection === 'potreros' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border rounded-lg bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Control de Potreros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-gray-700 text-sm font-bold mb-2\",\n          children: \"Subir Mapa de Potreros (JPG)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/jpeg\",\n          onChange: handlePastureMapUpload,\n          className: \"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), pastureMap && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: pastureMap,\n            alt: \"Mapa de Potreros\",\n            className: \"max-h-64 mx-auto rounded-lg shadow-md\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border rounded-lg bg-gray-100 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"text-md font-semibold mb-3\",\n          children: \"Registrar Nuevo Potrero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Nombre/N\\xFAmero del Potrero\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: pastureData.name,\n            onChange: handlePastureDataChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"size\",\n            placeholder: \"Tama\\xF1o (ej. 10 ha, 5000 m\\xB2)\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: pastureData.size,\n            onChange: handlePastureDataChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"grassType\",\n            placeholder: \"Tipo de Pasto (ej. Brachiaria, Estrella)\",\n            className: \"w-full px-4 py-2 border rounded-lg\",\n            value: pastureData.grassType,\n            onChange: handlePastureDataChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddPasture,\n          className: \"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",\n          children: \"Registrar Potrero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-md font-semibold mb-3\",\n        children: \"Estado de Potreros\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto rounded-lg shadow-md\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full bg-white text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-800 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Nombre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Tama\\xF1o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 616,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Tipo de Pasto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 617,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"\\xDAltimo Uso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"py-3 px-4 text-left font-semibold\",\n                children: \"Acciones\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 613,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"divide-y divide-gray-200\",\n            children: pastures.map(pasture => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-100 transition-colors\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: pasture.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: pasture.size\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: pasture.grassType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `font-bold ${pasture.status === 'disponible' ? 'text-green-600' : pasture.status === 'en_uso' ? 'text-blue-600' : 'text-red-600'}`,\n                  children: pasture.status.replace('_', ' ').toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: pasture.lastUsedDate || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-4\",\n                children: [pasture.status === 'disponible' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUsePasture(pasture.id),\n                  className: \"text-blue-600 hover:underline mr-2\",\n                  children: \"Usar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 25\n                }, this), pasture.status === 'en_uso' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleFinalizePastureUse(pasture.id),\n                  className: \"text-orange-600 hover:underline mr-2\",\n                  children: \"Finalizar Uso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 639,\n                columnNumber: 21\n              }, this)]\n            }, pasture.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductionControlPage, \"iPFw8qWhD8isGy2O3Min/q54Ezo=\");\n_c = ProductionControlPage;\nexport default ProductionControlPage;\nvar _c;\n$RefreshReg$(_c, \"ProductionControlPage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","exportToCsv","exportTableToPdf","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductionControlPage","animals","onUpdateAnimalProduction","onRegisterProductionRecord","productionRecords","setProductionRecords","currentUser","logoUrl","_s","currentProductionSection","setCurrentProductionSection","productionData","setProductionData","animalId","fechaRegistro","tipoProduccion","cantidad","unidadMedida","observaciones","editingRecord","setEditingRecord","productionTableRef","milkTrend","setMilkTrend","meatTrend","setMeatTrend","milkAdvice","setMilkAdvice","meatAdvice","setMeatAdvice","aiAdviceHistory","setAiAdviceHistory","pastureMap","setPastureMap","pastureData","setPastureData","name","size","grassType","status","lastUsedDate","pastures","setPastures","analyzeProductionAndAdvise","records","type","relevantRecords","filter","record","sort","a","b","Date","length","trend","advice","latestRecords","slice","increasingCount","decreasingCount","i","milkT","milkA","prev","date","toISOString","split","meatT","meatA","handleProductionChange","e","value","target","handleProductionSubmit","alert","id","now","toString","parseFloat","handleDeleteProductionRecord","recordId","window","confirm","updatedRecords","startEditingProductionRecord","handleEditingProductionChange","saveEditedProductionRecord","map","cancelEditingProductionRecord","handleExportProductionHistory","format","filename","farmName","adminName","fullName","current","filteredProductionRecords","handlePastureMapUpload","file","files","reader","FileReader","onloadend","result","readAsDataURL","handlePastureDataChange","handleAddPasture","newPasture","handleUsePasture","p","handleFinalizePastureUse","today","updatedPastures","lastUsed","diffTime","Math","abs","diffDays","ceil","forEach","console","warn","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","index","charAt","toUpperCase","onChange","animal","placeholder","rows","ref","readOnly","accept","src","alt","pasture","replace","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/project (10)/src/components/ProductionControlPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { exportToCsv, exportTableToPdf } from '../utils/exportHelpers'; // Importar funciones de exportaciÃ³n\n\nconst ProductionControlPage = ({ animals, onUpdateAnimalProduction, onRegisterProductionRecord, productionRecords, setProductionRecords, currentUser, logoUrl }) => {\n  const [currentProductionSection, setCurrentProductionSection] = useState('general'); // 'general', 'leche', 'carne', 'potreros'\n\n  const [productionData, setProductionData] = useState({\n    animalId: '',\n    fechaRegistro: '',\n    tipoProduccion: '', // 'leche', 'carne'\n    cantidad: '', // Cantidad de producciÃ³n (ej. litros de leche, kg de carne)\n    unidadMedida: '', // 'litros', 'kg'\n    observaciones: '',\n  });\n\n  const [editingRecord, setEditingRecord] = useState(null); // To hold the record being edited\n  const productionTableRef = useRef(null); // Ref for the production history table\n\n  // Estados para el anÃ¡lisis de tendencias y consejos de IA\n  const [milkTrend, setMilkTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [meatTrend, setMeatTrend] = useState('estable'); // 'aumentando', 'decayendo', 'estable'\n  const [milkAdvice, setMilkAdvice] = useState('');\n  const [meatAdvice, setMeatAdvice] = useState('');\n  const [aiAdviceHistory, setAiAdviceHistory] = useState([]); // Nuevo estado para el historial de consejos\n\n  // Estados para el control de potreros\n  const [pastureMap, setPastureMap] = useState(null);\n  const [pastureData, setPastureData] = useState({\n    name: '',\n    size: '', // en hectÃ¡reas o m2\n    grassType: '',\n    status: 'disponible', // 'disponible', 'en_uso', 'no_disponible'\n    lastUsedDate: '', // Fecha de finalizaciÃ³n de uso\n  });\n  const [pastures, setPastures] = useState([]); // Lista de potreros registrados\n\n  // FunciÃ³n para calcular la tendencia y generar consejos\n  const analyzeProductionAndAdvise = (records, type) => {\n    const relevantRecords = records\n      .filter(record => record.tipoProduccion === type)\n      .sort((a, b) => new Date(a.fechaRegistro) - new Date(b.fechaRegistro));\n\n    if (relevantRecords.length < 2) {\n      return { trend: 'estable', advice: 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.' };\n    }\n\n    const latestRecords = relevantRecords.slice(-3); // Tomar los Ãºltimos 3 registros para un anÃ¡lisis simple\n\n    if (latestRecords.length < 2) {\n      return { trend: 'estable', advice: 'Necesitamos al menos dos registros para analizar la tendencia.' };\n    }\n\n    let increasingCount = 0;\n    let decreasingCount = 0;\n\n    for (let i = 1; i < latestRecords.length; i++) {\n      if (latestRecords[i].cantidad > latestRecords[i - 1].cantidad) {\n        increasingCount++;\n      } else if (latestRecords[i].cantidad < latestRecords[i - 1].cantidad) {\n        decreasingCount++;\n      }\n    }\n\n    let trend = 'estable';\n    let advice = '';\n\n    if (increasingCount > decreasingCount) {\n      trend = 'aumentando';\n      advice = `Â¡Excelente! La producciÃ³n de ${type} estÃ¡ aumentando. Sigue con las buenas prÃ¡cticas de alimentaciÃ³n y manejo.`;\n    } else if (decreasingCount > increasingCount) {\n      trend = 'decayendo';\n      advice = `Â¡AtenciÃ³n! La producciÃ³n de ${type} estÃ¡ decayendo. Considera revisar la dieta, el estado de salud del animal o el manejo del estrÃ©s.`;\n    } else {\n      trend = 'estable';\n      advice = `La producciÃ³n de ${type} se mantiene estable. Si buscas mejorarla, evalÃºa optimizar la alimentaciÃ³n o el confort del animal.`;\n    }\n\n    return { trend, advice };\n  };\n\n  useEffect(() => {\n    const { trend: milkT, advice: milkA } = analyzeProductionAndAdvise(productionRecords, 'leche');\n    setMilkTrend(milkT);\n    setMilkAdvice(milkA);\n    if (milkA && milkA !== 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.' && milkA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, { date: new Date().toISOString().split('T')[0], type: 'leche', advice: milkA }]);\n    }\n\n    const { trend: meatT, advice: meatA } = analyzeProductionAndAdvise(productionRecords, 'carne');\n    setMeatTrend(meatT);\n    setMeatAdvice(meatA);\n    if (meatA && meatA !== 'Necesitamos mÃ¡s datos para analizar la tendencia de producciÃ³n.' && meatA !== 'Necesitamos al menos dos registros para analizar la tendencia.') {\n      setAiAdviceHistory(prev => [...prev, { date: new Date().toISOString().split('T')[0], type: 'carne', advice: meatA }]);\n    }\n  }, [productionRecords]);\n\n  const handleProductionChange = (e) => {\n    const { name, value } = e.target;\n    setProductionData({ ...productionData, [name]: value });\n  };\n\n  const handleProductionSubmit = () => {\n    const { animalId, fechaRegistro, tipoProduccion, cantidad, unidadMedida, observaciones } = productionData;\n\n    if (!animalId || !fechaRegistro || !tipoProduccion || !cantidad || !unidadMedida) {\n      alert('Â¡Ups! Para registrar la producciÃ³n, necesitamos que completes todos los campos obligatorios. Â¡No te rindas, ya casi lo logras!');\n      return;\n    }\n\n    onRegisterProductionRecord({\n      id: `PROD-${Date.now().toString().slice(-5)}`, // Generar ID Ãºnico\n      animalId,\n      fechaRegistro,\n      tipoProduccion,\n      cantidad: parseFloat(cantidad),\n      unidadMedida,\n      observaciones,\n    });\n\n    alert('Â¡ProducciÃ³n registrada con Ã©xito! Â¡Tus animales son unos campeones!');\n    setProductionData({\n      animalId: '',\n      fechaRegistro: '',\n      tipoProduccion: '',\n      cantidad: '',\n      unidadMedida: '',\n      observaciones: '',\n    });\n  };\n\n  const handleDeleteProductionRecord = (recordId) => {\n    if (window.confirm('Â¿EstÃ¡s seguro de que quieres eliminar este registro de producciÃ³n? Â¡Esta acciÃ³n no se puede deshacer!')) {\n      const updatedRecords = productionRecords.filter(record => record.id !== recordId);\n      setProductionRecords(updatedRecords); // Update state in App.js via prop\n      alert('Â¡Registro de producciÃ³n eliminado! Como si nunca hubiera existido.');\n    }\n  };\n\n  const startEditingProductionRecord = (record) => {\n    setEditingRecord({ ...record }); // Create a copy to edit\n    alert('Â¡A editar se ha dicho! Modifica los campos y guarda los cambios.');\n  };\n\n  const handleEditingProductionChange = (e) => {\n    const { name, value } = e.target;\n    setEditingRecord(prev => ({ ...prev, [name]: value }));\n  };\n\n  const saveEditedProductionRecord = () => {\n    const updatedRecords = productionRecords.map(record =>\n      record.id === editingRecord.id ? editingRecord : record\n    );\n    setProductionRecords(updatedRecords); // Update state in App.js via prop\n    setEditingRecord(null); // Exit editing mode\n    alert('Â¡Cambios guardados! Tu historial de producciÃ³n estÃ¡ al dÃ­a.');\n  };\n\n  const cancelEditingProductionRecord = () => {\n    setEditingRecord(null); // Exit editing mode\n    alert('Â¡EdiciÃ³n cancelada! No te preocupes, tus datos estÃ¡n a salvo.');\n  };\n\n  const handleExportProductionHistory = async (format) => {\n    if (productionRecords.length === 0) {\n      alert('Â¡No hay registros de producciÃ³n para exportar! Â¿QuÃ© esperas para empezar a registrar?');\n      return;\n    }\n\n    const filename = `historial_produccion_${new Date().toISOString().split('T')[0]}`;\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n\n    if (format === 'csv') {\n      exportToCsv(productionRecords, filename);\n      alert('Â¡Exportando a CSV! Tu historial estarÃ¡ listo en un santiamÃ©n.');\n    } else if (format === 'pdf') {\n      await exportTableToPdf(productionTableRef.current, filename, 'Historial de ProducciÃ³n', farmName, adminName, logoUrl);\n      alert('Â¡Generando PDF! Tu historial se verÃ¡ de lujo en papel.');\n    }\n  };\n\n  const filteredProductionRecords = productionRecords.filter(record => {\n    if (currentProductionSection === 'carne' && record.tipoProduccion !== 'carne') {\n      return false;\n    }\n    if (currentProductionSection === 'leche' && record.tipoProduccion !== 'leche') {\n      return false;\n    }\n    return true;\n  });\n\n  // --- LÃ³gica de Potreros ---\n  const handlePastureMapUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPastureMap(reader.result);\n        alert('Â¡Mapa de potreros subido con Ã©xito!');\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handlePastureDataChange = (e) => {\n    const { name, value } = e.target;\n    setPastureData({ ...pastureData, [name]: value });\n  };\n\n  const handleAddPasture = () => {\n    if (!pastureData.name || !pastureData.size || !pastureData.grassType) {\n      alert('Â¡Faltan datos! Por favor, completa el nombre, tamaÃ±o y tipo de pasto del potrero.');\n      return;\n    }\n    const newPasture = { ...pastureData, id: `POT-${Date.now().toString().slice(-5)}` };\n    setPastures(prev => [...prev, newPasture]);\n    alert(`Â¡Potrero ${newPasture.name} registrado con Ã©xito!`);\n    setPastureData({ name: '', size: '', grassType: '', status: 'disponible', lastUsedDate: '' });\n  };\n\n  const handleUsePasture = (id) => {\n    setPastures(prev => prev.map(p => p.id === id ? { ...p, status: 'en_uso', lastUsedDate: '' } : p));\n    alert('Â¡Potrero marcado como en uso!');\n  };\n\n  const handleFinalizePastureUse = (id) => {\n    setPastures(prev => prev.map(p => p.id === id ? { ...p, status: 'no_disponible', lastUsedDate: new Date().toISOString().split('T')[0] } : p));\n    alert('Â¡Uso de potrero finalizado! Iniciando periodo de descanso.');\n  };\n\n  // AutomatizaciÃ³n de estado de potreros\n  useEffect(() => {\n    const today = new Date();\n    const updatedPastures = pastures.map(p => {\n      if (p.status === 'no_disponible' && p.lastUsedDate) {\n        const lastUsed = new Date(p.lastUsedDate);\n        const diffTime = Math.abs(today - lastUsed);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDays >= 30) { // 30 dÃ­as de descanso\n          return { ...p, status: 'disponible' };\n        }\n      }\n      return p;\n    });\n    setPastures(updatedPastures);\n\n    // Aviso de potreros con mÃ¡s de 90 dÃ­as sin usar\n    pastures.forEach(p => {\n      if (p.status === 'disponible' && p.lastUsedDate) {\n        const lastUsed = new Date(p.lastUsedDate);\n        const diffTime = Math.abs(today - lastUsed);\n        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        if (diffDays > 90) {\n          console.warn(`Â¡AtenciÃ³n! El potrero ${p.name} lleva ${diffDays} dÃ­as sin usarse. Considera rotarlo.`);\n        }\n      }\n    });\n  }, [pastures]);\n\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Control de ProducciÃ³n y Potreros</h3>\n\n      <div className=\"flex justify-center mb-6 space-x-4\">\n        <button\n          onClick={() => setCurrentProductionSection('general')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'general' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          General\n        </button>\n        <button\n          onClick={() => setCurrentProductionSection('leche')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'leche' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          ProducciÃ³n de Leche\n        </button>\n        <button\n          onClick={() => setCurrentProductionSection('carne')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'carne' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          ProducciÃ³n de Carne\n        </button>\n        <button\n          onClick={() => setCurrentProductionSection('potreros')}\n          className={`px-6 py-2 rounded-lg ${currentProductionSection === 'potreros' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-800'} hover:bg-blue-700 transition-colors`}\n        >\n          Control de Potreros\n        </button>\n      </div>\n\n      {currentProductionSection !== 'potreros' && (\n        <>\n          {/* SecciÃ³n de Tendencias y Consejos */}\n          <div className=\"p-4 border rounded-lg bg-gray-100 mb-8\">\n            <h4 className=\"text-lg font-semibold mb-3\">AnÃ¡lisis de Tendencias de ProducciÃ³n</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <p className=\"text-gray-700 font-bold\">Tendencia de Leche:</p>\n                <span className={`text-lg font-semibold ${milkTrend === 'aumentando' ? 'text-green-600' : milkTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`}>\n                  {milkTrend === 'aumentando' ? 'Â¡Aumentando! ðŸ“ˆ' : milkTrend === 'decayendo' ? 'Â¡Decayendo! ðŸ“‰' : 'Estable â†”ï¸'}\n                </span>\n                <p className=\"text-sm text-gray-600 mt-1\">{milkAdvice}</p>\n              </div>\n              <div>\n                <p className=\"text-gray-700 font-bold\">Tendencia de Carne:</p>\n                <span className={`text-lg font-semibold ${meatTrend === 'aumentando' ? 'text-green-600' : meatTrend === 'decayendo' ? 'text-red-600' : 'text-gray-600'}`}>\n                  {meatTrend === 'aumentando' ? 'Â¡Aumentando! ðŸ“ˆ' : meatTrend === 'decayendo' ? 'Â¡Decayendo! ðŸ“‰' : 'Estable â†”ï¸'}\n                </span>\n                <p className=\"text-sm text-gray-600 mt-1\">{meatAdvice}</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Historial de Consejos de la IA */}\n          <div className=\"p-4 border rounded-lg bg-blue-50 mb-8\">\n            <h4 className=\"text-lg font-semibold mb-3\">Historial de Consejos de la IA</h4>\n            {aiAdviceHistory.length === 0 ? (\n              <p className=\"text-gray-600\">AÃºn no hay consejos de la IA. Â¡Registra mÃ¡s producciÃ³n para obtenerlos!</p>\n            ) : (\n              <div className=\"max-h-48 overflow-y-auto\">\n                {aiAdviceHistory.map((advice, index) => (\n                  <div key={index} className=\"mb-2 p-2 bg-blue-100 rounded-lg\">\n                    <p className=\"text-sm text-gray-800\">\n                      <span className=\"font-semibold\">{advice.date} - {advice.type.charAt(0).toUpperCase() + advice.type.slice(1)}:</span> {advice.advice}\n                    </p>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Formulario de Registro de ProducciÃ³n */}\n          <div className=\"p-4 border rounded-lg bg-gray-50 mb-8\">\n            <h4 className=\"text-lg font-semibold mb-3\">Registrar Nueva ProducciÃ³n</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <label className=\"block text-gray-700 text-sm font-bold mb-1\">Animal:</label>\n              <select\n                name=\"animalId\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={productionData.animalId}\n                onChange={handleProductionChange}\n              >\n                <option value=\"\">Selecciona Animal</option>\n                {animals.map(animal => (\n                  <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n                ))}\n              </select>\n              <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha de Registro:</label>\n              <input\n                type=\"date\"\n                name=\"fechaRegistro\"\n                placeholder=\"Fecha de Registro\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={productionData.fechaRegistro}\n                onChange={handleProductionChange}\n              />\n              <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo de ProducciÃ³n:</label>\n              <select\n                name=\"tipoProduccion\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={productionData.tipoProduccion}\n                onChange={handleProductionChange}\n              >\n                <option value=\"\">Selecciona Tipo</option>\n                <option value=\"leche\">Leche</option>\n                <option value=\"carne\">Carne</option>\n              </select>\n              <label className=\"block text-gray-700 text-sm font-bold mb-1\">Cantidad:</label>\n              <input\n                type=\"number\"\n                name=\"cantidad\"\n                placeholder=\"Cantidad\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={productionData.cantidad}\n                onChange={handleProductionChange}\n              />\n              <label className=\"block text-gray-700 text-sm font-bold mb-1\">Unidad de Medida:</label>\n              <input\n                type=\"text\"\n                name=\"unidadMedida\"\n                placeholder=\"Unidad de Medida (ej. litros, kg)\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={productionData.unidadMedida}\n                onChange={handleProductionChange}\n              />\n              <label className=\"block text-gray-700 text-sm font-bold mb-1 col-span-full\">Observaciones:</label>\n              <textarea\n                name=\"observaciones\"\n                placeholder=\"Observaciones\"\n                rows=\"2\"\n                className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n                value={productionData.observaciones}\n                onChange={handleProductionChange}\n              ></textarea>\n            </div>\n            <button\n              onClick={handleProductionSubmit}\n              className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n            >\n              Registrar ProducciÃ³n\n            </button>\n          </div>\n\n          {/* Historial de ProducciÃ³n */}\n          <div className=\"p-4 border rounded-lg bg-gray-50\">\n            <h4 className=\"text-lg font-semibold mb-3\">Historial de ProducciÃ³n</h4>\n            <div className=\"flex justify-end mb-4\">\n              <button\n                onClick={() => handleExportProductionHistory('csv')}\n                className=\"bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\"\n              >\n                Exportar a CSV\n              </button>\n              <button\n                onClick={() => handleExportProductionHistory('pdf')}\n                className=\"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors\"\n              >\n                Exportar a PDF\n              </button>\n            </div>\n            <div className=\"overflow-x-auto rounded-lg shadow-md\">\n              <table ref={productionTableRef} className=\"min-w-full bg-white text-sm\">\n                <thead className=\"bg-gray-800 text-white\">\n                  <tr>\n                    <th className=\"py-3 px-4 text-left font-semibold rounded-tl-lg\">ID Registro</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">ID Animal</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">Fecha</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">Tipo</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">Cantidad</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">Unidad</th>\n                    <th className=\"py-3 px-4 text-left font-semibold\">Observaciones</th>\n                    <th className=\"py-3 px-4 text-left font-semibold rounded-tr-lg\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {filteredProductionRecords.map((record) => (\n                    <tr key={record.id} className=\"hover:bg-gray-100 transition-colors\">\n                      <td className=\"py-3 px-4\">{record.id}</td>\n                      <td className=\"py-3 px-4\">{record.animalId}</td>\n                      <td className=\"py-3 px-4\">{record.fechaRegistro}</td>\n                      <td className=\"py-3 px-4\">{record.tipoProduccion}</td>\n                      <td className=\"py-3 px-4\">{record.cantidad}</td>\n                      <td className=\"py-3 px-4\">{record.unidadMedida}</td>\n                      <td className=\"py-3 px-4\">{record.observaciones}</td>\n                      <td className=\"py-3 px-4\">\n                        <button\n                          onClick={() => startEditingProductionRecord(record)}\n                          className=\"text-blue-600 hover:text-blue-800 font-medium mr-2 transition-colors\"\n                        >\n                          Editar\n                        </button>\n                        <button\n                          onClick={() => handleDeleteProductionRecord(record.id)}\n                          className=\"text-red-600 hover:text-red-800 font-medium transition-colors\"\n                        >\n                          Eliminar\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n\n            {/* Edit Form for Production Record */}\n            {editingRecord && (\n              <div className=\"mt-8 p-6 border rounded-lg bg-yellow-50 shadow-lg\">\n                <h4 className=\"text-lg font-semibold mb-4 text-gray-800\">Editar Registro de ProducciÃ³n: {editingRecord.id}</h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">ID Animal:</label>\n                    <input\n                      type=\"text\"\n                      name=\"animalId\"\n                      className=\"w-full px-4 py-2 border rounded-lg bg-gray-200 cursor-not-allowed\"\n                      value={editingRecord.animalId}\n                      readOnly\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Fecha Registro:</label>\n                    <input\n                      type=\"date\"\n                      name=\"fechaRegistro\"\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                      value={editingRecord.fechaRegistro}\n                      onChange={handleEditingProductionChange}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Tipo ProducciÃ³n:</label>\n                    <input\n                      type=\"text\"\n                      name=\"tipoProduccion\"\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                      value={editingRecord.tipoProduccion}\n                      onChange={handleEditingProductionChange}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Cantidad:</label>\n                    <input\n                      type=\"number\"\n                      name=\"cantidad\"\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                      value={editingRecord.cantidad}\n                      onChange={handleEditingProductionChange}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Unidad Medida:</label>\n                    <input\n                      type=\"text\"\n                      name=\"unidadMedida\"\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                      value={editingRecord.unidadMedida}\n                      onChange={handleEditingProductionChange}\n                    />\n                  </div>\n                  <div className=\"col-span-full\">\n                    <label className=\"block text-gray-700 text-sm font-bold mb-1\">Observaciones:</label>\n                    <textarea\n                      name=\"observaciones\"\n                      rows=\"3\"\n                      className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n                      value={editingRecord.observaciones}\n                      onChange={handleEditingProductionChange}\n                    ></textarea>\n                  </div>\n                </div>\n                <div className=\"mt-6 flex justify-end space-x-3\">\n                  <button\n                    onClick={saveEditedProductionRecord}\n                    className=\"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition-colors shadow-md\"\n                  >\n                    Guardar Cambios\n                  </button>\n                  <button\n                    onClick={cancelEditingProductionRecord}\n                    className=\"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-700 transition-colors shadow-md\"\n                  >\n                    Cancelar EdiciÃ³n\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n\n      {currentProductionSection === 'potreros' && (\n        <div className=\"p-4 border rounded-lg bg-gray-50\">\n          <h4 className=\"text-lg font-semibold mb-3\">Control de Potreros</h4>\n\n          {/* Subir Mapa de Potreros */}\n          <div className=\"mb-6\">\n            <label className=\"block text-gray-700 text-sm font-bold mb-2\">Subir Mapa de Potreros (JPG)</label>\n            <input\n              type=\"file\"\n              accept=\"image/jpeg\"\n              onChange={handlePastureMapUpload}\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            />\n            {pastureMap && (\n              <div className=\"mt-4 text-center\">\n                <img src={pastureMap} alt=\"Mapa de Potreros\" className=\"max-h-64 mx-auto rounded-lg shadow-md\" />\n              </div>\n            )}\n          </div>\n\n          {/* Registrar Potrero */}\n          <div className=\"p-4 border rounded-lg bg-gray-100 mb-6\">\n            <h5 className=\"text-md font-semibold mb-3\">Registrar Nuevo Potrero</h5>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Nombre/NÃºmero del Potrero\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={pastureData.name}\n                onChange={handlePastureDataChange}\n              />\n              <input\n                type=\"text\"\n                name=\"size\"\n                placeholder=\"TamaÃ±o (ej. 10 ha, 5000 mÂ²)\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={pastureData.size}\n                onChange={handlePastureDataChange}\n              />\n              <input\n                type=\"text\"\n                name=\"grassType\"\n                placeholder=\"Tipo de Pasto (ej. Brachiaria, Estrella)\"\n                className=\"w-full px-4 py-2 border rounded-lg\"\n                value={pastureData.grassType}\n                onChange={handlePastureDataChange}\n              />\n            </div>\n            <button\n              onClick={handleAddPasture}\n              className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n            >\n              Registrar Potrero\n            </button>\n          </div>\n\n          {/* Lista de Potreros */}\n          <h5 className=\"text-md font-semibold mb-3\">Estado de Potreros</h5>\n          <div className=\"overflow-x-auto rounded-lg shadow-md\">\n            <table className=\"min-w-full bg-white text-sm\">\n              <thead className=\"bg-gray-800 text-white\">\n                <tr>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Nombre</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">TamaÃ±o</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Tipo de Pasto</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Estado</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Ãšltimo Uso</th>\n                  <th className=\"py-3 px-4 text-left font-semibold\">Acciones</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {pastures.map(pasture => (\n                  <tr key={pasture.id} className=\"hover:bg-gray-100 transition-colors\">\n                    <td className=\"py-3 px-4\">{pasture.name}</td>\n                    <td className=\"py-3 px-4\">{pasture.size}</td>\n                    <td className=\"py-3 px-4\">{pasture.grassType}</td>\n                    <td className=\"py-3 px-4\">\n                      <span className={`font-bold ${\n                        pasture.status === 'disponible' ? 'text-green-600' :\n                        pasture.status === 'en_uso' ? 'text-blue-600' :\n                        'text-red-600'\n                      }`}>\n                        {pasture.status.replace('_', ' ').toUpperCase()}\n                      </span>\n                    </td>\n                    <td className=\"py-3 px-4\">{pasture.lastUsedDate || 'N/A'}</td>\n                    <td className=\"py-3 px-4\">\n                      {pasture.status === 'disponible' && (\n                        <button\n                          onClick={() => handleUsePasture(pasture.id)}\n                          className=\"text-blue-600 hover:underline mr-2\"\n                        >\n                          Usar\n                        </button>\n                      )}\n                      {pasture.status === 'en_uso' && (\n                        <button\n                          onClick={() => handleFinalizePastureUse(pasture.id)}\n                          className=\"text-orange-600 hover:underline mr-2\"\n                        >\n                          Finalizar Uso\n                        </button>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProductionControlPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}