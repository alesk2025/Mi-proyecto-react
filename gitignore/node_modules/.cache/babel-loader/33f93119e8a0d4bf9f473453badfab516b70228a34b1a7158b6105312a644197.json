{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import jsPDF from'jspdf';import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimalRegistrationPage=_ref=>{let{onRegisterAnimal,onUpdateAnimalProduction,animals,currentUser}=_ref;const[animalData,setAnimalData]=useState({id:'',// Campo para el ID manual\nname:'',raza:'',peso:'',sexo:'',fechaNacimiento:'',fechaCompra:'',tipoProduccion:'',dailyMilk:0,foto:null,idpadre:'',idmadre:'',estadoReproductivo:'Desarrollo',edadClasificada:''// Nuevo campo para la clasificación de edad\n});const[selectedAnimalForGenealogy,setSelectedAnimalForGenealogy]=useState('');const[genealogyTree,setGenealogyTree]=useState(null);// Función para calcular la edad y clasificar el animal\nconst classifyAnimalAge=(fechaNacimiento,sexo)=>{if(!fechaNacimiento)return'';const birthDate=new Date(fechaNacimiento);const today=new Date();const diffTime=Math.abs(today-birthDate);const diffDays=Math.ceil(diffTime/(1000*60*60*24));if(sexo==='macho'){if(diffDays<=365)return'Ternero';// Hasta 1 año\nif(diffDays>365&&diffDays<=730)return'Mauto';// 1 a 2 años\nif(diffDays>730)return'Toro';// Más de 2 años\n}else if(sexo==='hembra'){if(diffDays<=365)return'Ternera';// Hasta 1 año\nif(diffDays>365&&diffDays<=730)return'Mauta';// 1 a 2 años\nif(diffDays>730&&diffDays<=1095)return'Novilla';// 2 a 3 años\nif(diffDays>1095)return'Vaca';// Más de 3 años\n}return'';};useEffect(()=>{const{fechaNacimiento,sexo}=animalData;if(fechaNacimiento&&sexo){setAnimalData(prevData=>_objectSpread(_objectSpread({},prevData),{},{edadClasificada:classifyAnimalAge(fechaNacimiento,sexo)}));}else{setAnimalData(prevData=>_objectSpread(_objectSpread({},prevData),{},{edadClasificada:''}));}},[animalData.fechaNacimiento,animalData.sexo]);const handleInputChange=e=>{const{name,value}=e.target;setAnimalData(_objectSpread(_objectSpread({},animalData),{},{[name]:value}));};const handleFileChange=e=>{setAnimalData(_objectSpread(_objectSpread({},animalData),{},{foto:e.target.files[0]}));};const handleSubmit=()=>{if(!animalData.id){alert('Por favor, ingresa un ID para el animal.');return;}// Validar que el ID sea único\nif(animals.some(animal=>animal.id===animalData.id)){alert('El ID del animal ya existe. Por favor, ingresa un ID único.');return;}const animalToRegister=_objectSpread({},animalData);onRegisterAnimal(animalToRegister);alert(\"Animal \".concat(animalToRegister.name,\" (\").concat(animalToRegister.id,\") registrado.\"));setAnimalData({id:'',name:'',raza:'',peso:'',sexo:'',fechaNacimiento:'',fechaCompra:'',tipoProduccion:'',dailyMilk:0,foto:null,idpadre:'',idmadre:'',estadoReproductivo:'desarrollo',edadClasificada:''});};const handleDownloadPDF=(animal,currentUser)=>{if(!animal||!animal.id){alert('Por favor, selecciona un animal válido.');return;}const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const logoPlaceholder='https://via.placeholder.com/80x80?text=LOGO';// Logo más grande\nconst qrURL=\"https://api.qrserver.com/v1/create-qr-code/?data=\".concat(animal.id,\"&size=100x100\");// QR más grande\nconst tempDiv=document.createElement('div');tempDiv.style.width='210mm';// Ancho A4\ntempDiv.style.padding='15mm';// Menos padding para más contenido\ntempDiv.style.fontFamily='Arial, sans-serif';tempDiv.style.fontSize='10pt';tempDiv.style.backgroundColor='#f8f8f8';// Fondo ligeramente gris\ntempDiv.style.position='absolute';tempDiv.style.left='-9999px';tempDiv.style.top='-9999px';const colorEstado=animal.estadoReproductivo==='en_produccion'?'#27ae60':animal.estadoReproductivo==='seca'?'#e67e22':animal.estadoReproductivo==='preñada'?'#9b59b6':'#7f8c8d';tempDiv.innerHTML=\"\\n      <div style=\\\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\\">\\n        <div style=\\\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\\\">\\n          <img src=\\\"\".concat(logoPlaceholder,\"\\\" style=\\\"width: 80px; height: 80px; border-radius: 50%; object-fit: cover;\\\" alt=\\\"Logo Finca\\\">\\n          <div style=\\\"text-align: right;\\\">\\n            <h1 style=\\\"margin: 0; font-size: 24pt; font-weight: bold;\\\">\").concat(farmName,\"</h1>\\n            <p style=\\\"margin: 0; font-size: 12pt; opacity: 0.8;\\\">Ficha de Registro Animal</p>\\n          </div>\\n        </div>\\n\\n        <div style=\\\"padding: 25px; display: flex; gap: 25px; align-items: flex-start;\\\">\\n          <div style=\\\"flex-shrink: 0; text-align: center;\\\">\\n            <img src=\\\"\").concat(animal.foto?URL.createObjectURL(animal.foto):'https://via.placeholder.com/150x150?text=Sin+Foto',\"\\\" style=\\\"width: 150px; height: 150px; border-radius: 8px; object-fit: cover; border: 2px solid #eee; box-shadow: 0 2px 4px rgba(0,0,0,0.05);\\\" alt=\\\"Foto del animal\\\">\\n            <h2 style=\\\"font-size: 18pt; margin-top: 15px; margin-bottom: 5px; color: #333;\\\">\").concat(animal.name||'N/A',\"</h2>\\n            <p style=\\\"font-size: 12pt; color: #777; margin: 0;\\\">ID: \").concat(animal.id||'N/A',\"</p>\\n          </div>\\n          <div style=\\\"flex-grow: 1;\\\">\\n            <table style=\\\"width: 100%; border-collapse: collapse; margin-top: 10px;\\\">\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Raza:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.raza||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Peso:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.peso||'N/A',\" kg</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Sexo:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.sexo||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Fecha Nacimiento:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.fechaNacimiento||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Clasificaci\\xF3n Edad:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.edadClasificada||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Fecha Compra:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.fechaCompra||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>ID Padre:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.idpadre||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>ID Madre:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.idmadre||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Estado Reproductivo:</strong></td><td style=\\\"padding: 8px 0; color: \").concat(colorEstado,\"; font-weight: bold;\\\">\").concat(animal.estadoReproductivo||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Tipo Producci\\xF3n:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.tipoProduccion||'N/A',\"</td></tr>\\n              <tr style=\\\"border-bottom: 1px solid #eee;\\\"><td style=\\\"padding: 8px 0;\\\"><strong>Litros Leche Diarios:</strong></td><td style=\\\"padding: 8px 0;\\\">\").concat(animal.dailyMilk||'N/A',\"</td></tr>\\n            </table>\\n          </div>\\n        </div>\\n\\n        <div style=\\\"text-align: center; padding: 20px; background-color: #f0f0f0; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\\\">\\n          <img src=\\\"\").concat(qrURL,\"\\\" style=\\\"width: 100px; height: 100px; margin-bottom: 10px;\\\" alt=\\\"QR Code del animal\\\">\\n          <p style=\\\"font-size: 9pt; color: #555; margin: 0;\\\">Escanea para m\\xE1s informaci\\xF3n</p>\\n        </div>\\n\\n        <div style=\\\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\\\">\\n          <p style=\\\"margin: 0;\\\">Generado por Campo Inteligente | Administrador: \").concat(adminName,\"</p>\\n          <p style=\\\"margin: 0;\\\">Fecha de Generaci\\xF3n: \").concat(new Date().toLocaleDateString(),\"</p>\\n        </div>\\n      </div>\\n    \");document.body.appendChild(tempDiv);html2canvas(tempDiv,{scale:2,useCORS:true}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"ficha_animal_\".concat(animal.name||'sin_nombre',\"_\").concat(animal.id||'sin_id',\".pdf\"));document.body.removeChild(tempDiv);});};const handleUpdateProduction=()=>{if(animalData.id){onUpdateAnimalProduction(animalData.id,animalData.estadoReproductivo,animalData.dailyMilk);alert(\"Producci\\xF3n/Estado de \".concat(animalData.id,\" actualizado.\"));}else{alert('Por favor, ingresa el ID del animal para actualizar su producción/estado.');}};// --- Lógica del Árbol Genealógico ---\nconst buildGenealogyTree=(animalId,allAnimals)=>{const animal=allAnimals.find(a=>a.id===animalId);if(!animal)return null;const tree={id:animal.id,name:animal.name,raza:animal.raza,sexo:animal.sexo,children:[]};// Buscar hijos directos\nconst children=allAnimals.filter(a=>a.idpadre===animal.id||a.idmadre===animal.id);if(children.length>0){tree.children=children.map(child=>({id:child.id,name:child.name,raza:child.raza,sexo:child.sexo}));}// Buscar padres directos\nif(animal.idpadre){tree.father=allAnimals.find(a=>a.id===animal.idpadre);}if(animal.idmadre){tree.mother=allAnimals.find(a=>a.id===animal.idmadre);}return tree;};const handleViewGenealogy=()=>{if(!selectedAnimalForGenealogy){alert('Por favor, selecciona un animal para ver su árbol genealógico.');return;}const tree=buildGenealogyTree(selectedAnimalForGenealogy,animals);setGenealogyTree(tree);if(!tree){alert('Animal no encontrado o sin información genealógica.');}};const handleDownloadGenealogyPDF=()=>{if(!genealogyTree){alert('Primero visualiza un árbol genealógico para descargarlo.');return;}const farmName=(currentUser===null||currentUser===void 0?void 0:currentUser.farmName)||'Mi Finca Ganadera';const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const logoPlaceholder='https://via.placeholder.com/60x60?text=LOGO';// Logo más pequeño para el árbol\nconst treeDiv=document.createElement('div');treeDiv.style.width='210mm';// Ancho A4\ntreeDiv.style.padding='15mm';treeDiv.style.fontFamily='Arial, sans-serif';treeDiv.style.fontSize='10pt';treeDiv.style.backgroundColor='#f8f8f8';treeDiv.style.position='absolute';treeDiv.style.left='-9999px';treeDiv.style.top='-9999px';// Función para renderizar un nodo del árbol con estilo moderno\nconst renderNode=function(node){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'main';let bgColor='#e0f7fa';// Default for main\nlet textColor='#00796b';let borderColor='#00bcd4';let title='Animal Principal';if(type==='father'){bgColor='#e8f5e9';textColor='#2e7d32';borderColor='#4caf50';title='Padre';}else if(type==='mother'){bgColor='#fce4ec';textColor='#c2185b';borderColor='#e91e63';title='Madre';}else if(type==='child'){bgColor='#fff3e0';textColor='#ef6c00';borderColor='#ff9800';title='Hijo/a';}return\"\\n        <div style=\\\"background-color: \".concat(bgColor,\"; border: 1px solid \").concat(borderColor,\"; border-radius: 8px; padding: 15px; margin-bottom: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);\\\">\\n          <h4 style=\\\"margin: 0 0 8px 0; font-size: 12pt; color: \").concat(textColor,\"; font-weight: bold;\\\">\").concat(title,\"</h4>\\n          <p style=\\\"margin: 0; font-size: 11pt; color: #333;\\\"><strong>\").concat(node.name,\"</strong> (\").concat(node.id,\")</p>\\n          <p style=\\\"margin: 5px 0 0 0; font-size: 10pt; color: #555;\\\">Raza: \").concat(node.raza,\", Sexo: \").concat(node.sexo,\"</p>\\n        </div>\\n      \");};treeDiv.innerHTML=\"\\n      <div style=\\\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\\\">\\n        <div style=\\\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\\\">\\n          <img src=\\\"\".concat(logoPlaceholder,\"\\\" style=\\\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\\\" alt=\\\"Logo Finca\\\">\\n          <div style=\\\"text-align: right;\\\">\\n            <h1 style=\\\"margin: 0; font-size: 20pt; font-weight: bold;\\\">\").concat(farmName,\"</h1>\\n            <p style=\\\"margin: 0; font-size: 10pt; opacity: 0.8;\\\">\\xC1rbol Geneal\\xF3gico</p>\\n          </div>\\n        </div>\\n\\n        <div style=\\\"padding: 25px;\\\">\\n          <h3 style=\\\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\\\">Genealog\\xEDa de \").concat(genealogyTree.name,\" (\").concat(genealogyTree.id,\")</h3>\\n          \\n          <div style=\\\"display: flex; flex-direction: column; align-items: center;\\\">\\n            \").concat(renderNode(genealogyTree,'main'),\"\\n            \\n            <div style=\\\"display: flex; justify-content: center; gap: 20px; width: 100%; margin-top: 20px;\\\">\\n              \").concat(genealogyTree.father?renderNode(genealogyTree.father,'father'):'',\"\\n              \").concat(genealogyTree.mother?renderNode(genealogyTree.mother,'mother'):'',\"\\n            </div>\\n\\n            \").concat(genealogyTree.children.length>0?\"\\n              <h4 style=\\\"font-size: 14pt; margin-top: 30px; margin-bottom: 15px; color: #333;\\\">Hijos Directos:</h4>\\n              <div style=\\\"display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; width: 100%;\\\">\\n                \".concat(genealogyTree.children.map(child=>renderNode(child,'child')).join(''),\"\\n              </div>\\n            \"):'',\"\\n          </div>\\n        </div>\\n\\n        <div style=\\\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\\\">\\n          <p style=\\\"margin: 0;\\\">Generado por Campo Inteligente | Administrador: \").concat(adminName,\"</p>\\n          <p style=\\\"margin: 0;\\\">Fecha de Generaci\\xF3n: \").concat(new Date().toLocaleDateString(),\"</p>\\n        </div>\\n      </div>\\n    \");document.body.appendChild(treeDiv);html2canvas(treeDiv,{scale:2,useCORS:true}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"arbol_genealogico_\".concat(genealogyTree.name||'sin_nombre',\"_\").concat(genealogyTree.id||'sin_id',\".pdf\"));document.body.removeChild(treeDiv);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Registro Animal Avanzado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID del Animal (\\xDAnico)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.id,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre del Animal\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.name,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"raza\",placeholder:\"Raza\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.raza,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"peso\",placeholder:\"Peso\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.peso,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"sexo\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.sexo,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Sexo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"macho\",children:\"Macho\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hembra\",children:\"Hembra\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaNacimiento\",placeholder:\"Fecha de Nacimiento\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.fechaNacimiento,onChange:handleInputChange}),animalData.edadClasificada&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"edadClasificada\",placeholder:\"Clasificaci\\xF3n de Edad\",className:\"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\",value:animalData.edadClasificada,readOnly:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"fechaCompra\",placeholder:\"Fecha de Compra (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.fechaCompra,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipoProduccion\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.tipoProduccion,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Tipo de Producci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"carne\",children:\"Carne\"}),/*#__PURE__*/_jsx(\"option\",{value:\"leche\",children:\"Leche\"})]}),animalData.tipoProduccion==='leche'&&animalData.sexo==='hembra'&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dailyMilk\",placeholder:\"Litros Promedio Diarios\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.dailyMilk,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"idpadre\",placeholder:\"ID Padre (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.idpadre,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"idmadre\",placeholder:\"ID Madre (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.idmadre,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 text-sm font-bold mb-2\",children:\"Foto del Animal\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"foto\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",onChange:handleFileChange})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"mt-6 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors mr-2\",children:\"Registrar Animal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDownloadPDF(animalData,currentUser)// Pasar el animalData actual para generar PDF\n,className:\"mt-6 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\",children:\"Descargar Ficha PDF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Actualizar Producci\\xF3n/Estado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",placeholder:\"ID del Animal a Actualizar\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.id,onChange:handleInputChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"estadoReproductivo\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.estadoReproductivo,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"desarrollo\",children:\"En Desarrollo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_produccion\",children:\"En Producci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"seca\",children:\"Seca\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pre\\xF1ada\",children:\"Pre\\xF1ada\"})]}),animalData.estadoReproductivo==='en_produccion'&&animalData.tipoProduccion==='leche'&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dailyMilk\",placeholder:\"Litros de leche diarios\",className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:animalData.dailyMilk,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdateProduction,className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\",children:\"Actualizar Producci\\xF3n\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"\\xC1rbol Geneal\\xF3gico\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\",value:selectedAnimalForGenealogy,onChange:e=>setSelectedAnimalForGenealogy(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Animal para Genealog\\xEDa\"}),animals.map(animal=>/*#__PURE__*/_jsxs(\"option\",{value:animal.id,children:[animal.name,\" (\",animal.id,\")\"]},animal.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewGenealogy,className:\"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\",children:\"Ver \\xC1rbol Geneal\\xF3gico\"})]}),genealogyTree&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"font-semibold\",children:[\"\\xC1rbol Geneal\\xF3gico de \",genealogyTree.name,\" (\",genealogyTree.id,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Raza: \",genealogyTree.raza,\", Sexo: \",genealogyTree.sexo]}),genealogyTree.father&&/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"Padre: \",genealogyTree.father.name,\" (\",genealogyTree.father.id,\")\"]}),genealogyTree.mother&&/*#__PURE__*/_jsxs(\"p\",{className:\"ml-4\",children:[\"Madre: \",genealogyTree.mother.name,\" (\",genealogyTree.mother.id,\")\"]}),genealogyTree.children.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:\"Hijos:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside ml-4\",children:genealogyTree.children.map(child=>/*#__PURE__*/_jsxs(\"li\",{children:[child.name,\" (\",child.id,\") - \",child.raza]},child.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDownloadGenealogyPDF,className:\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\",children:\"Descargar \\xC1rbol (PDF)\"})]})]})]});};export default AnimalRegistrationPage;// DONE","map":{"version":3,"names":["React","useState","useEffect","jsPDF","html2canvas","jsx","_jsx","jsxs","_jsxs","AnimalRegistrationPage","_ref","onRegisterAnimal","onUpdateAnimalProduction","animals","currentUser","animalData","setAnimalData","id","name","raza","peso","sexo","fechaNacimiento","fechaCompra","tipoProduccion","dailyMilk","foto","idpadre","idmadre","estadoReproductivo","edadClasificada","selectedAnimalForGenealogy","setSelectedAnimalForGenealogy","genealogyTree","setGenealogyTree","classifyAnimalAge","birthDate","Date","today","diffTime","Math","abs","diffDays","ceil","prevData","_objectSpread","handleInputChange","e","value","target","handleFileChange","files","handleSubmit","alert","some","animal","animalToRegister","concat","handleDownloadPDF","farmName","adminName","fullName","logoPlaceholder","qrURL","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","backgroundColor","position","left","top","colorEstado","innerHTML","URL","createObjectURL","toLocaleDateString","body","appendChild","scale","useCORS","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","handleUpdateProduction","buildGenealogyTree","animalId","allAnimals","find","a","tree","children","filter","length","map","child","father","mother","handleViewGenealogy","handleDownloadGenealogyPDF","treeDiv","renderNode","node","type","arguments","undefined","bgColor","textColor","borderColor","title","join","className","placeholder","onChange","readOnly","onClick"],"sources":["C:/Users/User/Downloads/project (10)/src/components/AnimalRegistrationPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst AnimalRegistrationPage = ({ onRegisterAnimal, onUpdateAnimalProduction, animals, currentUser }) => {\n  const [animalData, setAnimalData] = useState({\n    id: '', // Campo para el ID manual\n    name: '',\n    raza: '',\n    peso: '',\n    sexo: '',\n    fechaNacimiento: '',\n    fechaCompra: '',\n    tipoProduccion: '',\n    dailyMilk: 0,\n    foto: null,\n    idpadre: '',\n    idmadre: '',\n    estadoReproductivo: 'Desarrollo',\n    edadClasificada: '', // Nuevo campo para la clasificación de edad\n  });\n  const [selectedAnimalForGenealogy, setSelectedAnimalForGenealogy] = useState('');\n  const [genealogyTree, setGenealogyTree] = useState(null);\n\n  // Función para calcular la edad y clasificar el animal\n  const classifyAnimalAge = (fechaNacimiento, sexo) => {\n    if (!fechaNacimiento) return '';\n\n    const birthDate = new Date(fechaNacimiento);\n    const today = new Date();\n    const diffTime = Math.abs(today - birthDate);\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n\n    if (sexo === 'macho') {\n      if (diffDays <= 365) return 'Ternero'; // Hasta 1 año\n      if (diffDays > 365 && diffDays <= 730) return 'Mauto'; // 1 a 2 años\n      if (diffDays > 730) return 'Toro'; // Más de 2 años\n    } else if (sexo === 'hembra') {\n      if (diffDays <= 365) return 'Ternera'; // Hasta 1 año\n      if (diffDays > 365 && diffDays <= 730) return 'Mauta'; // 1 a 2 años\n      if (diffDays > 730 && diffDays <= 1095) return 'Novilla'; // 2 a 3 años\n      if (diffDays > 1095) return 'Vaca'; // Más de 3 años\n    }\n    return '';\n  };\n\n  useEffect(() => {\n    const { fechaNacimiento, sexo } = animalData;\n    if (fechaNacimiento && sexo) {\n      setAnimalData(prevData => ({\n        ...prevData,\n        edadClasificada: classifyAnimalAge(fechaNacimiento, sexo),\n      }));\n    } else {\n      setAnimalData(prevData => ({\n        ...prevData,\n        edadClasificada: '',\n      }));\n    }\n  }, [animalData.fechaNacimiento, animalData.sexo]);\n\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setAnimalData({ ...animalData, [name]: value });\n  };\n\n  const handleFileChange = (e) => {\n    setAnimalData({ ...animalData, foto: e.target.files[0] });\n  };\n\n  const handleSubmit = () => {\n    if (!animalData.id) {\n      alert('Por favor, ingresa un ID para el animal.');\n      return;\n    }\n    // Validar que el ID sea único\n    if (animals.some(animal => animal.id === animalData.id)) {\n      alert('El ID del animal ya existe. Por favor, ingresa un ID único.');\n      return;\n    }\n\n    const animalToRegister = { ...animalData };\n    onRegisterAnimal(animalToRegister);\n    alert(`Animal ${animalToRegister.name} (${animalToRegister.id}) registrado.`);\n    setAnimalData({\n      id: '', name: '', raza: '', peso: '', sexo: '', fechaNacimiento: '', fechaCompra: '',\n      tipoProduccion: '', dailyMilk: 0, foto: null, idpadre: '', idmadre: '',\n      estadoReproductivo: 'desarrollo', edadClasificada: '',\n    });\n  };\n\n  const handleDownloadPDF = (animal, currentUser) => {\n    if (!animal || !animal.id) {\n      alert('Por favor, selecciona un animal válido.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const logoPlaceholder = 'https://via.placeholder.com/80x80?text=LOGO'; // Logo más grande\n    const qrURL = `https://api.qrserver.com/v1/create-qr-code/?data=${animal.id}&size=100x100`; // QR más grande\n\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm'; // Ancho A4\n    tempDiv.style.padding = '15mm'; // Menos padding para más contenido\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.backgroundColor = '#f8f8f8'; // Fondo ligeramente gris\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px';\n    tempDiv.style.top = '-9999px';\n\n    const colorEstado = animal.estadoReproductivo === 'en_produccion' ? '#27ae60' :\n                        animal.estadoReproductivo === 'seca' ? '#e67e22' :\n                        animal.estadoReproductivo === 'preñada' ? '#9b59b6' : '#7f8c8d';\n\n    tempDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoPlaceholder}\" style=\"width: 80px; height: 80px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 24pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 12pt; opacity: 0.8;\">Ficha de Registro Animal</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px; display: flex; gap: 25px; align-items: flex-start;\">\n          <div style=\"flex-shrink: 0; text-align: center;\">\n            <img src=\"${animal.foto ? URL.createObjectURL(animal.foto) : 'https://via.placeholder.com/150x150?text=Sin+Foto'}\" style=\"width: 150px; height: 150px; border-radius: 8px; object-fit: cover; border: 2px solid #eee; box-shadow: 0 2px 4px rgba(0,0,0,0.05);\" alt=\"Foto del animal\">\n            <h2 style=\"font-size: 18pt; margin-top: 15px; margin-bottom: 5px; color: #333;\">${animal.name || 'N/A'}</h2>\n            <p style=\"font-size: 12pt; color: #777; margin: 0;\">ID: ${animal.id || 'N/A'}</p>\n          </div>\n          <div style=\"flex-grow: 1;\">\n            <table style=\"width: 100%; border-collapse: collapse; margin-top: 10px;\">\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Raza:</strong></td><td style=\"padding: 8px 0;\">${animal.raza || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Peso:</strong></td><td style=\"padding: 8px 0;\">${animal.peso || 'N/A'} kg</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Sexo:</strong></td><td style=\"padding: 8px 0;\">${animal.sexo || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Fecha Nacimiento:</strong></td><td style=\"padding: 8px 0;\">${animal.fechaNacimiento || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Clasificación Edad:</strong></td><td style=\"padding: 8px 0;\">${animal.edadClasificada || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Fecha Compra:</strong></td><td style=\"padding: 8px 0;\">${animal.fechaCompra || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>ID Padre:</strong></td><td style=\"padding: 8px 0;\">${animal.idpadre || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>ID Madre:</strong></td><td style=\"padding: 8px 0;\">${animal.idmadre || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Estado Reproductivo:</strong></td><td style=\"padding: 8px 0; color: ${colorEstado}; font-weight: bold;\">${animal.estadoReproductivo || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Tipo Producción:</strong></td><td style=\"padding: 8px 0;\">${animal.tipoProduccion || 'N/A'}</td></tr>\n              <tr style=\"border-bottom: 1px solid #eee;\"><td style=\"padding: 8px 0;\"><strong>Litros Leche Diarios:</strong></td><td style=\"padding: 8px 0;\">${animal.dailyMilk || 'N/A'}</td></tr>\n            </table>\n          </div>\n        </div>\n\n        <div style=\"text-align: center; padding: 20px; background-color: #f0f0f0; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <img src=\"${qrURL}\" style=\"width: 100px; height: 100px; margin-bottom: 10px;\" alt=\"QR Code del animal\">\n          <p style=\"font-size: 9pt; color: #555; margin: 0;\">Escanea para más información</p>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(tempDiv);\n\n    html2canvas(tempDiv, { scale: 2, useCORS: true }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft > 0) {\n        position = heightLeft - imgHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n\n      pdf.save(`ficha_animal_${animal.name || 'sin_nombre'}_${animal.id || 'sin_id'}.pdf`);\n      document.body.removeChild(tempDiv);\n    });\n  };\n\n  const handleUpdateProduction = () => {\n    if (animalData.id) {\n      onUpdateAnimalProduction(animalData.id, animalData.estadoReproductivo, animalData.dailyMilk);\n      alert(`Producción/Estado de ${animalData.id} actualizado.`);\n    } else {\n      alert('Por favor, ingresa el ID del animal para actualizar su producción/estado.');\n    }\n  };\n\n  // --- Lógica del Árbol Genealógico ---\n  const buildGenealogyTree = (animalId, allAnimals) => {\n    const animal = allAnimals.find(a => a.id === animalId);\n    if (!animal) return null;\n\n    const tree = {\n      id: animal.id,\n      name: animal.name,\n      raza: animal.raza,\n      sexo: animal.sexo,\n      children: []\n    };\n\n    // Buscar hijos directos\n    const children = allAnimals.filter(a => a.idpadre === animal.id || a.idmadre === animal.id);\n    if (children.length > 0) {\n      tree.children = children.map(child => ({\n        id: child.id,\n        name: child.name,\n        raza: child.raza,\n        sexo: child.sexo,\n      }));\n    }\n\n    // Buscar padres directos\n    if (animal.idpadre) {\n      tree.father = allAnimals.find(a => a.id === animal.idpadre);\n    }\n    if (animal.idmadre) {\n      tree.mother = allAnimals.find(a => a.id === animal.idmadre);\n    }\n\n    return tree;\n  };\n\n  const handleViewGenealogy = () => {\n    if (!selectedAnimalForGenealogy) {\n      alert('Por favor, selecciona un animal para ver su árbol genealógico.');\n      return;\n    }\n    const tree = buildGenealogyTree(selectedAnimalForGenealogy, animals);\n    setGenealogyTree(tree);\n    if (!tree) {\n      alert('Animal no encontrado o sin información genealógica.');\n    }\n  };\n\n  const handleDownloadGenealogyPDF = () => {\n    if (!genealogyTree) {\n      alert('Primero visualiza un árbol genealógico para descargarlo.');\n      return;\n    }\n\n    const farmName = currentUser?.farmName || 'Mi Finca Ganadera';\n    const adminName = currentUser?.fullName || 'Administrador';\n    const logoPlaceholder = 'https://via.placeholder.com/60x60?text=LOGO'; // Logo más pequeño para el árbol\n\n    const treeDiv = document.createElement('div');\n    treeDiv.style.width = '210mm'; // Ancho A4\n    treeDiv.style.padding = '15mm';\n    treeDiv.style.fontFamily = 'Arial, sans-serif';\n    treeDiv.style.fontSize = '10pt';\n    treeDiv.style.backgroundColor = '#f8f8f8';\n    treeDiv.style.position = 'absolute';\n    treeDiv.style.left = '-9999px';\n    treeDiv.style.top = '-9999px';\n\n    // Función para renderizar un nodo del árbol con estilo moderno\n    const renderNode = (node, type = 'main') => {\n      let bgColor = '#e0f7fa'; // Default for main\n      let textColor = '#00796b';\n      let borderColor = '#00bcd4';\n      let title = 'Animal Principal';\n\n      if (type === 'father') {\n        bgColor = '#e8f5e9';\n        textColor = '#2e7d32';\n        borderColor = '#4caf50';\n        title = 'Padre';\n      } else if (type === 'mother') {\n        bgColor = '#fce4ec';\n        textColor = '#c2185b';\n        borderColor = '#e91e63';\n        title = 'Madre';\n      } else if (type === 'child') {\n        bgColor = '#fff3e0';\n        textColor = '#ef6c00';\n        borderColor = '#ff9800';\n        title = 'Hijo/a';\n      }\n\n      return `\n        <div style=\"background-color: ${bgColor}; border: 1px solid ${borderColor}; border-radius: 8px; padding: 15px; margin-bottom: 10px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);\">\n          <h4 style=\"margin: 0 0 8px 0; font-size: 12pt; color: ${textColor}; font-weight: bold;\">${title}</h4>\n          <p style=\"margin: 0; font-size: 11pt; color: #333;\"><strong>${node.name}</strong> (${node.id})</p>\n          <p style=\"margin: 5px 0 0 0; font-size: 10pt; color: #555;\">Raza: ${node.raza}, Sexo: ${node.sexo}</p>\n        </div>\n      `;\n    };\n\n    treeDiv.innerHTML = `\n      <div style=\"border: 1px solid #ddd; border-radius: 12px; overflow: hidden; background-color: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);\">\n        <div style=\"background-color: #2c3e50; color: #fff; padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 10px; border-top-right-radius: 10px;\">\n          <img src=\"${logoPlaceholder}\" style=\"width: 60px; height: 60px; border-radius: 50%; object-fit: cover;\" alt=\"Logo Finca\">\n          <div style=\"text-align: right;\">\n            <h1 style=\"margin: 0; font-size: 20pt; font-weight: bold;\">${farmName}</h1>\n            <p style=\"margin: 0; font-size: 10pt; opacity: 0.8;\">Árbol Genealógico</p>\n          </div>\n        </div>\n\n        <div style=\"padding: 25px;\">\n          <h3 style=\"font-size: 16pt; margin-bottom: 20px; text-align: center; color: #333;\">Genealogía de ${genealogyTree.name} (${genealogyTree.id})</h3>\n          \n          <div style=\"display: flex; flex-direction: column; align-items: center;\">\n            ${renderNode(genealogyTree, 'main')}\n            \n            <div style=\"display: flex; justify-content: center; gap: 20px; width: 100%; margin-top: 20px;\">\n              ${genealogyTree.father ? renderNode(genealogyTree.father, 'father') : ''}\n              ${genealogyTree.mother ? renderNode(genealogyTree.mother, 'mother') : ''}\n            </div>\n\n            ${genealogyTree.children.length > 0 ? `\n              <h4 style=\"font-size: 14pt; margin-top: 30px; margin-bottom: 15px; color: #333;\">Hijos Directos:</h4>\n              <div style=\"display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; width: 100%;\">\n                ${genealogyTree.children.map(child => renderNode(child, 'child')).join('')}\n              </div>\n            ` : ''}\n          </div>\n        </div>\n\n        <div style=\"text-align: right; font-size: 8pt; padding: 10px 20px; color: #aaa; background-color: #f8f8f8; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;\">\n          <p style=\"margin: 0;\">Generado por Campo Inteligente | Administrador: ${adminName}</p>\n          <p style=\"margin: 0;\">Fecha de Generación: ${new Date().toLocaleDateString()}</p>\n        </div>\n      </div>\n    `;\n\n    document.body.appendChild(treeDiv);\n\n    html2canvas(treeDiv, { scale: 2, useCORS: true }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft > 0) {\n        position = heightLeft - imgHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n      pdf.save(`arbol_genealogico_${genealogyTree.name || 'sin_nombre'}_${genealogyTree.id || 'sin_id'}.pdf`);\n      document.body.removeChild(treeDiv);\n    });\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Registro Animal Avanzado</h3>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <input\n          type=\"text\"\n          name=\"id\"\n          placeholder=\"ID del Animal (Único)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.id}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Nombre del Animal\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.name}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"text\"\n          name=\"raza\"\n          placeholder=\"Raza\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.raza}\n          onChange={handleInputChange}\n\n        />\n        <input\n          type=\"number\"\n          name=\"peso\"\n          placeholder=\"Peso\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.peso}\n          onChange={handleInputChange}\n\n        />\n        <select\n          name=\"sexo\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.sexo}\n          onChange={handleInputChange}\n        >\n          <option value=\"\">Selecciona Sexo</option>\n          <option value=\"macho\">Macho</option>\n          <option value=\"hembra\">Hembra</option>\n        </select>\n        <input\n          type=\"date\"\n          name=\"fechaNacimiento\"\n          placeholder=\"Fecha de Nacimiento\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.fechaNacimiento}\n          onChange={handleInputChange}\n        />\n        {animalData.edadClasificada && (\n          <input\n            type=\"text\"\n            name=\"edadClasificada\"\n            placeholder=\"Clasificación de Edad\"\n            className=\"w-full px-4 py-2 border rounded-lg bg-gray-100 cursor-not-allowed\"\n            value={animalData.edadClasificada}\n            readOnly\n          />\n        )}\n        <input\n          type=\"date\"\n          name=\"fechaCompra\"\n          placeholder=\"Fecha de Compra (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.fechaCompra}\n          onChange={handleInputChange}\n        />\n        <select\n          name=\"tipoProduccion\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.tipoProduccion}\n          onChange={handleInputChange}\n        >\n          <option value=\"\">Tipo de Producción</option>\n          <option value=\"carne\">Carne</option>\n          <option value=\"leche\">Leche</option>\n        </select>\n        {animalData.tipoProduccion === 'leche' && animalData.sexo === 'hembra' && (\n          <input\n            type=\"number\"\n            name=\"dailyMilk\"\n            placeholder=\"Litros Promedio Diarios\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.dailyMilk}\n            onChange={handleInputChange}\n          />\n        )}\n        <input\n          type=\"text\"\n          name=\"idpadre\"\n          placeholder=\"ID Padre (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.idpadre}\n          onChange={handleInputChange}\n        />\n        <input\n          type=\"text\"\n          name=\"idmadre\"\n          placeholder=\"ID Madre (Opcional)\"\n          className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n          value={animalData.idmadre}\n          onChange={handleInputChange}\n        />\n        <div className=\"col-span-full\">\n          <label className=\"block text-gray-700 text-sm font-bold mb-2\">Foto del Animal</label>\n          <input\n            type=\"file\"\n            name=\"foto\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            onChange={handleFileChange}\n          />\n        </div>\n      </div>\n      <button\n        onClick={handleSubmit}\n        className=\"mt-6 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors mr-2\"\n      >\n        Registrar Animal\n      </button>\n      <button\n        onClick={() => handleDownloadPDF(animalData, currentUser)} // Pasar el animalData actual para generar PDF\n        className=\"mt-6 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors\"\n      >\n        Descargar Ficha PDF\n      </button>\n\n      <div className=\"mt-8 pt-4 border-t border-gray-200\">\n        <h4 className=\"text-lg font-semibold mb-3\">Actualizar Producción/Estado</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <input\n            type=\"text\"\n            name=\"id\"\n            placeholder=\"ID del Animal a Actualizar\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.id}\n            onChange={handleInputChange}\n          />\n          <select\n            name=\"estadoReproductivo\"\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={animalData.estadoReproductivo}\n            onChange={handleInputChange}\n          >\n            <option value=\"desarrollo\">En Desarrollo</option>\n            <option value=\"en_produccion\">En Producción</option>\n            <option value=\"seca\">Seca</option>\n            <option value=\"preñada\">Preñada</option>\n          </select>\n          {animalData.estadoReproductivo === 'en_produccion' && animalData.tipoProduccion === 'leche' && (\n            <input\n              type=\"number\"\n              name=\"dailyMilk\"\n              placeholder=\"Litros de leche diarios\"\n              className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n              value={animalData.dailyMilk}\n              onChange={handleInputChange}\n            />\n          )}\n        </div>\n        <button\n          onClick={handleUpdateProduction}\n          className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Actualizar Producción\n        </button>\n      </div>\n\n      <div className=\"mt-8 pt-4 border-t border-gray-200\">\n        <h4 className=\"text-lg font-semibold mb-3\">Árbol Genealógico</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            className=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-black\"\n            value={selectedAnimalForGenealogy}\n            onChange={(e) => setSelectedAnimalForGenealogy(e.target.value)}\n          >\n            <option value=\"\">Selecciona Animal para Genealogía</option>\n            {animals.map(animal => (\n              <option key={animal.id} value={animal.id}>{animal.name} ({animal.id})</option>\n            ))}\n          </select>\n          <button\n            onClick={handleViewGenealogy}\n            className=\"bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\"\n          >\n            Ver Árbol Genealógico\n          </button>\n        </div>\n\n        {genealogyTree && (\n          <div className=\"mt-4 p-4 border rounded-lg bg-gray-50\">\n            <h5 className=\"font-semibold\">Árbol Genealógico de {genealogyTree.name} ({genealogyTree.id})</h5>\n            <p>Raza: {genealogyTree.raza}, Sexo: {genealogyTree.sexo}</p>\n            {genealogyTree.father && (\n              <p className=\"ml-4\">Padre: {genealogyTree.father.name} ({genealogyTree.father.id})</p>\n            )}\n            {genealogyTree.mother && (\n              <p className=\"ml-4\">Madre: {genealogyTree.mother.name} ({genealogyTree.mother.id})</p>\n            )}\n            {genealogyTree.children.length > 0 && (\n              <div className=\"mt-2\">\n                <p className=\"font-semibold\">Hijos:</p>\n                <ul className=\"list-disc list-inside ml-4\">\n                  {genealogyTree.children.map(child => (\n                    <li key={child.id}>{child.name} ({child.id}) - {child.raza}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            <button\n              onClick={handleDownloadGenealogyPDF}\n              className=\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              Descargar Árbol (PDF)\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AnimalRegistrationPage;\n\n// DONE"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}