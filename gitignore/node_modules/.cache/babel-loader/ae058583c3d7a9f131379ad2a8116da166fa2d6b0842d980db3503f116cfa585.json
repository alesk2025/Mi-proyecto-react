{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/project (10)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import jsPDF from'jspdf';import html2canvas from'html2canvas';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PersonnelManagementPage=_ref=>{let{employees,tasks,onAddEmployee,onSendPayslip,onDeletePayslip,onAssignTask,onDeleteTask,thirdPartyPayments,onAddThirdPartyPayment,onDeleteThirdPartyPayment,payslips,currentUser}=_ref;// A帽adir currentUser\nconst[employeeData,setEmployeeData]=useState({name:'',email:'',position:'',schedule:'',salary:''});const[payrollData,setPayrollData]=useState({employeeId:'',grossAmount:'',bonuses:'',deductions:'',observations:'',paymentDate:new Date().toISOString().split('T')[0],// Fecha de emisi贸n del pago\nstartDate:'',// Nueva: Fecha de inicio del per铆odo de pago\nendDate:''// Nueva: Fecha de fin del per铆odo de pago\n});const[thirdPartyPaymentData,setThirdPartyPaymentData]=useState({personName:'',description:'',amount:'',date:new Date().toISOString().split('T')[0]});const[taskData,setTaskData]=useState({employeeId:'',taskType:'',description:'',toolsUsed:'',reason:'',status:'pendiente'});// Nuevo estado para controlar la visibilidad del historial de fichas de pago\nconst[showPayslipHistory,setShowPayslipHistory]=useState(false);const handleEmployeeChange=e=>{const{name,value}=e.target;setEmployeeData(_objectSpread(_objectSpread({},employeeData),{},{[name]:value}));};const handlePayrollChange=e=>{const{name,value}=e.target;setPayrollData(_objectSpread(_objectSpread({},payrollData),{},{[name]:value}));};const handleThirdPartyPaymentChange=e=>{const{name,value}=e.target;setThirdPartyPaymentData(_objectSpread(_objectSpread({},thirdPartyPaymentData),{},{[name]:value}));};const handleTaskChange=e=>{const{name,value}=e.target;setTaskData(_objectSpread(_objectSpread({},taskData),{},{[name]:value}));};const handleAddEmployee=()=>{const newId=\"EMP-\".concat(Date.now().toString().slice(-5));onAddEmployee(_objectSpread(_objectSpread({},employeeData),{},{id:newId}));alert(\"Empleado \".concat(employeeData.name,\" registrado.\"));setEmployeeData({name:'',email:'',position:'',schedule:'',salary:''});};const calculateNetSalary=()=>{const gross=parseFloat(payrollData.grossAmount)||0;const bonuses=parseFloat(payrollData.bonuses)||0;const deductions=parseFloat(payrollData.deductions)||0;return(gross+bonuses-deductions).toFixed(2);};const handleSendPayslipAction=()=>{if(!payrollData.employeeId||!payrollData.grossAmount||!payrollData.paymentDate||!payrollData.startDate||!payrollData.endDate){alert('Por favor, completa todos los campos obligatorios de la ficha de pago.');return;}const netSalary=calculateNetSalary();onSendPayslip(payrollData.employeeId,_objectSpread(_objectSpread({},payrollData),{},{netSalary}));alert(\"Ficha de pago para \".concat(payrollData.employeeId,\" enviada. Salario Neto: $\").concat(netSalary));setPayrollData({employeeId:'',grossAmount:'',bonuses:'',deductions:'',observations:'',paymentDate:new Date().toISOString().split('T')[0],startDate:'',endDate:''});};const handleAddThirdPartyPaymentAction=()=>{if(!thirdPartyPaymentData.personName||!thirdPartyPaymentData.amount||!thirdPartyPaymentData.date){alert('Por favor, completa todos los campos obligatorios del pago a tercero.');return;}onAddThirdPartyPayment(thirdPartyPaymentData);alert(\"Pago a \".concat(thirdPartyPaymentData.personName,\" registrado.\"));setThirdPartyPaymentData({personName:'',description:'',amount:'',date:new Date().toISOString().split('T')[0]});};const handleAssignTaskAction=()=>{onAssignTask(taskData.employeeId,taskData);alert(\"Tarea asignada a \".concat(taskData.employeeId,\".\"));setTaskData({employeeId:'',taskType:'',description:'',toolsUsed:'',reason:'',status:'pendiente'});};// --- Funci贸n para generar PDF de Ficha de Pago o Asignaci贸n de Tarea ---\nconst handleGeneratePdf=(type,data)=>{if(!(currentUser!==null&&currentUser!==void 0&&currentUser.farmName)||(currentUser===null||currentUser===void 0?void 0:currentUser.farmName.trim())===''){alert(\"Algo salio mal. El nombre de la finca no esta definido.\");return;}const farmName=currentUser.farmeName;const adminName=(currentUser===null||currentUser===void 0?void 0:currentUser.fullName)||'Administrador';const logoPlaceholder='https://via.placeholder.com/50x50?text=LOGO';// Placeholder de logo\n// Crear un elemento div temporal para renderizar la plantilla del PDF\nconst tempDiv=document.createElement('div');tempDiv.style.width='210mm';// Ancho A4\ntempDiv.style.padding='15mm';// M谩s padding para un look minimalista\ntempDiv.style.fontFamily='Arial, sans-serif';tempDiv.style.fontSize='10pt';tempDiv.style.color='#333';tempDiv.style.position='absolute';tempDiv.style.left='-9999px';// Ocultar de la vista\ntempDiv.style.top='-9999px';tempDiv.style.backgroundColor='#fff';// Fondo blanco\nlet contentHTML='';if(type==='Ficha de Pago'){const employee=employees.find(emp=>emp.id===data.employeeId);contentHTML=\"\\n  <div style={{ width: '100%', padding: '25px', background: '#fff', border: '2px solid #ccc', borderRadius: '10px', marginBottom: '20px' }}>\\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', borderBottom: '1px solid #ddd', marginBottom: '20px' }}>\\n    <img src={logoPlaceholder} alt=\\\"Logo Finca\\\" style={{ width: '60px', height: 'auto' }} />\\n    <div style={{ textAlign: 'right' }}>\\n      <h1 style={{ margin: 0, fontSize: '20px', color: '#2c3e50' }}>{farmName}</h1>\\n      <p style={{ margin: 0, fontSize: '12px', color: '#888' }}>Ficha de Pago</p>\\n    </div>\\n  </div>\\n\\n    <h3 style={{ color: '#2980b9' }}>\\uD83D\\uDC64 Datos del Empleado</h3>\\n    <p><strong>Nombre:</strong> {employee?.name || 'N/A'}</p>\\n    <p><strong>Correo:</strong> {employee?.email || 'N/A'}</p>\\n    <p><strong>Per\\xEDodo:</strong> {data?.startDate} al {data?.endDate}</p>\\n    <p><strong>Fecha de pago:</strong> {data?.paymentDate}</p>\\n\\n\\n    <h3 style=\\\"color: #27ae60;\\\">\\uD83D\\uDCB0 Ingresos</h3>\\n    <ul style=\\\"padding-left: 20px; margin-top: 0;\\\">\\n      <li><strong>Sueldo base:</strong> $\".concat(parseFloat(data.grossAmount).toFixed(2),\"</li>\\n      <li><strong>Bonificaciones:</strong> $\").concat(parseFloat(data.bonuses).toFixed(2),\"</li>\\n    </ul>\\n\\n    <h3 style=\\\"color: #c0392b;\\\">\\uD83D\\uDD3B Deducciones</h3>\\n    <ul style=\\\"padding-left: 20px; margin-top: 0;\\\">\\n      <li><strong>Descuentos:</strong> $\").concat(parseFloat(data.deductions).toFixed(2),\"</li>\\n    </ul>\\n\\n    <h3 style=\\\"color: #2d3436;\\\">\\uD83E\\uDDFE Total Neto a Recibir</h3>\\n    <p style=\\\"font-size: 18px;\\\"><strong>$\").concat((parseFloat(data.grossAmount)+parseFloat(data.bonuses)-parseFloat(data.deductions)).toFixed(2),\"</strong></p>\\n\\n    <div style=\\\"margin-top: 40px; display: flex; justify-content: space-between;\\\">\\n      <div style=\\\"text-align: center;\\\">\\n        ___________________________<br/>\\n        Firma del Empleado\\n      </div>\\n      <div style=\\\"text-align: center;\\\">\\n        ___________________________<br/>\\n        Firma del Administrador\\n      </div>\\n    </div>\\n\\n    <p style=\\\"text-align: right; font-size: 10px; margin-top: 30px; color: #aaa;\\\">\\n      Generado por Campo Inteligente | \").concat(adminName,\"\\n    </p>\\n  </div>\\n\");}else if(type==='Asignaci贸n de Tarea'){const employee=employees.find(emp=>emp.id===data.employeeId);contentHTML=\"\\n        <div style=\\\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 15mm; padding-bottom: 5mm; border-bottom: 1px solid #eee;\\\">\\n          <img src=\\\"\".concat(logoPlaceholder,\"\\\" alt=\\\"Logo Finca\\\" style=\\\"width: 20mm; height: 20mm; object-fit: contain;\\\" />\\n          <div style=\\\"text-align: right;\\\">\\n            <h1 style=\\\"font-size: 18pt; margin: 0; color: #2c3e50;\\\">\").concat(farmName,\"</h1>\\n            <p style=\\\"font-size: 10pt; margin: 0; color: #7f8c8d;\\\">Asignaci\\xF3n de Tarea</p>\\n          </div>\\n        </div>\\n        <h2 style=\\\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\\\">Detalles de la Tarea</h2>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>ID Tarea:</strong> \").concat(data.id,\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Empleado:</strong> \").concat((employee===null||employee===void 0?void 0:employee.name)||'N/A',\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Tipo de Tarea:</strong> \").concat(data.taskType,\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Descripci\\xF3n:</strong> \").concat(data.description,\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Herramientas:</strong> \").concat(data.toolsUsed||'N/A',\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Motivo:</strong> \").concat(data.reason||'N/A',\"</p>\\n        <p style=\\\"margin-bottom: 5px;\\\"><strong>Estado:</strong> \").concat(data.status,\"</p>\\n        <div style=\\\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\\\">\\n          <p>Generado por Campo Inteligente</p>\\n          <p>Administrador: \").concat(adminName,\"</p>\\n        </div>\\n      \");}tempDiv.innerHTML=contentHTML;document.body.appendChild(tempDiv);// A帽adir al DOM temporalmente\nhtml2canvas(tempDiv,{scale:2}).then(canvas=>{const imgData=canvas.toDataURL('image/png');const pdf=new jsPDF('p','mm','a4');const imgWidth=210;const pageHeight=297;const imgHeight=canvas.height*imgWidth/canvas.width;let heightLeft=imgHeight;let position=0;pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;while(heightLeft>=0){position=heightLeft-imgHeight;pdf.addPage();pdf.addImage(imgData,'PNG',0,position,imgWidth,imgHeight);heightLeft-=pageHeight;}pdf.save(\"\".concat(type.toLowerCase().replace(/ /g,'_'),\"_\").concat(data.id||data.employeeId||data.personName,\".pdf\"));document.body.removeChild(tempDiv);// Eliminar del DOM\n});};// --- Agrupar fichas de pago por mes ---\nconst groupedPayslips=payslips.reduce((acc,ps)=>{const date=new Date(ps.paymentDate);const monthYear=\"\".concat(date.toLocaleString('es-ES',{month:'long'}),\" \").concat(date.getFullYear());if(!acc[monthYear]){acc[monthYear]=[];}acc[monthYear].push(ps);return acc;},{});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-4\",children:\"Gesti\\xF3n de Personal Integrada\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Registrar Nuevo Empleado\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Nombre Completo\",className:\"w-full px-4 py-2 border rounded-lg\",value:employeeData.name,onChange:handleEmployeeChange}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Correo Electr\\xF3nico\",className:\"w-full px-4 py-2 border rounded-lg\",value:employeeData.email,onChange:handleEmployeeChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"position\",placeholder:\"Cargo\",className:\"w-full px-4 py-2 border rounded-lg\",value:employeeData.position,onChange:handleEmployeeChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"schedule\",placeholder:\"Turno / Horario\",className:\"w-full px-4 py-2 border rounded-lg\",value:employeeData.schedule,onChange:handleEmployeeChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"salary\",placeholder:\"Salario Base\",className:\"w-full px-4 py-2 border rounded-lg\",value:employeeData.salary,onChange:handleEmployeeChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddEmployee,className:\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\",children:\"Registrar Empleado\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Gestionar Fichas de Pago\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"employeeId\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.employeeId,onChange:handlePayrollChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Empleado\"}),employees.map(emp=>/*#__PURE__*/_jsx(\"option\",{value:emp.id,children:emp.name},emp.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"grossAmount\",placeholder:\"Monto Bruto\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.grossAmount,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"bonuses\",placeholder:\"Bonificaciones\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.bonuses,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"deductions\",placeholder:\"Deducciones\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.deductions,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",placeholder:\"Fecha Inicio Per\\xEDodo\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.startDate,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",placeholder:\"Fecha Fin Per\\xEDodo\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.endDate,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"paymentDate\",placeholder:\"Fecha de Emisi\\xF3n del Pago\",className:\"w-full px-4 py-2 border rounded-lg\",value:payrollData.paymentDate,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"observations\",placeholder:\"Observaciones\",rows:\"2\",className:\"w-full px-4 py-2 border rounded-lg col-span-full\",value:payrollData.observations,onChange:handlePayrollChange}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-full p-2 bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[\"Monto Neto a Recibir: $\",calculateNetSalary()]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendPayslipAction,className:\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mr-2\",children:\"Guardar y Enviar Ficha\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Registrar Pago a Terceros / Mano de Obra\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"personName\",placeholder:\"Nombre de la Persona/Empresa\",className:\"w-full px-4 py-2 border rounded-lg\",value:thirdPartyPaymentData.personName,onChange:handleThirdPartyPaymentChange}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",placeholder:\"Monto del Pago\",className:\"w-full px-4 py-2 border rounded-lg\",value:thirdPartyPaymentData.amount,onChange:handleThirdPartyPaymentChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",placeholder:\"Descripci\\xF3n del Trabajo/Servicio\",className:\"w-full px-4 py-2 border rounded-lg\",value:thirdPartyPaymentData.description,onChange:handleThirdPartyPaymentChange}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",placeholder:\"Fecha del Pago\",className:\"w-full px-4 py-2 border rounded-lg\",value:thirdPartyPaymentData.date,onChange:handleThirdPartyPaymentChange})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddThirdPartyPaymentAction,className:\"mt-4 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\",children:\"Registrar Pago a Tercero\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3\",children:\"Asignar Tarea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{name:\"employeeId\",className:\"w-full px-4 py-2 border rounded-lg\",value:taskData.employeeId,onChange:handleTaskChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecciona Empleado\"}),employees.map(emp=>/*#__PURE__*/_jsx(\"option\",{value:emp.id,children:emp.name},emp.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"taskType\",placeholder:\"Tipo de Tarea\",className:\"w-full px-4 py-2 border rounded-lg\",value:taskData.taskType,onChange:handleTaskChange}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",placeholder:\"Descripci\\xF3n de la tarea\",rows:\"2\",className:\"w-full px-4 py-2 border rounded-lg col-span-full\",value:taskData.description,onChange:handleTaskChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"toolsUsed\",placeholder:\"Herramientas utilizadas\",className:\"w-full px-4 py-2 border rounded-lg\",value:taskData.toolsUsed,onChange:handleTaskChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"reason\",placeholder:\"Motivo (Opcional)\",className:\"w-full px-4 py-2 border rounded-lg\",value:taskData.reason,onChange:handleTaskChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",className:\"w-full px-4 py-2 border rounded-lg\",value:taskData.status,onChange:handleTaskChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"en_progreso\",children:\"En Progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completada\",children:\"Completada\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAssignTaskAction,className:\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\",children:\"Asignar y Enviar Tarea\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3 mt-8\",children:\"Historial de Tareas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Empleado\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tasks.map(task=>{var _employees$find;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:((_employees$find=employees.find(emp=>emp.id===task.employeeId))===null||_employees$find===void 0?void 0:_employees$find.name)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:task.taskType}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:task.description}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:task.status}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGeneratePdf('Asignaci贸n de Tarea',task,\"task-ficha-\".concat(task.id)),className:\"text-blue-600 hover:underline mr-2\",children:\"Ver PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeleteTask(task.id),className:\"text-red-600 hover:underline\",children:\"Eliminar\"})]})]},task.id);})})]})}),/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold mb-3 mt-8 cursor-pointer flex items-center justify-between bg-gray-100 p-2 rounded-lg\",onClick:()=>setShowPayslipHistory(!showPayslipHistory),children:[\"Historial de Fichas de Pago\",/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 transform transition-transform \".concat(showPayslipHistory?'rotate-180':''),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 9l-7 7-7-7\"})})]}),showPayslipHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:Object.keys(groupedPayslips).length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"No hay fichas de pago registradas.\"}):Object.keys(groupedPayslips).sort((a,b)=>{// Ordenar por a帽o y luego por mes (descendente)\nconst[monthA,yearA]=a.split(' ');const[monthB,yearB]=b.split(' ');const dateA=new Date(\"\".concat(monthA,\" 1, \").concat(yearA));const dateB=new Date(\"\".concat(monthB,\" 1, \").concat(yearB));return dateB-dateA;}).map(monthYear=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-md font-semibold mb-2 bg-gray-100 p-2 rounded-lg\",children:monthYear}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"ID Ficha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Empleado\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Monto Neto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Per\\xEDodo\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Fecha Pago\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:groupedPayslips[monthYear].map(ps=>{var _employees$find2;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:ps.id}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:((_employees$find2=employees.find(emp=>emp.id===ps.employeeId))===null||_employees$find2===void 0?void 0:_employees$find2.name)||'N/A'}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[\"$\",(parseFloat(ps.netSalary)||0).toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[ps.startDate,\" al \",ps.endDate]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:ps.paymentDate}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGeneratePdf('Ficha de Pago',ps,\"payslip-ficha-\".concat(ps.id)),className:\"text-blue-600 hover:underline mr-2\",children:\"Ver PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeletePayslip(ps.id),className:\"text-red-600 hover:underline\",children:\"Eliminar\"})]})]},ps.id);})})]})]},monthYear))}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold mb-3 mt-8\",children:\"Historial de Pagos a Terceros\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"ID Pago\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Persona/Empresa\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Monto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-2 px-4 border\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:thirdPartyPayments.map(tpp=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:tpp.id}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:tpp.personName}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:tpp.description}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[\"$\",(parseFloat(tpp.amount)||0).toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-2 px-4 border\",children:tpp.date}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-2 px-4 border\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGeneratePdf('Pago a Tercero',tpp,\"thirdparty-ficha-\".concat(tpp.id)),className:\"text-blue-600 hover:underline mr-2\",children:\"Ver PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDeleteThirdPartyPayment(tpp.id),className:\"text-red-600 hover:underline\",children:\"Eliminar\"})]})]},tpp.id))})]})}),thirdPartyPayments.map(tpp=>/*#__PURE__*/_jsx(\"div\",{id:\"thirdparty-ficha-\".concat(tpp.id),style:{position:'absolute',left:'-9999px',top:'-9999px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'210mm',padding:'15mm',fontFamily:'Arial, sans-serif',fontSize:'10pt',color:'#333',backgroundColor:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15mm',paddingBottom:'5mm',borderBottom:'1px solid #eee;'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"${logoPlaceholder}\",alt:\"Logo Finca\",style:\"width: 20mm; height: 20mm; object-fit: contain;\"}),/*#__PURE__*/_jsxs(\"div\",{style:\"text-align: right;\",children:[/*#__PURE__*/_jsxs(\"h1\",{style:\"font-size: 18pt; margin: 0; color: #2c3e50;\",children:[\"$\",farmName]}),/*#__PURE__*/_jsx(\"p\",{style:\"font-size: 10pt; margin: 0; color: #7f8c8d;\",children:\"Comprobante de Pago a Tercero\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{style:\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\",children:\"Detalles del Pago\"}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID Pago:\"}),\" \",tpp.id]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha de Pago:\"}),\" \",tpp.date]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Persona/Empresa:\"}),\" \",tpp.personName]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Descripci\\xF3n del Trabajo:\"}),\" \",tpp.description]}),/*#__PURE__*/_jsxs(\"h2\",{style:\"text-align: right; font-size: 16pt; color: #2c3e50;\",children:[\"Monto: $\",parseFloat(tpp.amount).toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Generado por Campo Inteligente\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Administrador: $\",adminName]})]})]})},\"thirdparty-ficha-\".concat(tpp.id))),tasks.map(task=>{var _employees$find3;return/*#__PURE__*/_jsx(\"div\",{id:\"task-ficha-\".concat(task.id),style:{position:'absolute',left:'-9999px',top:'-9999px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'210mm',padding:'15mm',fontFamily:'Arial, sans-serif',fontSize:'10pt',color:'#333',backgroundColor:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15mm',paddingBottom:'5mm',borderBottom:'1px solid #eee;'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"${logoPlaceholder}\",alt:\"Logo Finca\",style:\"width: 20mm; height: 20mm; object-fit: contain;\"}),/*#__PURE__*/_jsxs(\"div\",{style:\"text-align: right;\",children:[/*#__PURE__*/_jsxs(\"h1\",{style:\"font-size: 18pt; margin: 0; color: #2c3e50;\",children:[\"$\",farmName]}),/*#__PURE__*/_jsx(\"p\",{style:\"font-size: 10pt; margin: 0; color: #7f8c8d;\",children:\"Asignaci\\xF3n de Tarea\"})]})]}),/*#__PURE__*/_jsx(\"h2\",{style:\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\",children:\"Detalles de la Tarea\"}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID Tarea:\"}),\" \",task.id]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Empleado:\"}),\" \",((_employees$find3=employees.find(emp=>emp.id===task.employeeId))===null||_employees$find3===void 0?void 0:_employees$find3.name)||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tipo de Tarea:\"}),\" \",task.taskType]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Descripci\\xF3n:\"}),\" \",task.description]}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Herramientas:\"}),\" \",task.toolsUsed||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Motivo:\"}),\" \",task.reason||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{style:\"margin-bottom: 5px;\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Estado:\"}),\" \",task.status]}),/*#__PURE__*/_jsxs(\"div\",{style:\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Generado por Campo Inteligente\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Administrador: $\",adminName]})]})]})},\"task-ficha-\".concat(task.id));})]});};export default PersonnelManagementPage;","map":{"version":3,"names":["React","useState","jsPDF","html2canvas","jsx","_jsx","jsxs","_jsxs","PersonnelManagementPage","_ref","employees","tasks","onAddEmployee","onSendPayslip","onDeletePayslip","onAssignTask","onDeleteTask","thirdPartyPayments","onAddThirdPartyPayment","onDeleteThirdPartyPayment","payslips","currentUser","employeeData","setEmployeeData","name","email","position","schedule","salary","payrollData","setPayrollData","employeeId","grossAmount","bonuses","deductions","observations","paymentDate","Date","toISOString","split","startDate","endDate","thirdPartyPaymentData","setThirdPartyPaymentData","personName","description","amount","date","taskData","setTaskData","taskType","toolsUsed","reason","status","showPayslipHistory","setShowPayslipHistory","handleEmployeeChange","e","value","target","_objectSpread","handlePayrollChange","handleThirdPartyPaymentChange","handleTaskChange","handleAddEmployee","newId","concat","now","toString","slice","id","alert","calculateNetSalary","gross","parseFloat","toFixed","handleSendPayslipAction","netSalary","handleAddThirdPartyPaymentAction","handleAssignTaskAction","handleGeneratePdf","type","data","farmName","trim","farmeName","adminName","fullName","logoPlaceholder","tempDiv","document","createElement","style","width","padding","fontFamily","fontSize","color","left","top","backgroundColor","contentHTML","employee","find","emp","innerHTML","body","appendChild","scale","then","canvas","imgData","toDataURL","pdf","imgWidth","pageHeight","imgHeight","height","heightLeft","addImage","addPage","save","toLowerCase","replace","removeChild","groupedPayslips","reduce","acc","ps","monthYear","toLocaleString","month","getFullYear","push","className","children","placeholder","onChange","onClick","map","rows","task","_employees$find","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","Object","keys","length","sort","a","b","monthA","yearA","monthB","yearB","dateA","dateB","_employees$find2","tpp","display","justifyContent","alignItems","marginBottom","paddingBottom","borderBottom","src","alt","_employees$find3"],"sources":["C:/Users/User/Downloads/project (10)/src/components/PersonnelManagementPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nconst PersonnelManagementPage = ({ employees, tasks, onAddEmployee, onSendPayslip, onDeletePayslip, onAssignTask, onDeleteTask, thirdPartyPayments, onAddThirdPartyPayment, onDeleteThirdPartyPayment, payslips, currentUser }) => { // A帽adir currentUser\n  const [employeeData, setEmployeeData] = useState({\n    name: '',\n    email: '',\n    position: '',\n    schedule: '',\n    salary: '',\n  });\n  const [payrollData, setPayrollData] = useState({\n    employeeId: '',\n    grossAmount: '',\n    bonuses: '',\n    deductions: '',\n    observations: '',\n    paymentDate: new Date().toISOString().split('T')[0], // Fecha de emisi贸n del pago\n    startDate: '', // Nueva: Fecha de inicio del per铆odo de pago\n    endDate: '',   // Nueva: Fecha de fin del per铆odo de pago\n  });\n  const [thirdPartyPaymentData, setThirdPartyPaymentData] = useState({\n    personName: '',\n    description: '',\n    amount: '',\n    date: new Date().toISOString().split('T')[0],\n  });\n  const [taskData, setTaskData] = useState({\n    employeeId: '',\n    taskType: '',\n    description: '',\n    toolsUsed: '',\n    reason: '',\n    status: 'pendiente',\n  });\n\n  // Nuevo estado para controlar la visibilidad del historial de fichas de pago\n  const [showPayslipHistory, setShowPayslipHistory] = useState(false);\n\n  const handleEmployeeChange = (e) => {\n    const { name, value } = e.target;\n    setEmployeeData({ ...employeeData, [name]: value });\n  };\n\n  const handlePayrollChange = (e) => {\n    const { name, value } = e.target;\n    setPayrollData({ ...payrollData, [name]: value });\n  };\n\n  const handleThirdPartyPaymentChange = (e) => {\n    const { name, value } = e.target;\n    setThirdPartyPaymentData({ ...thirdPartyPaymentData, [name]: value });\n  };\n\n  const handleTaskChange = (e) => {\n    const { name, value } = e.target;\n    setTaskData({ ...taskData, [name]: value });\n  };\n\n  const handleAddEmployee = () => {\n    const newId = `EMP-${Date.now().toString().slice(-5)}`;\n    onAddEmployee({ ...employeeData, id: newId });\n    alert(`Empleado ${employeeData.name} registrado.`);\n    setEmployeeData({ name: '', email: '', position: '', schedule: '', salary: '' });\n  };\n\n  const calculateNetSalary = () => {\n    const gross = parseFloat(payrollData.grossAmount) || 0;\n    const bonuses = parseFloat(payrollData.bonuses) || 0;\n    const deductions = parseFloat(payrollData.deductions) || 0;\n    return (gross + bonuses - deductions).toFixed(2);\n  };\n\n  const handleSendPayslipAction = () => {\n    if (!payrollData.employeeId || !payrollData.grossAmount || !payrollData.paymentDate || !payrollData.startDate || !payrollData.endDate) {\n      alert('Por favor, completa todos los campos obligatorios de la ficha de pago.');\n      return;\n    }\n    const netSalary = calculateNetSalary();\n    onSendPayslip(payrollData.employeeId, { ...payrollData, netSalary });\n    alert(`Ficha de pago para ${payrollData.employeeId} enviada. Salario Neto: $${netSalary}`);\n    setPayrollData({ \n      employeeId: '', grossAmount: '', bonuses: '', deductions: '', observations: '',\n      paymentDate: new Date().toISOString().split('T')[0],\n      startDate: '', endDate: '',\n    });\n  };\n\n  const handleAddThirdPartyPaymentAction = () => {\n    if (!thirdPartyPaymentData.personName || !thirdPartyPaymentData.amount || !thirdPartyPaymentData.date) {\n      alert('Por favor, completa todos los campos obligatorios del pago a tercero.');\n      return;\n    }\n    onAddThirdPartyPayment(thirdPartyPaymentData);\n    alert(`Pago a ${thirdPartyPaymentData.personName} registrado.`);\n    setThirdPartyPaymentData({ personName: '', description: '', amount: '', date: new Date().toISOString().split('T')[0] });\n  };\n\n  const handleAssignTaskAction = () => {\n    onAssignTask(taskData.employeeId, taskData);\n    alert(`Tarea asignada a ${taskData.employeeId}.`);\n    setTaskData({ employeeId: '', taskType: '', description: '', toolsUsed: '', reason: '', status: 'pendiente' });\n  };\n\n  // --- Funci贸n para generar PDF de Ficha de Pago o Asignaci贸n de Tarea ---\n  const handleGeneratePdf = (type, data) => {\n   if (!currentUser?.farmName || currentUser?.farmName.trim()==='') {\n     alert(\"Algo salio mal. El nombre de la finca no esta definido.\");\n     return;\n    }\n    const farmName=currentUser.farmeName;\n    const adminName = currentUser?.fullName || 'Administrador';\n    const logoPlaceholder = 'https://via.placeholder.com/50x50?text=LOGO'; // Placeholder de logo\n\n    // Crear un elemento div temporal para renderizar la plantilla del PDF\n    const tempDiv = document.createElement('div');\n    tempDiv.style.width = '210mm'; // Ancho A4\n    tempDiv.style.padding = '15mm'; // M谩s padding para un look minimalista\n    tempDiv.style.fontFamily = 'Arial, sans-serif';\n    tempDiv.style.fontSize = '10pt';\n    tempDiv.style.color = '#333';\n    tempDiv.style.position = 'absolute';\n    tempDiv.style.left = '-9999px'; // Ocultar de la vista\n    tempDiv.style.top = '-9999px';\n    tempDiv.style.backgroundColor = '#fff'; // Fondo blanco\n\n    let contentHTML = '';\n    if (type === 'Ficha de Pago') {\n      const employee = employees.find(emp => emp.id === data.employeeId);\n      contentHTML = `\n  <div style={{ width: '100%', padding: '25px', background: '#fff', border: '2px solid #ccc', borderRadius: '10px', marginBottom: '20px' }}>\n  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', borderBottom: '1px solid #ddd', marginBottom: '20px' }}>\n    <img src={logoPlaceholder} alt=\"Logo Finca\" style={{ width: '60px', height: 'auto' }} />\n    <div style={{ textAlign: 'right' }}>\n      <h1 style={{ margin: 0, fontSize: '20px', color: '#2c3e50' }}>{farmName}</h1>\n      <p style={{ margin: 0, fontSize: '12px', color: '#888' }}>Ficha de Pago</p>\n    </div>\n  </div>\n\n    <h3 style={{ color: '#2980b9' }}> Datos del Empleado</h3>\n    <p><strong>Nombre:</strong> {employee?.name || 'N/A'}</p>\n    <p><strong>Correo:</strong> {employee?.email || 'N/A'}</p>\n    <p><strong>Per铆odo:</strong> {data?.startDate} al {data?.endDate}</p>\n    <p><strong>Fecha de pago:</strong> {data?.paymentDate}</p>\n\n\n    <h3 style=\"color: #27ae60;\"> Ingresos</h3>\n    <ul style=\"padding-left: 20px; margin-top: 0;\">\n      <li><strong>Sueldo base:</strong> $${parseFloat(data.grossAmount).toFixed(2)}</li>\n      <li><strong>Bonificaciones:</strong> $${parseFloat(data.bonuses).toFixed(2)}</li>\n    </ul>\n\n    <h3 style=\"color: #c0392b;\"> Deducciones</h3>\n    <ul style=\"padding-left: 20px; margin-top: 0;\">\n      <li><strong>Descuentos:</strong> $${parseFloat(data.deductions).toFixed(2)}</li>\n    </ul>\n\n    <h3 style=\"color: #2d3436;\">Ь Total Neto a Recibir</h3>\n    <p style=\"font-size: 18px;\"><strong>$${(parseFloat(data.grossAmount) + parseFloat(data.bonuses) - parseFloat(data.deductions)).toFixed(2)}</strong></p>\n\n    <div style=\"margin-top: 40px; display: flex; justify-content: space-between;\">\n      <div style=\"text-align: center;\">\n        ___________________________<br/>\n        Firma del Empleado\n      </div>\n      <div style=\"text-align: center;\">\n        ___________________________<br/>\n        Firma del Administrador\n      </div>\n    </div>\n\n    <p style=\"text-align: right; font-size: 10px; margin-top: 30px; color: #aaa;\">\n      Generado por Campo Inteligente | ${adminName}\n    </p>\n  </div>\n`;\n    } else if (type === 'Asignaci贸n de Tarea') {\n      const employee = employees.find(emp => emp.id === data.employeeId);\n      contentHTML = `\n        <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 15mm; padding-bottom: 5mm; border-bottom: 1px solid #eee;\">\n          <img src=\"${logoPlaceholder}\" alt=\"Logo Finca\" style=\"width: 20mm; height: 20mm; object-fit: contain;\" />\n          <div style=\"text-align: right;\">\n            <h1 style=\"font-size: 18pt; margin: 0; color: #2c3e50;\">${farmName}</h1>\n            <p style=\"font-size: 10pt; margin: 0; color: #7f8c8d;\">Asignaci贸n de Tarea</p>\n          </div>\n        </div>\n        <h2 style=\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\">Detalles de la Tarea</h2>\n        <p style=\"margin-bottom: 5px;\"><strong>ID Tarea:</strong> ${data.id}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Empleado:</strong> ${employee?.name || 'N/A'}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Tipo de Tarea:</strong> ${data.taskType}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Descripci贸n:</strong> ${data.description}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Herramientas:</strong> ${data.toolsUsed || 'N/A'}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Motivo:</strong> ${data.reason || 'N/A'}</p>\n        <p style=\"margin-bottom: 5px;\"><strong>Estado:</strong> ${data.status}</p>\n        <div style=\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\">\n          <p>Generado por Campo Inteligente</p>\n          <p>Administrador: ${adminName}</p>\n        </div>\n      `;\n    }\n\n    tempDiv.innerHTML = contentHTML;\n    document.body.appendChild(tempDiv); // A帽adir al DOM temporalmente\n\n    html2canvas(tempDiv, { scale: 2 }).then(canvas => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgWidth = 210;\n      const pageHeight = 297;\n      const imgHeight = canvas.height * imgWidth / canvas.width;\n      let heightLeft = imgHeight;\n      let position = 0;\n\n      pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n      heightLeft -= pageHeight;\n\n      while (heightLeft >= 0) {\n        position = heightLeft - imgHeight;\n        pdf.addPage();\n        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);\n        heightLeft -= pageHeight;\n      }\n      pdf.save(`${type.toLowerCase().replace(/ /g, '_')}_${data.id || data.employeeId || data.personName}.pdf`);\n      document.body.removeChild(tempDiv); // Eliminar del DOM\n    });\n  };\n\n  // --- Agrupar fichas de pago por mes ---\n  const groupedPayslips = payslips.reduce((acc, ps) => {\n    const date = new Date(ps.paymentDate);\n    const monthYear = `${date.toLocaleString('es-ES', { month: 'long' })} ${date.getFullYear()}`;\n    if (!acc[monthYear]) {\n      acc[monthYear] = [];\n    }\n    acc[monthYear].push(ps);\n    return acc;\n  }, {});\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\n      <h3 className=\"text-xl font-semibold mb-4\">Gesti贸n de Personal Integrada</h3>\n\n      {/* Secci贸n de Registro de Empleados */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Nuevo Empleado</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Nombre Completo\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={employeeData.name}\n            onChange={handleEmployeeChange}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Correo Electr贸nico\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={employeeData.email}\n            onChange={handleEmployeeChange}\n          />\n          <input\n            type=\"text\"\n            name=\"position\"\n            placeholder=\"Cargo\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={employeeData.position}\n            onChange={handleEmployeeChange}\n          />\n          <input\n            type=\"text\"\n            name=\"schedule\"\n            placeholder=\"Turno / Horario\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={employeeData.schedule}\n            onChange={handleEmployeeChange}\n          />\n          <input\n            type=\"number\"\n            name=\"salary\"\n            placeholder=\"Salario Base\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={employeeData.salary}\n            onChange={handleEmployeeChange}\n          />\n        </div>\n        <button\n          onClick={handleAddEmployee}\n          className=\"mt-4 bg-black text-white py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors\"\n        >\n          Registrar Empleado\n        </button>\n      </div>\n\n      {/* Secci贸n de Fichas de Pago */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Gestionar Fichas de Pago</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            name=\"employeeId\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.employeeId}\n            onChange={handlePayrollChange}\n          >\n            <option value=\"\">Selecciona Empleado</option>\n            {employees.map(emp => (\n              <option key={emp.id} value={emp.id}>{emp.name}</option>\n            ))}\n          </select>\n          <input\n            type=\"number\"\n            name=\"grossAmount\"\n            placeholder=\"Monto Bruto\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.grossAmount}\n            onChange={handlePayrollChange}\n          />\n          <input\n            type=\"number\"\n            name=\"bonuses\"\n            placeholder=\"Bonificaciones\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.bonuses}\n            onChange={handlePayrollChange}\n          />\n          <input\n            type=\"number\"\n            name=\"deductions\"\n            placeholder=\"Deducciones\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.deductions}\n            onChange={handlePayrollChange}\n          />\n          <input\n            type=\"date\"\n            name=\"startDate\"\n            placeholder=\"Fecha Inicio Per铆odo\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.startDate}\n            onChange={handlePayrollChange}\n          />\n          <input\n            type=\"date\"\n            name=\"endDate\"\n            placeholder=\"Fecha Fin Per铆odo\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.endDate}\n            onChange={handlePayrollChange}\n          />\n          <input\n            type=\"date\"\n            name=\"paymentDate\"\n            placeholder=\"Fecha de Emisi贸n del Pago\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={payrollData.paymentDate}\n            onChange={handlePayrollChange}\n          />\n          <textarea\n            name=\"observations\"\n            placeholder=\"Observaciones\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n            value={payrollData.observations}\n            onChange={handlePayrollChange}\n          ></textarea>\n          <div className=\"col-span-full p-2 bg-gray-100 rounded-lg\">\n            <p className=\"font-semibold\">Monto Neto a Recibir: ${calculateNetSalary()}</p>\n          </div>\n        </div>\n        <button\n          onClick={handleSendPayslipAction}\n          className=\"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mr-2\"\n        >\n          Guardar y Enviar Ficha\n        </button>\n      </div>\n\n      {/* Secci贸n de Pagos a Terceros / Mano de Obra Independiente */}\n      <div className=\"mb-8 p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Registrar Pago a Terceros / Mano de Obra</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <input\n            type=\"text\"\n            name=\"personName\"\n            placeholder=\"Nombre de la Persona/Empresa\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={thirdPartyPaymentData.personName}\n            onChange={handleThirdPartyPaymentChange}\n          />\n          <input\n            type=\"number\"\n            name=\"amount\"\n            placeholder=\"Monto del Pago\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={thirdPartyPaymentData.amount}\n            onChange={handleThirdPartyPaymentChange}\n          />\n          <input\n            type=\"text\"\n            name=\"description\"\n            placeholder=\"Descripci贸n del Trabajo/Servicio\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={thirdPartyPaymentData.description}\n            onChange={handleThirdPartyPaymentChange}\n          />\n          <input\n            type=\"date\"\n            name=\"date\"\n            placeholder=\"Fecha del Pago\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={thirdPartyPaymentData.date}\n            onChange={handleThirdPartyPaymentChange}\n          />\n        </div>\n        <button\n          onClick={handleAddThirdPartyPaymentAction}\n          className=\"mt-4 bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors\"\n        >\n          Registrar Pago a Tercero\n        </button>\n      </div>\n\n      {/* Secci贸n de Asignaci贸n de Tareas */}\n      <div className=\"p-4 border rounded-lg bg-gray-50\">\n        <h4 className=\"text-lg font-semibold mb-3\">Asignar Tarea</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <select\n            name=\"employeeId\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={taskData.employeeId}\n            onChange={handleTaskChange}\n          >\n            <option value=\"\">Selecciona Empleado</option>\n            {employees.map(emp => (\n              <option key={emp.id} value={emp.id}>{emp.name}</option>\n            ))}\n          </select>\n          <input\n            type=\"text\"\n            name=\"taskType\"\n            placeholder=\"Tipo de Tarea\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={taskData.taskType}\n            onChange={handleTaskChange}\n          />\n          <textarea\n            name=\"description\"\n            placeholder=\"Descripci贸n de la tarea\"\n            rows=\"2\"\n            className=\"w-full px-4 py-2 border rounded-lg col-span-full\"\n            value={taskData.description}\n            onChange={handleTaskChange}\n          ></textarea>\n          <input\n            type=\"text\"\n            name=\"toolsUsed\"\n            placeholder=\"Herramientas utilizadas\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={taskData.toolsUsed}\n            onChange={handleTaskChange}\n          />\n          <input\n            type=\"text\"\n            name=\"reason\"\n            placeholder=\"Motivo (Opcional)\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={taskData.reason}\n            onChange={handleTaskChange}\n          />\n          <select\n            name=\"status\"\n            className=\"w-full px-4 py-2 border rounded-lg\"\n            value={taskData.status}\n            onChange={handleTaskChange}\n          >\n            <option value=\"pendiente\">Pendiente</option>\n            <option value=\"en_progreso\">En Progreso</option>\n            <option value=\"completada\">Completada</option>\n          </select>\n        </div>\n        <button\n          onClick={handleAssignTaskAction}\n          className=\"mt-4 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors mr-2\"\n        >\n          Asignar y Enviar Tarea\n        </button>\n      </div>\n\n      {/* Historial de Tareas Asignadas */}\n      <h4 className=\"text-lg font-semibold mb-3 mt-8\">Historial de Tareas</h4>\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white border\">\n          <thead>\n            <tr className=\"bg-gray-100\">\n              <th className=\"py-2 px-4 border\">Empleado</th>\n              <th className=\"py-2 px-4 border\">Tipo</th>\n              <th className=\"py-2 px-4 border\">Descripci贸n</th>\n              <th className=\"py-2 px-4 border\">Estado</th>\n              <th className=\"py-2 px-4 border\">Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {tasks.map(task => (\n              <tr key={task.id} className=\"hover:bg-gray-50\">\n                <td className=\"py-2 px-4 border\">{employees.find(emp => emp.id === task.employeeId)?.name || 'N/A'}</td>\n                <td className=\"py-2 px-4 border\">{task.taskType}</td>\n                <td className=\"py-2 px-4 border\">{task.description}</td>\n                <td className=\"py-2 px-4 border\">{task.status}</td>\n                <td className=\"py-2 px-4 border\">\n                  <button\n                    onClick={() => handleGeneratePdf('Asignaci贸n de Tarea', task, `task-ficha-${task.id}`)}\n                    className=\"text-blue-600 hover:underline mr-2\"\n                  >\n                    Ver PDF\n                  </button>\n                  <button\n                    onClick={() => onDeleteTask(task.id)}\n                    className=\"text-red-600 hover:underline\"\n                  >\n                    Eliminar\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Historial de Fichas de Pago */}\n      <h4 className=\"text-lg font-semibold mb-3 mt-8 cursor-pointer flex items-center justify-between bg-gray-100 p-2 rounded-lg\" onClick={() => setShowPayslipHistory(!showPayslipHistory)}>\n        Historial de Fichas de Pago\n        <svg className={`w-5 h-5 transform transition-transform ${showPayslipHistory ? 'rotate-180' : ''}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\"></path></svg>\n      </h4>\n      {showPayslipHistory && (\n        <div className=\"overflow-x-auto\">\n          {Object.keys(groupedPayslips).length === 0 ? (\n            <p className=\"text-gray-600\">No hay fichas de pago registradas.</p>\n          ) : (\n            Object.keys(groupedPayslips).sort((a, b) => {\n              // Ordenar por a帽o y luego por mes (descendente)\n              const [monthA, yearA] = a.split(' ');\n              const [monthB, yearB] = b.split(' ');\n              const dateA = new Date(`${monthA} 1, ${yearA}`);\n              const dateB = new Date(`${monthB} 1, ${yearB}`);\n              return dateB - dateA;\n            }).map(monthYear => (\n              <div key={monthYear} className=\"mb-6\">\n                <h5 className=\"text-md font-semibold mb-2 bg-gray-100 p-2 rounded-lg\">{monthYear}</h5>\n                <table className=\"min-w-full bg-white border\">\n                  <thead>\n                    <tr className=\"bg-gray-50\">\n                      <th className=\"py-2 px-4 border\">ID Ficha</th>\n                      <th className=\"py-2 px-4 border\">Empleado</th>\n                      <th className=\"py-2 px-4 border\">Monto Neto</th>\n                      <th className=\"py-2 px-4 border\">Per铆odo</th>\n                      <th className=\"py-2 px-4 border\">Fecha Pago</th>\n                      <th className=\"py-2 px-4 border\">Acciones</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {groupedPayslips[monthYear].map(ps => (\n                      <tr key={ps.id} className=\"hover:bg-gray-50\">\n                        <td className=\"py-2 px-4 border\">{ps.id}</td>\n                        <td className=\"py-2 px-4 border\">{employees.find(emp => emp.id === ps.employeeId)?.name || 'N/A'}</td>\n                        <td className=\"py-2 px-4 border\">${(parseFloat(ps.netSalary) || 0).toFixed(2)}</td>\n                        <td className=\"py-2 px-4 border\">{ps.startDate} al {ps.endDate}</td>\n                        <td className=\"py-2 px-4 border\">{ps.paymentDate}</td>\n                        <td className=\"py-2 px-4 border\">\n                          <button\n                            onClick={() => handleGeneratePdf('Ficha de Pago', ps, `payslip-ficha-${ps.id}`)}\n                            className=\"text-blue-600 hover:underline mr-2\"\n                          >\n                            Ver PDF\n                          </button>\n                          <button\n                            onClick={() => onDeletePayslip(ps.id)}\n                            className=\"text-red-600 hover:underline\"\n                          >\n                            Eliminar\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n\n      {/* Historial de Pagos a Terceros */}\n      <h4 className=\"text-lg font-semibold mb-3 mt-8\">Historial de Pagos a Terceros</h4>\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white border\">\n          <thead>\n            <tr className=\"bg-gray-100\">\n              <th className=\"py-2 px-4 border\">ID Pago</th>\n              <th className=\"py-2 px-4 border\">Persona/Empresa</th>\n              <th className=\"py-2 px-4 border\">Descripci贸n</th>\n              <th className=\"py-2 px-4 border\">Monto</th>\n              <th className=\"py-2 px-4 border\">Fecha</th>\n              <th className=\"py-2 px-4 border\">Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {thirdPartyPayments.map(tpp => (\n              <tr key={tpp.id} className=\"hover:bg-gray-50\">\n                <td className=\"py-2 px-4 border\">{tpp.id}</td>\n                <td className=\"py-2 px-4 border\">{tpp.personName}</td>\n                <td className=\"py-2 px-4 border\">{tpp.description}</td>\n                <td className=\"py-2 px-4 border\">${(parseFloat(tpp.amount) || 0).toFixed(2)}</td>\n                <td className=\"py-2 px-4 border\">{tpp.date}</td>\n                <td className=\"py-2 px-4 border\">\n                  <button\n                    onClick={() => handleGeneratePdf('Pago a Tercero', tpp, `thirdparty-ficha-${tpp.id}`)}\n                    className=\"text-blue-600 hover:underline mr-2\"\n                  >\n                    Ver PDF\n                  </button>\n                  <button\n                    onClick={() => onDeleteThirdPartyPayment(tpp.id)}\n                    className=\"text-red-600 hover:underline\"\n                  >\n                    Eliminar\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Plantilla oculta para generar PDF de Pago a Tercero */}\n      {thirdPartyPayments.map(tpp => (\n        <div key={`thirdparty-ficha-${tpp.id}`} id={`thirdparty-ficha-${tpp.id}`} style={{ position: 'absolute', left: '-9999px', top: '-9999px' }}>\n          <div style={{ width: '210mm', padding: '15mm', fontFamily: 'Arial, sans-serif', fontSize: '10pt', color: '#333', backgroundColor: '#fff' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15mm', paddingBottom: '5mm', borderBottom: '1px solid #eee;' }}>\n              <img src=\"${logoPlaceholder}\" alt=\"Logo Finca\" style=\"width: 20mm; height: 20mm; object-fit: contain;\" />\n              <div style=\"text-align: right;\">\n                <h1 style=\"font-size: 18pt; margin: 0; color: #2c3e50;\">${farmName}</h1>\n                <p style=\"font-size: 10pt; margin: 0; color: #7f8c8d;\">Comprobante de Pago a Tercero</p>\n              </div>\n            </div>\n            <h2 style=\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\">Detalles del Pago</h2>\n            <p style=\"margin-bottom: 5px;\"><strong>ID Pago:</strong> {tpp.id}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Fecha de Pago:</strong> {tpp.date}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Persona/Empresa:</strong> {tpp.personName}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Descripci贸n del Trabajo:</strong> {tpp.description}</p>\n            <h2 style=\"text-align: right; font-size: 16pt; color: #2c3e50;\">Monto: ${parseFloat(tpp.amount).toFixed(2)}</h2>\n            <div style=\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\">\n              <p>Generado por Campo Inteligente</p>\n              <p>Administrador: ${adminName}</p>\n            </div>\n          </div>\n        </div>\n      ))}\n\n      {/* Plantilla oculta para generar PDF de Asignaci贸n de Tarea */}\n      {tasks.map(task => (\n        <div key={`task-ficha-${task.id}`} id={`task-ficha-${task.id}`} style={{ position: 'absolute', left: '-9999px', top: '-9999px' }}>\n          <div style={{ width: '210mm', padding: '15mm', fontFamily: 'Arial, sans-serif', fontSize: '10pt', color: '#333', backgroundColor: '#fff' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15mm', paddingBottom: '5mm', borderBottom: '1px solid #eee;' }}>\n              <img src=\"${logoPlaceholder}\" alt=\"Logo Finca\" style=\"width: 20mm; height: 20mm; object-fit: contain;\" />\n              <div style=\"text-align: right;\">\n                <h1 style=\"font-size: 18pt; margin: 0; color: #2c3e50;\">${farmName}</h1>\n                <p style=\"font-size: 10pt; margin: 0; color: #7f8c8d;\">Asignaci贸n de Tarea</p>\n              </div>\n            </div>\n            <h2 style=\"font-size: 14pt; margin-bottom: 10mm; color: #2c3e50;\">Detalles de la Tarea</h2>\n            <p style=\"margin-bottom: 5px;\"><strong>ID Tarea:</strong> {task.id}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Empleado:</strong> {employees.find(emp => emp.id === task.employeeId)?.name || 'N/A'}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Tipo de Tarea:</strong> {task.taskType}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Descripci贸n:</strong> {task.description}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Herramientas:</strong> {task.toolsUsed || 'N/A'}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Motivo:</strong> {task.reason || 'N/A'}</p>\n            <p style=\"margin-bottom: 5px;\"><strong>Estado:</strong> {task.status}</p>\n            <div style=\"text-align: center; margin-top: 20mm; font-size: 9pt; color: #7f8c8d; border-top: 1px solid #eee; padding-top: 10mm;\">\n              <p>Generado por Campo Inteligente</p>\n              <p>Administrador: ${adminName}</p>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default PersonnelManagementPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}